var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MapScene_1 = require("./battle/map/view/MapScene");
const RedTipMgr_1 = require("./redTip/RedTipMgr");
const ViewMgr_1 = require("./view/base/ViewMgr");
const PanelRegister_1 = require("./view/base/PanelRegister");
class App {
    constructor() {
        this.init();
    }
    init() {
        Laya.stage.addChild(this.mapScene = new MapScene_1.default);
        this.viewMgr = ViewMgr_1.default.ins;
        this.redTipMgr = new RedTipMgr_1.default;
        ViewMgr_1.default.ins.openPanel(PanelRegister_1.PanelRegister.PANEL4);
    }
}
exports.default = App;
},{"./battle/map/view/MapScene":11,"./redTip/RedTipMgr":16,"./view/base/PanelRegister":33,"./view/base/ViewMgr":34}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
const GameUI_1 = require("./script/GameUI");
const GameControl_1 = require("./script/GameControl");
const Bullet_1 = require("./script/Bullet");
const DropBox_1 = require("./script/DropBox");
/*
* 游戏初始化配置;
*/
class GameConfig {
    constructor() { }
    static init() {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameUI.ts", GameUI_1.default);
        reg("script/GameControl.ts", GameControl_1.default);
        reg("script/Bullet.ts", Bullet_1.default);
        reg("script/DropBox.ts", DropBox_1.default);
    }
}
GameConfig.width = 720;
GameConfig.height = 1280;
GameConfig.scaleMode = "showall";
GameConfig.screenMode = "none";
GameConfig.alignV = "top";
GameConfig.alignH = "left";
GameConfig.startScene = "test/Astar.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = false;
GameConfig.physicsDebug = false;
GameConfig.exportSceneToJson = true;
exports.default = GameConfig;
GameConfig.init();
},{"./script/Bullet":18,"./script/DropBox":19,"./script/GameControl":20,"./script/GameUI":21}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const GameConfig_1 = require("./GameConfig");
const ResourceMgr_1 = require("./ResourceMgr");
const PanelRegister_1 = require("./view/base/PanelRegister");
const ViewMgr_1 = require("./view/base/ViewMgr");
const App_1 = require("./App");
class Main {
    constructor() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    onVersionLoaded() {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        // Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
        this.onConfigLoaded();
        ResourceMgr_1.default.ins.startCheck();
    }
    onConfigLoaded() {
        //加载IDE指定的场景
        // GameConfig.startScene && Laya.Scene.open(GameConfig.startScene,true,null,Laya.Handler.create(this,this.openScene));
        Main.app = new App_1.default;
        this.createBtn(["btn1", () => { ViewMgr_1.default.ins.openPanel(PanelRegister_1.PanelRegister.PANEL1); }], ["btn2", () => { ViewMgr_1.default.ins.openPanel(PanelRegister_1.PanelRegister.PANEL2); }], ["btn3", () => { ViewMgr_1.default.ins.openPanel(PanelRegister_1.PanelRegister.PANEL3); }]);
    }
    createBtn(...btns) {
        let _x = 0;
        for (let arr of btns) {
            let lab = new Laya.Label;
            lab.color = "#fff";
            lab.text = arr[0];
            Laya.stage.addChild(lab);
            lab.x = _x;
            lab.fontSize = 30;
            _x += 100;
            lab.on(Laya.Event.CLICK, this, arr[1]);
        }
    }
    openScene(sence) {
    }
}
//激活启动类
new Main();
},{"./App":1,"./GameConfig":2,"./ResourceMgr":4,"./view/base/PanelRegister":33,"./view/base/ViewMgr":34}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ViewMgr_1 = require("./view/base/ViewMgr");
/**
 * 散图完全计数管理
 * 图集和序列帧动画中间架构一层大资源计数管理
 */
class ResourceMgr {
    constructor() {
        this.clearAtlasQueue = [];
        this.clearQueue = [];
        this.clearMovieQueue = [];
        //大图集引用计数
        this.atlasMap = {};
        this._movieMap = {};
        this._movieJsonMap = {};
        this._movieRefrenceMap = {};
    }
    static get ins() {
        return ResourceMgr._ins || (ResourceMgr._ins = new ResourceMgr);
    }
    startCheck() {
        Laya.timer.loop(ResourceMgr.checkClearTime, this, this.loopCheckTexture);
        Laya.timer.frameLoop(1, this, this.loopDestroyTexture);
    }
    stopCheck() {
        Laya.timer.clear(this, this.loopCheckTexture);
        Laya.timer.clear(this, this.loopDestroyTexture);
    }
    /**
     * 检测图片资源，如果引用计数为0则添加到销毁队列
     */
    loopCheckTexture() {
        if (this.clearQueue.length)
            return;
        let temp;
        for (let k in Laya.Loader.loadedMap) {
            temp = Laya.Loader.loadedMap[k];
            if (!temp.bitmap)
                continue;
            if (temp["_referenceCount"] == 0 && temp.bitmap["_referenceCount"] == 0) {
                /**简易判断如果是图集就自动不清理（忽略只有一张图片的图集） */
                if (temp.bitmap.width == temp.width
                    && temp.bitmap.height == temp.height) {
                    //压入销毁队列
                    this.clearQueue.push(temp);
                }
            }
        }
        this.addMovieToClearQueue();
    }
    /**
     * 批量销毁图片
     */
    loopDestroyTexture() {
        ViewMgr_1.default.ins.tryDestoryPanel();
        let idx = 0;
        let texture = this.clearQueue.shift();
        while (texture) {
            /**重新判断是否有被引用，避免等待销毁过程中又被引用造成误删 */
            if (texture.bitmap && texture.bitmap["_referenceCount"] == 0) {
                if (texture.url) {
                    // Laya.loader.clearRes(texture.url);
                    this.clearEngineCache(texture.bitmap);
                    idx++;
                }
            }
            if (idx >= ResourceMgr.frameClearCount)
                break;
            texture = this.clearQueue.shift();
        }
        //清理一个大图集
        this.clearOneAtlas();
        //清理一个movie
        this.clearMovieRes();
    }
    //---------------------------------图集---------------------------
    addAtlasRefrence(url) {
        if (this.atlasMap[url]) {
            this.atlasMap[url] = this.atlasMap[url] + 1;
        }
        else {
            this.atlasMap[url] = 1;
        }
    }
    removeAtlasRefrence(url, autoClear = false) {
        if (!this.atlasMap[url]) {
            console.error("图集引用计数逻辑有问题");
        }
        else {
            this.atlasMap[url] = this.atlasMap[url] - 1;
            if (!this.atlasMap[url] && autoClear) {
                this.pushDestoryAtlasQueue(url);
            }
        }
    }
    /**添加清理队列 */
    pushDestoryAtlasQueue(atlas) {
        if (this.clearAtlasQueue.indexOf(atlas) == -1) {
            this.clearAtlasQueue.push(atlas);
        }
    }
    /**执行清理大图集 */
    clearOneAtlas() {
        if (!this.clearAtlasQueue.length)
            return;
        let url;
        //大图集添加引用计数有可能图集还没加载，如果没有资源表示还没加载
        for (let i = 0, len = this.clearAtlasQueue.length; i < len; i++) {
            if (Laya.loader.getRes(this.clearAtlasQueue[i])) {
                url = this.clearAtlasQueue.splice(i, 1)[0];
                break;
            }
        }
        if (url && !this.atlasMap[url]) {
            delete this.atlasMap[url];
            Laya.loader.clearRes(url);
            url = Laya.URL.formatURL(url.substring(0, url.lastIndexOf(".")) + ".png");
            this.clearEngineCache(Laya.loader.getRes(url));
        }
    }
    /**清理引擎的缓存 (彻底清理)*/
    clearEngineCache(texture) {
        if (texture) {
            Laya.Loader.clearRes(texture.url);
            let resource = Laya.Resource.getResourceByID(texture["id"]);
            resource && resource.destroy();
        }
    }
    //-----------------------movie-------------------------
    getMovieResource(path) {
        return __awaiter(this, void 0, void 0, function* () {
            if (!this._movieMap[path]) {
                yield new Promise((resolve, reject) => {
                    let imgPath = path.replace(".json", ".png");
                    Laya.loader.load([path, imgPath], Laya.Handler.create(this, () => {
                        let texture = Laya.Loader.getRes(imgPath);
                        let json = Laya.loader.getRes(path);
                        if (!texture || !json)
                            reject();
                        let res = {};
                        let cfg;
                        //防止被资源管理当散图清掉
                        texture.width++;
                        for (let k in json.res) {
                            cfg = json.res[k];
                            res[k] = Laya.Texture.create(texture, cfg.x, cfg.y, cfg.w, cfg.h);
                        }
                        this._movieMap[path] = res;
                        this._movieJsonMap[path] = json;
                        resolve();
                    }));
                });
            }
            return Promise.resolve(this._movieMap[path]);
        });
    }
    getMovieJson(path) {
        return this._movieJsonMap[path];
    }
    addMovieRefrence(path) {
        this._movieRefrenceMap[path] = this._movieRefrenceMap[path] ? this._movieRefrenceMap[path] + 1 : 1;
    }
    removeMovieRefrence(path) {
        if (!this._movieRefrenceMap[path]) {
            console.error("Movie资源计数错误");
        }
        this._movieRefrenceMap[path] = this._movieRefrenceMap[path] - 1;
    }
    clearMovieRes() {
        let path;
        while (path = this.clearMovieQueue.pop()) {
            if (this._movieRefrenceMap[path]) {
                break;
            }
        }
        if (!path)
            return;
        delete this._movieRefrenceMap[path];
        //json
        delete this._movieJsonMap[path];
        Laya.Loader.clearRes(path);
        if (this._movieMap[path]) {
            for (let k in this._movieMap[path]) {
                this._movieMap[path][k].destroy();
            }
        }
        //image
        Laya.loader.clearRes(path.replace(".json", ".png"));
    }
    //把引用为0的movie资源加入销毁队列
    addMovieToClearQueue() {
        for (let k in this._movieRefrenceMap) {
            if (!this._movieRefrenceMap[k]) {
                this.clearMovieQueue.indexOf(k) == -1 && this.clearMovieQueue.unshift(k);
            }
        }
    }
}
//每帧销毁资源最大数量
ResourceMgr.frameClearCount = 2;
ResourceMgr.checkClearTime = 1000;
exports.default = ResourceMgr;
},{"./view/base/ViewMgr":34}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 初始化一次寻路的地图 Astar.ins.init()
 * 开启寻路 Astar.ins.findPath()
 *
 */
class AStar {
    constructor() {
        this.openList = [];
        this.closeList = [];
    }
    static get ins() {
        if (!AStar._ins)
            AStar._ins = new AStar;
        return AStar._ins;
    }
    init(arr) {
        AStar.xNum = arr[0].length;
        AStar.yNum = arr.length;
        AStar.mapNodeList = arr;
    }
    /**曼哈顿估价法 */
    manhattan(fromNode, targetNode) {
        return Math.abs(fromNode.x - targetNode.x) * AStar.staticCost + Math.abs(fromNode.y - targetNode.y) * AStar.staticCost;
    }
    /**移动成本，影响走斜对角还是垂直 */
    getG(fromNode, targetNode) {
        return fromNode.x - targetNode.x == 0 || fromNode.y - targetNode.y == 0 ? 10 : 14;
    }
    /**获取周围8格 */
    getAroundNode(node) {
        let x = node.x % AStar.xNum;
        let y = node.y % AStar.yNum;
        let res = [];
        let map = AStar.mapNodeList;
        let temp;
        if (temp = map[y - 1]) {
            if (temp[x - 1]) {
                res.push(temp[x - 1]);
            }
            if (temp[x]) {
                res.push(temp[x]);
            }
            if (temp[x + 1]) {
                res.push(temp[x + 1]);
            }
        }
        if (map[y][x - 1]) {
            res.push(map[y][x - 1]);
        }
        if (map[y][x + 1]) {
            res.push(map[y][x + 1]);
        }
        if (temp = map[y + 1]) {
            if (temp[x - 1]) {
                res.push(temp[x - 1]);
            }
            if (temp[x]) {
                res.push(temp[x]);
            }
            if (temp[x + 1]) {
                res.push(temp[x + 1]);
            }
        }
        return res;
    }
    /**
     *
     * @param fromNode 起始点
     * @param toNode 目标点
     * @param moveType 移动类型，影响可穿越地形
     * @returns
     */
    findPath(fromNode, toNode, moveType) {
        if (fromNode == toNode || moveType < toNode.terrain)
            return [fromNode];
        fromNode.parent = null;
        this.openList.length = this.closeList.length = 0;
        this.openList.push(fromNode);
        fromNode.G = 0;
        let g;
        let index;
        while (fromNode = this.openList.pop()) {
            let around = this.getAroundNode(fromNode);
            this.closeList.push(fromNode);
            for (let node of around) {
                //找到目标
                if (node == toNode) {
                    node.parent = fromNode;
                    return this.parsePath(node);
                }
                if (this.closeList.indexOf(node) >= 0 || moveType < node.terrain)
                    continue;
                g = fromNode.G + this.getG(fromNode, node);
                index = this.openList.indexOf(node);
                if (index == -1) {
                    this.openList.push(node);
                    node.parent = fromNode;
                    node.H = this.manhattan(node, toNode);
                    node.G = g;
                    node.F = node.H + node.G;
                }
                else {
                    if (this.openList[index].G > g) {
                        node.G = g;
                        node.parent = fromNode;
                        node.F = this.openList[index].G + this.openList[index].H;
                    }
                }
            }
            this.openList.sort((a, b) => b.F - a.F);
        }
        return [toNode];
    }
    parsePath(node) {
        let res = [];
        do {
            res.push(node);
            node = node.parent;
        } while (node);
        return res;
    }
}
/**固定消耗 */
AStar.staticCost = 10;
exports.default = AStar;
/**按大小顺序，越大消耗越高 */
var terrain_type;
(function (terrain_type) {
    terrain_type[terrain_type["water"] = 0] = "water";
    terrain_type[terrain_type["normal"] = 1] = "normal";
    terrain_type[terrain_type["fly"] = 2] = "fly";
    terrain_type[terrain_type["unwalk"] = 3] = "unwalk";
})(terrain_type = exports.terrain_type || (exports.terrain_type = {}));
/**可以移动的方式 */
var move_type;
(function (move_type) {
    move_type[move_type["walk"] = 1] = "walk";
    move_type[move_type["fly"] = 2] = "fly";
})(move_type = exports.move_type || (exports.move_type = {}));
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**地图节点数据 */
class MapNode {
    release() {
        this.width = this.height = this.x = this.y =
            this.G = this.H = this.F = 0;
    }
    setTo(x, y, width, height) {
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
    }
}
exports.default = MapNode;
},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class MapGridInfo {
}
exports.default = MapGridInfo;
},{}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class MapMdl {
    static get ins() {
        if (!MapMdl._ins) {
            MapMdl._ins = new MapMdl;
        }
        return MapMdl._ins;
    }
}
exports.default = MapMdl;
},{}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const AStar_1 = require("../AStar");
const layaMaxUI_1 = require("../../../ui/layaMaxUI");
let startPoint = undefined, endPoint = undefined;
class AstarTest extends layaMaxUI_1.ui.test.AstarUI {
    constructor() {
        super();
        this.map = {};
        let arr = [];
        for (let i = 0; i < 30; i++) {
            let rol = [];
            arr.push(rol);
            for (let j = 0; j < 30; j++) {
                let node = new mapNode;
                let sp = new SpNode(node);
                this.map[`${j}_${i}`] = sp;
                sp.terrain = AStar_1.terrain_type.water;
                this.container.addChild(sp);
                sp.x = j * 15;
                sp.y = i * 15;
                node.x = j;
                node.y = i;
                node.width = 10;
                node.height = 10;
                rol.push(node);
            }
        }
        AStar_1.default.ins.init(arr);
        this.starBtn.on(Laya.Event.CLICK, this, () => {
            startPoint = null;
        });
        this.endBtn.on(Laya.Event.CLICK, this, () => {
            endPoint = null;
        });
        this.searchBtn.on(Laya.Event.CLICK, this, () => {
            let res = AStar_1.default.ins.findPath(startPoint, endPoint, AStar_1.move_type.walk);
            const fn = () => {
                if (!res.length) {
                    Laya.timer.clear(this, fn);
                    return;
                }
                let node = res.pop();
                this.map[`${node.x}_${node.y}`].graphics.clear();
            };
            Laya.timer.loop(300, this, fn);
        });
    }
    open(...args) { }
    close() { }
}
exports.default = AstarTest;
class mapNode {
}
class SpNode extends Laya.Box {
    constructor(node) {
        super();
        this.node = node;
        this.width = this.height = 10;
        this.on(Laya.Event.RIGHT_CLICK, this, () => {
            this.terrain = 3;
        });
        this.on(Laya.Event.CLICK, this, () => {
            if (startPoint === null) {
                startPoint = this.node;
                this.graphics.clear();
                return;
            }
            if (endPoint === null) {
                endPoint = this.node;
                this.graphics.clear();
                return;
            }
            if (this._terrain >= AStar_1.terrain_type.unwalk) {
                this._terrain = 0;
            }
            else {
                this._terrain++;
            }
            this.terrain = this._terrain;
        });
    }
    set terrain(type) {
        this._terrain = type;
        this.node.terrain = type;
        let color;
        switch (type) {
            case AStar_1.terrain_type.water:
                color = "#1628ef";
                break;
            case AStar_1.terrain_type.normal:
                color = "#7a80cd";
                break;
            case AStar_1.terrain_type.fly:
                color = "#c37acd";
                break;
            case AStar_1.terrain_type.unwalk:
                color = "#ee0e3b";
                break;
        }
        let s = this.graphics;
        s.clear();
        s.drawCircle(0, 0, 5, color);
    }
}
},{"../../../ui/layaMaxUI":22,"../AStar":5}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class MapGrid extends Laya.Image {
    release() {
        this.skin = null;
        this.removeSelf();
    }
}
exports.default = MapGrid;
},{}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Sprite = Laya.Sprite;
var Box = Laya.Box;
const PoolUtil_1 = require("../../../utils/pool/PoolUtil");
const AStar_1 = require("../AStar");
const Player_1 = require("../../player/Player");
const MapMdl_1 = require("../model/MapMdl");
const MapUtil_1 = require("./MapUtil");
const MapGridInfo_1 = require("../model/MapGridInfo");
/**[路径，水平个数，竖直个数，格子大小] */
const mapCfg = {
    1: ["./asset/map/80001/", 8, 6, 256],
};
const mapNodeMsg = [250, 250, 8, 4,
    1, 3, 3, 3, 3, 3, 3, 3,
    1, 1, 1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1, 1, 1,
    3, 1, 1, 1, 1, 1, 1, 3
];
/**地图显示层 */
class MapScene extends Sprite {
    constructor() {
        super();
        /**地图上所有的角色 */
        this.playerList = [];
        this.init();
    }
    init() {
        this.addChild(this.mapLayer = new SceneLayer);
        this.addChild(this.playerLayer = new SceneLayer);
        this.mapLayer.on(Laya.Event.CLICK, this, this.mapClik);
        this.ChangeMap(1);
        Laya.timer.frameLoop(1, this, this.loop);
    }
    ChangeMap(id) {
        let cfg = mapCfg[id];
        this.releaseMap();
        let node;
        let index = 1;
        for (let i = 0; i < cfg[2]; i++) {
            for (let j = 0; j < cfg[1]; j++) {
                node = PoolUtil_1.default.MapGrid.create(cfg[0] + index + ".jpg");
                index++;
                node.y = cfg[3] * i;
                node.x = cfg[3] * j;
                this.mapLayer.addChild(node);
            }
        }
        this.width = Laya.stage.width;
        this.height = Laya.stage.height;
        //格子
        let gwid = mapNodeMsg[0];
        let gheig = mapNodeMsg[1];
        let xNum = mapNodeMsg[2];
        let yNum = mapNodeMsg[3];
        let idx = 3;
        MapMdl_1.default.ins.AStarNodeWidth = gwid;
        MapMdl_1.default.ins.AStarNodeHeight = gheig;
        let gridArr = [];
        let rows;
        for (let i = 0; i < xNum; i++) {
            gridArr.push(rows = []);
            for (let j = 0; j < yNum; j++) {
                idx++;
                let info = new MapGridInfo_1.default;
                info.x = i;
                info.y = j;
                info.terrain = mapNodeMsg[idx];
                rows.push(info);
            }
        }
        AStar_1.default.ins.init(MapMdl_1.default.ins.mapNode = gridArr);
    }
    mapClik(e) {
    }
    addPlayer(info, bornX, bornY, control) {
        let player = PoolUtil_1.default.player.create(Player_1.default);
        this.playerList.push(player);
        player.info = info;
        player.x = bornX;
        player.y = bornY;
        player.control = control;
        player.mapNode = MapUtil_1.default.getMapNodeByPos(bornX, bornY);
    }
    loop() {
        let costTime = Laya.timer.delta;
        for (let player of this.playerList) {
            player.loop(costTime);
        }
    }
    releaseMap() {
        let node;
        while (this.mapLayer.numChildren) {
            node = this.getChildAt(0);
            PoolUtil_1.default.MapGrid.release(node);
        }
        let player;
        while (this.playerLayer.numChildren) {
            player = this.getChildAt(0);
            PoolUtil_1.default.player.release(player);
        }
    }
}
exports.default = MapScene;
class SceneLayer extends Box {
    constructor() {
        super();
        this.top = this.left = this.bottom = this.right = 0;
    }
}
},{"../../../utils/pool/PoolUtil":26,"../../player/Player":13,"../AStar":5,"../model/MapGridInfo":7,"../model/MapMdl":8,"./MapUtil":12}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MapMdl_1 = require("../model/MapMdl");
const PlayerView_1 = require("../../player/PlayerView");
class MapUtil {
    /**获取寻路格子 */
    static getMapNodeByPos(x, y) {
        if (!MapMdl_1.default.ins.mapNode)
            return null;
        let _x = Math.floor(x / MapMdl_1.default.ins.AStarNodeWidth);
        let _y = Math.floor(y / MapMdl_1.default.ins.AStarNodeHeight);
        return MapMdl_1.default.ins.mapNode[_y] ? MapMdl_1.default.ins.mapNode[_y][_x] : null;
    }
    /**获取寻路格子中心坐标 */
    static getMapNodeCenterPos(node, point = new Laya.Point) {
        point.x = node.x + (node.width >> 1);
        point.y = node.y + (node.height >> 1);
        return point;
    }
    /**获取方向 */
    static getDirection(startX, startY, endX, endY) {
        let x = startX - endX;
        let y = startY - endY;
        let key = 0;
        let temp;
        if (x > 0) {
            key |= 0b0100;
        }
        else if (x < 0) {
            key |= 0b0001;
        }
        if (y > 0) {
            key |= 0b0010;
        }
        else if (y < 0) {
            key |= 0b0001;
        }
        return MapUtil.dirMap[key];
    }
}
MapUtil.dirMap = {
    [0b1000]: PlayerView_1.direction.up,
    [0b1100]: PlayerView_1.direction.up_right,
    [0b0100]: PlayerView_1.direction.right,
    [0b0110]: PlayerView_1.direction.right_down,
    [0b0010]: PlayerView_1.direction.dwon,
    [0b0011]: PlayerView_1.direction.down_left,
    [0b1001]: PlayerView_1.direction.left_up,
};
exports.default = MapUtil;
},{"../../player/PlayerView":14,"../model/MapMdl":8}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const PlayerView_1 = require("./PlayerView");
class Player extends PlayerView_1.default {
    constructor() {
        super(...arguments);
        this.nextPoint = new Laya.Point;
        this.currentPosition = new Laya.Point; //最终目标点
    }
    /**@private */
    loop(costTime) {
    }
    move(x, y) {
    }
    clear() {
        super.clear();
        this.info = null;
    }
    dispose() {
        this.clear();
        this.control.dispose();
        this.control = null;
    }
}
exports.default = Player;
},{"./PlayerView":14}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const PoolUtil_1 = require("../../utils/pool/PoolUtil");
class PlayerView extends Laya.Box {
    constructor() {
        super(...arguments);
        this.direction = direction.dwon;
        this.movieMap = new Map;
    }
    sortLayer() {
        this._children.sort((a, b) => a["mvType"] - b["mvType"]);
    }
    setInfo(info) {
        this.appearance = info;
    }
    clear() {
        this.appearance = null;
        this.movieMap.forEach((v) => {
            v.removeSelf();
            PoolUtil_1.default.Movie.release(v);
        });
        this.movieMap.clear();
    }
    play(action, dir = this.direction) {
        this.direction = dir;
        this.action = action;
        this.setAppearance(dir, action);
    }
    setMovie(type, url) {
        let mv = this.movieMap.get(type) || PoolUtil_1.default.Movie.create();
        mv.loopPlay = true;
        mv["mvType"] = type;
        mv.autoPlay = true;
        mv.skin = url;
        this.movieMap.set(type, mv);
        this.addChild(mv);
        this.callLater(this.sortLayer);
    }
    /**设置模型 */
    setAppearance(dir, action) {
        let info = this.appearance;
        if (!info)
            return;
        this.setMovie(player_movie_type.body, this.getUrlByID(info.bodyID, dir, action));
    }
    getUrlByID(id, dir, action) {
        let dirFlag = dir > 4 ? 8 - dir : dir;
        return `asset/${id}${action}${dirFlag}.json`;
    }
}
exports.default = PlayerView;
/**所有序列帧类型，层级 */
var player_movie_type;
(function (player_movie_type) {
    player_movie_type[player_movie_type["body"] = 0] = "body";
    player_movie_type[player_movie_type["weapon"] = 1] = "weapon";
})(player_movie_type = exports.player_movie_type || (exports.player_movie_type = {}));
var direction;
(function (direction) {
    direction[direction["up"] = 0] = "up";
    direction[direction["up_right"] = 1] = "up_right";
    direction[direction["right"] = 2] = "right";
    direction[direction["right_down"] = 3] = "right_down";
    direction[direction["dwon"] = 4] = "dwon";
    direction[direction["down_left"] = 5] = "down_left";
    direction[direction["left"] = 6] = "left";
    direction[direction["left_up"] = 7] = "left_up";
})(direction = exports.direction || (exports.direction = {}));
var action_type;
(function (action_type) {
    action_type[action_type["stand"] = 1] = "stand";
    action_type[action_type["run"] = 2] = "run";
    action_type[action_type["attack"] = 3] = "attack";
})(action_type = exports.action_type || (exports.action_type = {}));
},{"../../utils/pool/PoolUtil":26}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ArrayUtils_1 = require("../utils/ArrayUtils");
const MapStruct_1 = require("../utils/MapStruct");
/**
 * 红点管理
 * 分离显示和数据，每个节点都有一个状态，可以把红点实例与任意节点绑定/解绑
 * 节点可以绑定handle或者通过关系其他节点实现更新，更新是自动的，同时如果有绑定实例，实例的状态也会自动更新
 *
 */
class RedTipBase extends Laya.EventDispatcher {
    constructor() {
        super(...arguments);
        //最近一次子节点触发更新帧id
        this.renderFrameID = 0;
        //一帧内子节点更新触发的次数（所有类型的集合）
        this.childrenChageTime = 0;
        //是否取消子节点触发更新（防止出现死循环）
        this.lockChildrenChange = false;
        // private tempName:string;
        /**关心列表 */
        this.careMap = new MapStruct_1.MapStruct;
        /**红点状态缓存 */
        this.stateMap = new MapStruct_1.MapStruct;
        /**绑定红点实例 */
        this.bindRedTip = new MapStruct_1.MapStruct;
        /**节点与handle映射 */
        this.registerMap = new MapStruct_1.MapStruct;
    }
    static get ins() {
        let s = this;
        return s["_ins_"] || (s["_ins_"] = new s);
    }
    _init() {
        this.init();
    }
    init() {
        throw new Error("在init方法中绑定触发点或者关系节点");
    }
    /**
     * 注册节点更新handle,没注册也不影响，可以只关心其他节点，节点的创建是任意的
     * @param name
     * @param call
     * @param caller
     */
    register(name, fn, caller) {
        this.registerMap.set(name, [fn, caller]);
        return this.bindHandle.bind(this, name);
    }
    /**
     * 绑定外部触发点，比如游戏模块数据层更新数据，绑定红点触发，在调用完register后面直接调用
     */
    bindHandle(name, eventName, dispatcher) {
        dispatcher.on(eventName, this, this.emit, [name]);
        return this.bindHandle.bind(this, name);
    }
    /**
     * 绑定关心节点
     * @param t
     * @returns
     */
    takecare(t) {
        this.temp = t;
        return this;
    }
    /**
     * 绑定本红点管理器的红点节点
     */
    bindName(...flags) {
        this.tempTarget = flags;
        return this;
    }
    /**
     * 关心节点的红点节点名
     */
    care(...flags) {
        //为关系节点添加改变触发handle
        for (let f of flags) {
            this.temp.on(f, this, this.childrenChange, [this.tempTarget]);
        }
        let strArr;
        for (let k of this.tempTarget) {
            let ls = this.careMap.get(k);
            if (ls) {
                let target = ArrayUtils_1.ArrayUtils.find(ls, (v) => {
                    return v[0] == this.temp;
                });
                if (target) {
                    strArr = ArrayUtils_1.ArrayUtils.unique(target[1].concat(flags));
                    target[1].length = 0;
                    target[1].push(...strArr);
                }
                else {
                    ls.push([this.temp, flags]);
                }
            }
            else {
                this.careMap.set(k, [[this.temp, flags]]);
            }
        }
    }
    /**
     * 触发红点计算
     * @param flag
     */
    emit(flag) {
        this.change(flag);
    }
    /**
     * 为红点绑定执行handle
     * @param name 红点名
     * @param redTip 红点实例
     */
    bindRed(name, redTip) {
        let ls = this.bindRedTip.get(name);
        if (!ls) {
            this.bindRedTip.set(name, [redTip]);
        }
        else {
            if (ls.indexOf(redTip) == -1) {
                ls.push(redTip);
            }
        }
        redTip.visible = this.getStatus(name);
    }
    /**
     * 解绑红点，只是解绑红点显示，数据层仍会计算
     * @param name
     * @param redTip
     */
    unBindRed(name, redTip) {
        let ls = this.bindRedTip.get(name);
        if (ls) {
            ls.splice(ls.indexOf(redTip), 1);
        }
    }
    /**
     * 获取红点节点状态
     */
    getStatus(flag) {
        let res = !!this.stateMap.get(flag);
        if (res)
            return true;
        let map = this.careMap.get(flag);
        if (map) {
            for (let t of map) {
                for (let k of t[1]) {
                    if (t[0].getStatus(k))
                        return true;
                }
            }
        }
        return false;
    }
    setRedTip(flag, state) {
        let ls = this.bindRedTip.get(flag);
        if (ls) {
            for (let i of ls) {
                i.visible = state;
            }
        }
    }
    /**子节点状态改变，不会触发新计算，拿缓存 */
    childrenChange(targerFlags, status) {
        if (this.lockChildrenChange)
            return;
        let value = status;
        for (let k of targerFlags) {
            status = value || this.getStatus(k);
            //设置红点实例
            this.setRedTip(k, status);
            //通知父节点
            this.event(k, value);
        }
        //加上验证是否循环关心红点
        let frameID = Laya.stage["_renderCount"];
        if (frameID) {
            if (this.renderFrameID != frameID) {
                this.childrenChageTime = 1;
            }
            else {
                this.childrenChageTime++;
            }
            if (this.childrenChageTime > 1000) { //一帧内触发1000次以上子节点触发更新，表示应该是出现循环引用了
                console.error(this.constructor.name + "一帧触发太多次子节点更新相应，该节点已经停止子节点触发更新，应该是出现循环关心？？？");
                this.lockChildrenChange = true;
            }
        }
    }
    /**本节点状态改变 */
    change(flag) {
        let status = this.calculate(flag);
        this.stateMap.set(flag, status);
        status = status || this.getStatus(flag);
        //更新视图
        this.setRedTip(flag, status);
        //通知父节点
        this.event(flag, status);
    }
    /**重新计算 */
    calculate(flag) {
        if (this.registerMap.has(flag)) {
            let [fn, caller] = this.registerMap.get(flag);
            let res = fn.call(caller);
            // this.stateMap.set(flag, res);
            return res;
        }
        else {
            console.warn(`红点钩子${flag}未添加处理函数`);
            return false;
        }
    }
}
exports.default = RedTipBase;
},{"../utils/ArrayUtils":23,"../utils/MapStruct":24}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const RedTipTest_1 = require("./RedTipTest");
class RedTipMgr {
    constructor() {
        this.redArray = [];
        this.init();
    }
    init() {
        this.register();
        for (let i of this.redArray) {
            i._init();
        }
    }
    register() {
        this.redArray = [
            RedTipTest_1.red1.ins,
            RedTipTest_1.red2.ins,
        ];
    }
}
exports.default = RedTipMgr;
},{"./RedTipTest":17}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const layaMaxUI_1 = require("../ui/layaMaxUI");
const RedTipBase_1 = require("./RedTipBase");
class RedTipTest extends layaMaxUI_1.ui.test.ViewTestUI {
    constructor() {
        super();
        this.loop();
    }
    open() {
        let img = new Laya.Image;
        img.skin = "comp/image.png";
        this.addChild(img);
    }
    createView(view) {
        super.createView(view);
        red1.ins.bindRed("A1", this.A1);
        red1.ins.bindRed("A2", this.A2);
        red1.ins.bindRed("A3", this.A3);
        red2.ins.bindRed("B1", this.B1);
        red2.ins.bindRed("B2", this.B2);
    }
    loop() {
        Laya.timer.loop(500, this, () => {
            // red1.ins.emit("A2")
            // red1.ins.emit("A1")
            // red1.ins.emit("A3")
            // red2.ins.emit("B1")
            // red2.ins.emit("B2")
            TestMDl.ins.event("UPDATE_INFO");
            TestMDl.ins.event("UPDATE_LV");
        });
    }
}
exports.default = RedTipTest;
class red1 extends RedTipBase_1.default {
    constructor() {
        super();
    }
    init() {
        //绑定handle，触发点
        this.register("A2", this.A2, this)("UPDATE_INFO", TestMDl.ins)("UPDATE_LV", TestMDl.ins);
        this.register("A3", this.A3, this)("UPDATE_LV", TestMDl.ins);
        //构建关心列表
        this.takecare(red2.ins).bindName("A2").care("B1", "B2");
        this.takecare(red2.ins).bindName("A1").care("B1", "B2");
    }
    A1() {
        let a = 0;
        for (let i = 0; i < 100000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
    A2() {
        let a = 0;
        for (let i = 0; i < 100000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
    A3() {
        let a = 0;
        for (let i = 0; i < 100000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
}
exports.red1 = red1;
class red2 extends RedTipBase_1.default {
    constructor() {
        super();
    }
    init() {
        this.register("B1", this.B1, this)("UPDATE_LV", TestMDl.ins);
        this.register("B2", this.B2, this)("UPDATE_INFO", TestMDl.ins);
        this.takecare(red1.ins).bindName("B1").care("A1");
    }
    B1() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
    B2() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
}
exports.red2 = red2;
class TestMDl extends Laya.EventDispatcher {
    static get ins() {
        return TestMDl["_ins"] || (TestMDl["_ins"] = new TestMDl);
    }
}
},{"../ui/layaMaxUI":22,"./RedTipBase":15}],18:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 子弹脚本，实现子弹飞行逻辑及对象池回收机制
 */
class Bullet extends Laya.Script {
    constructor() { super(); }
    onEnable() {
        //设置初始速度
        var rig = this.owner.getComponent(Laya.RigidBody);
        rig.setVelocity({ x: 0, y: -10 });
    }
    onTriggerEnter(other, self, contact) {
        //如果被碰到，则移除子弹
        this.owner.removeSelf();
    }
    onUpdate() {
        //如果子弹超出屏幕，则移除子弹
        if (this.owner.y < -10) {
            this.owner.removeSelf();
        }
    }
    onDisable() {
        //子弹被移除时，回收子弹到对象池，方便下次复用，减少对象创建开销
        Laya.Pool.recover("bullet", this.owner);
    }
}
exports.default = Bullet;
},{}],19:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const GameUI_1 = require("./GameUI");
/**
 * 掉落盒子脚本，实现盒子碰撞及回收流程
 */
class DropBox extends Laya.Script {
    constructor() {
        super();
        /**盒子等级 */
        this.level = 1;
    }
    onEnable() {
        /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
        this._rig = this.owner.getComponent(Laya.RigidBody);
        this.level = Math.round(Math.random() * 5) + 1;
        this._text = this.owner.getChildByName("levelTxt");
        this._text.text = this.level + "";
    }
    onUpdate() {
        //让持续盒子旋转
        this.owner.rotation++;
    }
    onTriggerEnter(other, self, contact) {
        var owner = this.owner;
        if (other.label === "buttle") {
            //碰撞到子弹后，增加积分，播放声音特效
            if (this.level > 1) {
                this.level--;
                this._text.changeText(this.level + "");
                owner.getComponent(Laya.RigidBody).setVelocity({ x: 0, y: -10 });
                Laya.SoundManager.playSound("sound/hit.wav");
            }
            else {
                if (owner.parent) {
                    let effect = Laya.Pool.getItemByCreateFun("effect", this.createEffect, this);
                    effect.pos(owner.x, owner.y);
                    owner.parent.addChild(effect);
                    effect.play(0, true);
                    owner.removeSelf();
                    Laya.SoundManager.playSound("sound/destroy.wav");
                }
            }
            GameUI_1.default.instance.addScore(1);
        }
        else if (other.label === "ground") {
            //只要有一个盒子碰到地板，则停止游戏
            owner.removeSelf();
            GameUI_1.default.instance.stopGame();
        }
    }
    /**使用对象池创建爆炸动画 */
    createEffect() {
        let ani = new Laya.Animation();
        ani.loadAnimation("test/TestAni.ani");
        ani.on(Laya.Event.COMPLETE, null, recover);
        function recover() {
            ani.removeSelf();
            Laya.Pool.recover("effect", ani);
        }
        return ani;
    }
    onDisable() {
        //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
        Laya.Pool.recover("dropBox", this.owner);
    }
}
exports.default = DropBox;
},{"./GameUI":21}],20:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 游戏控制脚本。定义了几个dropBox，bullet，createBoxInterval等变量，能够在IDE显示及设置该变量
 * 更多类型定义，请参考官方文档
 */
class GameControl extends Laya.Script {
    constructor() {
        super();
        /** @prop {name:createBoxInterval,tips:"间隔多少毫秒创建一个下跌的容器",type:int,default:1000}*/
        this.createBoxInterval = 1000;
        /**开始时间*/
        this._time = 0;
        /**是否已经开始游戏 */
        this._started = false;
    }
    onEnable() {
        this._time = Date.now();
        this._gameBox = this.owner.getChildByName("gameBox");
        this.createBox();
    }
    onUpdate() {
        //每间隔一段时间创建一个盒子
        let now = Date.now();
        if (now - this._time > this.createBoxInterval) {
            this._time = now;
            this.createBox();
        }
    }
    createBox() {
        //使用对象池创建盒子
        let box = Laya.Pool.getItemByCreateFun("dropBox", this.dropBox.create, this.dropBox);
        box.pos(Math.random() * (Laya.stage.width - 100), -100);
        this._gameBox.addChild(box);
    }
    onStageClick(e) {
        //停止事件冒泡，提高性能，当然也可以不要
        // e.stopPropagation();
        //舞台被点击后，使用对象池创建子弹
        let flyer = Laya.Pool.getItemByCreateFun("bullet", this.bullet.create, this.bullet);
        flyer.pos(Laya.stage.mouseX, Laya.stage.mouseY);
        this._gameBox.addChild(flyer);
        console.log("click");
    }
    /**开始游戏，通过激活本脚本方式开始游戏*/
    startGame() {
        if (!this._started) {
            this._started = true;
            this.enabled = true;
        }
    }
    /**结束游戏，通过非激活本脚本停止游戏 */
    stopGame() {
        this._started = false;
        this.enabled = false;
        this.createBoxInterval = 1000;
        this._gameBox.removeChildren();
    }
}
exports.default = GameControl;
},{}],21:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const layaMaxUI_1 = require("./../ui/layaMaxUI");
const GameControl_1 = require("./GameControl");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
class GameUI extends layaMaxUI_1.ui.test.TestSceneUI {
    constructor() {
        super();
        GameUI.instance = this;
        //关闭多点触控，否则就无敌了
        Laya.MouseManager.multiTouchEnabled = false;
    }
    onEnable() {
        this._control = this.getComponent(GameControl_1.default);
        //点击提示文字，开始游戏
        this.tipLbll.on(Laya.Event.CLICK, this, this.onTipClick);
    }
    onTipClick(e) {
        this.tipLbll.visible = false;
        this._score = 0;
        this.scoreLbl.text = "";
        this._control.startGame();
    }
    /**增加分数 */
    addScore(value = 1) {
        this._score += value;
        this.scoreLbl.changeText("分数：" + this._score);
        //随着分数越高，难度增大
        if (this._control.createBoxInterval > 600 && this._score % 20 == 0)
            this._control.createBoxInterval -= 20;
    }
    /**停止游戏 */
    stopGame() {
        this.tipLbll.visible = true;
        this.tipLbll.text = "游戏结束了，点击屏幕重新开始";
        this._control.stopGame();
    }
}
exports.default = GameUI;
},{"./../ui/layaMaxUI":22,"./GameControl":20}],22:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ui;
(function (ui) {
    var test;
    (function (test) {
        class AstarUI extends Laya.View {
            constructor() { super(); }
            createChildren() {
                super.createChildren();
                this.createView(AstarUI.uiView);
            }
        }
        AstarUI.uiView = { "type": "View", "props": { "width": 1136, "height": 640 }, "compId": 2, "child": [{ "type": "Box", "props": { "var": "container", "top": 0, "right": 0, "left": 0, "bottom": 0 }, "compId": 4 }, { "type": "Button", "props": { "y": 70, "x": 350, "var": "starBtn", "skin": "comp/button.png", "label": "start" }, "compId": 6 }, { "type": "Button", "props": { "y": 70, "x": 482, "var": "endBtn", "skin": "comp/button.png", "label": "endBtn" }, "compId": 7 }, { "type": "Button", "props": { "y": 70, "x": 603, "var": "searchBtn", "skin": "comp/button.png", "label": "search" }, "compId": 8 }], "loadList": ["comp/button.png"], "loadList3D": [] };
        test.AstarUI = AstarUI;
        class TestSceneUI extends Laya.Scene {
            constructor() { super(); }
            createChildren() {
                super.createChildren();
                this.loadScene("test/TestScene");
            }
        }
        test.TestSceneUI = TestSceneUI;
        class ViewTestUI extends Laya.View {
            constructor() { super(); }
            createChildren() {
                super.createChildren();
                this.createView(ViewTestUI.uiView);
            }
        }
        ViewTestUI.uiView = { "type": "View", "props": { "width": 1136, "height": 640 }, "compId": 2, "child": [{ "type": "Radio", "props": { "y": 126, "x": 170, "var": "A1", "skin": "comp/radio.png", "label": "A1" }, "compId": 8 }, { "type": "Radio", "props": { "y": 154, "x": 170, "var": "A2", "skin": "comp/radio.png", "label": "A2" }, "compId": 9 }, { "type": "Radio", "props": { "y": 190, "x": 170, "var": "A3", "skin": "comp/radio.png", "label": "A3" }, "compId": 10 }, { "type": "Radio", "props": { "y": 126, "x": 233, "var": "B1", "skin": "comp/radio.png", "label": "B1" }, "compId": 11 }, { "type": "Radio", "props": { "y": 154, "x": 233, "var": "B2", "skin": "comp/radio.png", "label": "B2" }, "compId": 13 }], "loadList": ["comp/radio.png"], "loadList3D": [] };
        test.ViewTestUI = ViewTestUI;
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}],23:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class ArrayUtils {
    static find(arr, cb) {
        for (let i of arr) {
            if (cb(i))
                return i;
        }
        return null;
    }
    /**除重 */
    static unique(arr) {
        return Array.from(new Set(arr));
    }
}
exports.ArrayUtils = ArrayUtils;
},{}],24:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class MapStruct {
    constructor() {
        this.keys = [];
        this.values = [];
        this._size = 0;
    }
    clear() {
        this.keys.length = this.values.length = this._size = 0;
    }
    delete(key) {
        let idx = this.keys.indexOf(key);
        if (idx == -1) {
            return false;
        }
        this.keys.splice(idx, 1);
        this.values.splice(idx, 1);
        this._size--;
        return true;
    }
    forEach(callbackfn, thisArg) {
        for (let i = 0, len = this.keys.length; i < len; i++) {
            callbackfn(this.values[i], this.keys[i], this);
        }
    }
    get(key) {
        let idx = this.keys.indexOf(key);
        return this.values[idx];
    }
    has(key) {
        return this.keys.indexOf(key) >= 0;
    }
    set(key, value) {
        let idx = this.keys.indexOf(key);
        if (idx >= 0) {
            this.values[idx] = value;
        }
        else {
            this.keys.push(key);
            this.values.push(value);
            this._size++;
        }
        return this;
    }
    get size() {
        return this._size;
    }
}
exports.MapStruct = MapStruct;
},{}],25:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class PoolBase {
    constructor() {
        this.pool = [];
    }
    static get ins() {
        let t = this;
        if (!t["_ins"])
            t["_ins"] = new t;
        return t["_ins"];
    }
    create(...args) { }
    release(node) { }
}
exports.PoolBase = PoolBase;
},{}],26:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MapNodePool_1 = require("./item/MapNodePool");
const MapGridPool_1 = require("./item/MapGridPool");
const MoviePool_1 = require("./item/MoviePool");
const PlayerPool_1 = require("./item/PlayerPool");
class PoolUtil {
    static get MapNode() {
        return MapNodePool_1.default.ins;
    }
    static get MapGrid() {
        return MapGridPool_1.default.ins;
    }
    static get Movie() {
        return MoviePool_1.default.ins;
    }
    static get player() {
        return PlayerPool_1.default.ins;
    }
}
exports.default = PoolUtil;
},{"./item/MapGridPool":27,"./item/MapNodePool":28,"./item/MoviePool":29,"./item/PlayerPool":30}],27:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MapGrid_1 = require("../../../battle/map/view/MapGrid");
const PoolBase_1 = require("../PoolBase");
class MapGridPool extends PoolBase_1.PoolBase {
    create(skin) {
        let node = this.pool.pop() || new MapGrid_1.default;
        node.skin = skin;
        return node;
    }
    release(node) {
        node.release();
        this.pool.push(node);
    }
}
exports.default = MapGridPool;
},{"../../../battle/map/view/MapGrid":10,"../PoolBase":25}],28:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MapNode_1 = require("../../../battle/map/MapNode");
const PoolBase_1 = require("../PoolBase");
class MapNodePool extends PoolBase_1.PoolBase {
    create(x, y, width, height) {
        let node = this.pool.pop() || new MapNode_1.default;
        node.setTo(x, y, width, height);
        return node;
    }
    release(node) {
        node.release();
        this.pool.push(node);
    }
}
exports.default = MapNodePool;
},{"../../../battle/map/MapNode":6,"../PoolBase":25}],29:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const PoolBase_1 = require("../PoolBase");
const Movie_1 = require("../../../view/Movie/Movie");
class MoviePool extends PoolBase_1.PoolBase {
    create() {
        let node = this.pool.pop() || new Movie_1.default;
        return node;
    }
    release(node) {
        node.clear();
        this.pool.push(node);
    }
}
exports.default = MoviePool;
},{"../../../view/Movie/Movie":31,"../PoolBase":25}],30:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const PoolBase_1 = require("../PoolBase");
const PlayerView_1 = require("../../../battle/player/PlayerView");
class PlayerPool extends PoolBase_1.PoolBase {
    create(clz = PlayerView_1.default) {
        let node = this.pool.pop() || new clz;
        return node;
    }
    release(node) {
        node.clear();
        this.pool.push(node);
    }
}
exports.default = PlayerPool;
},{"../../../battle/player/PlayerView":14,"../PoolBase":25}],31:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Sprite = Laya.Sprite;
var AutoBitmap = laya.ui.AutoBitmap;
const ResourceMgr_1 = require("../../ResourceMgr");
class Movie extends Sprite {
    constructor() {
        super();
        this.frameRace = 2;
        this._index = 0;
        this._frameNum = 0;
        this._loopPlay = false;
        this._autoPlay = true;
        this._isPlaying = false;
        this.loadComplete = false;
        this.graphics = this.bitMap = new AutoBitmap;
    }
    get frameNum() { return this._frameNum; }
    get loopPlay() { return this._loopPlay; }
    set loopPlay(v) {
        this._loopPlay = v;
        this.play();
    }
    get autoPlay() { return this._autoPlay; }
    set autoPlay(v) { this._autoPlay = v; }
    set skin(v) {
        if (this._skin == v)
            return;
        this.clear();
        this._skin = v;
        this.setSkin(v);
    }
    get skin() { return this._skin; }
    /***加载序列帧资源 */
    setSkin(path) {
        return __awaiter(this, void 0, void 0, function* () {
            if (!path)
                return;
            ResourceMgr_1.default.ins.addMovieRefrence(path);
            let res = yield ResourceMgr_1.default.ins.getMovieResource(path);
            if (this._skin != path) {
                ResourceMgr_1.default.ins.removeMovieRefrence(path);
            }
            else {
                this.event(Movie.LOAD_COMPLETE);
                this.loadComplete = true;
                this.cfg = ResourceMgr_1.default.ins.getMovieJson(path);
                this.bitMapSource = res;
                this._frameNum = this.cfg.mc.frames.length;
                this.frameRace == 0 && (this.frameRace = +this.cfg.mc.frameRate);
                this.index = this._index;
                if (this._autoPlay) {
                    this.play();
                }
            }
        });
    }
    loopRefresh() {
        if (!this.loadComplete)
            return;
        if (this._frameNum <= ++this._index) {
            if (this._loopPlay) {
                this.index = 0;
                this.event(Movie.LOOP_COMPLETE);
            }
            else {
                this.event(Movie.PLAY_COMPLETE);
                this.clear();
            }
        }
        else {
            this.index = this._index;
            this.event(Movie.UPDATE, this._index);
        }
    }
    set index(v) {
        this._index = v;
        if (this.loadComplete) {
            if (v >= this.frameNum)
                this._index = v = this.frameNum - 1;
            let cfg = this.cfg.mc.frames[v];
            this.bitMap.source = this.bitMapSource[cfg.res];
            this.bitMap.source.offsetX = cfg.x;
            this.bitMap.source.offsetY = cfg.y;
        }
    }
    get index() {
        return this._index;
    }
    play(startIndex = 0) {
        this.index = startIndex;
        if (this._isPlaying)
            return;
        this._isPlaying = true;
        Laya.timer.frameLoop(this.frameRace, this, this.loopRefresh);
    }
    stop() {
        if (!this._isPlaying)
            return;
        this._isPlaying = false;
        Laya.timer.clear(this, this.loopRefresh);
    }
    clear() {
        this.bitMapSource = this.cfg = null;
        this.bitMap.source = this._skin = null;
        this._frameNum = this.frameRace = 0;
        this.loadComplete = false;
        this._autoPlay = true;
        this._skin && ResourceMgr_1.default.ins.removeMovieRefrence(this._skin);
        this.stop();
    }
}
/***更新一帧 */
Movie.UPDATE = "UPDATE";
/**加载完成 */
Movie.LOAD_COMPLETE = "LOAD_COMPLETE";
/**播放完成 */
Movie.PLAY_COMPLETE = "PLAY_COMPLETE";
/**完成一轮循环 */
Movie.LOOP_COMPLETE = "LOOP_COMPLETE";
exports.default = Movie;
},{"../../ResourceMgr":4}],32:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class View1 extends Laya.View {
    constructor() {
        super();
        let lab = new Laya.Label;
        lab.text = "hello";
        lab.color = "#FF0000";
        this.addChild(lab);
        let img = new Laya.Image;
        img.skin = "comp/image.png"; //"test/c1.png"
        this.addChild(img);
    }
}
exports.default = View1;
class View2 extends Laya.View {
    constructor() {
        super();
    }
}
exports.View2 = View2;
},{}],33:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const RedTipTest_1 = require("../../redTip/RedTipTest");
const View1_1 = require("../View1");
const AstarTest_1 = require("../../battle/map/test/AstarTest");
let id = 1;
const map = {};
const panelInstanceMap = {};
/**
 *
 * @param view 注册面板
 * @param dependtenceAtlas 依赖图集
 * @param dependtenceCfgs 依赖配置
 * @returns 面板id
 */
function registerPanel(view, layer, dependtenceAtlas, dependtenceCfgs) {
    let key = id++;
    map[key] = [view, dependtenceAtlas, dependtenceCfgs, layer];
    return key;
}
exports.registerPanel = registerPanel;
function cachePanel(id, panel) {
    panelInstanceMap[id] = panel;
}
exports.cachePanel = cachePanel;
function clearPanel(id) {
    delete panelInstanceMap[id];
}
exports.clearPanel = clearPanel;
/**面板实例 */
function getPanel(id) {
    return panelInstanceMap[id];
}
exports.getPanel = getPanel;
/**面板配置 */
function getPanelVo(id) {
    return map[id];
}
exports.getPanelVo = getPanelVo;
var panelLayer;
(function (panelLayer) {
    panelLayer[panelLayer["base"] = 0] = "base";
    panelLayer[panelLayer["middle"] = 1] = "middle";
    panelLayer[panelLayer["top"] = 2] = "top";
})(panelLayer = exports.panelLayer || (exports.panelLayer = {}));
var PanelRegister;
(function (PanelRegister) {
    PanelRegister[PanelRegister["PANEL1"] = registerPanel(RedTipTest_1.default, panelLayer.base, ["res/atlas/comp.atlas"])] = "PANEL1";
    PanelRegister[PanelRegister["PANEL2"] = registerPanel(View1_1.default, panelLayer.base, ["res/atlas/test.atlas"])] = "PANEL2";
    PanelRegister[PanelRegister["PANEL3"] = registerPanel(View1_1.View2, panelLayer.base)] = "PANEL3";
    PanelRegister[PanelRegister["PANEL4"] = registerPanel(AstarTest_1.default, panelLayer.base, ["res/atlas/comp.atlas"])] = "PANEL4";
})(PanelRegister = exports.PanelRegister || (exports.PanelRegister = {}));
},{"../../battle/map/test/AstarTest":9,"../../redTip/RedTipTest":17,"../View1":32}],34:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ResourceMgr_1 = require("../../ResourceMgr");
const PanelRegister_1 = require("./PanelRegister");
class ViewMgr extends Laya.EventDispatcher {
    // private historyArr: IView[] = [];
    constructor() {
        super();
        this.currentPanelMap = {}; //各个层级打开的面板
        this.cachePanel = []; //缓存面板
        this.maxCacheNum = 0; //缓存页面数量
        Laya.stage.addChild(this.panelLayer = new Laya.Box);
    }
    static get ins() {
        return ViewMgr._ins || (ViewMgr._ins = new ViewMgr);
    }
    /**
     * 打开面板
     * @param id 注册面板
     * @param args 面板open方法调用参数
     */
    openPanel(id, ...args) {
        let vo = PanelRegister_1.getPanelVo(id);
        if (this.currentPanelMap[vo[3]] === id)
            return;
        this.closePanel(this.currentPanelMap[vo[3]]);
        this.currentPanelMap[vo[3]] = id;
        let dependenceArr = [];
        if (vo[1]) {
            for (let url of vo[1]) {
                ResourceMgr_1.default.ins.addAtlasRefrence(url); //添加图集引用计数
            }
            dependenceArr = dependenceArr.concat(vo[1]);
        }
        vo[2] && (dependenceArr = dependenceArr.concat(vo[2]));
        if (dependenceArr.length)
            Laya.loader.load(dependenceArr, Laya.Handler.create(this, this.loadComplete, [id, ...args]));
        else
            this.loadComplete(id, ...args);
    }
    /**
     * 关闭面板
     * @param id 注册面板id
     */
    closePanel(id) {
        if (!id)
            return;
        let vo = PanelRegister_1.getPanelVo(id);
        if (!vo) {
            console.error(`未注册面板:${id}`);
            return;
        }
        // this.clearPanelDependence(id);
        //加入缓存队列
        let idx = this.cachePanel.indexOf(id);
        if (idx >= 0) {
            this.cachePanel.splice(idx, 1);
        }
        this.cachePanel.push(id);
        this.currentPanelMap[vo[3]] = null;
        let panel = PanelRegister_1.getPanel(id);
        if (panel) {
            panel.removeSelf();
            panel.close();
        }
    }
    /**
     * 尝试销毁面板
     * @param count 销毁数量
     */
    tryDestoryPanel(count = 1) {
        if (this.cachePanel.length <= this.maxCacheNum)
            return;
        let panels = this.cachePanel.splice(0, this.cachePanel.length - this.maxCacheNum <= count ? this.cachePanel.length - this.maxCacheNum : count);
        while (panels.length) {
            let id = panels.pop();
            this.clearPanelDependence(id);
            if (PanelRegister_1.getPanel(id))
                PanelRegister_1.getPanel(id).destroy(true);
            PanelRegister_1.clearPanel(id);
        }
    }
    clearPanelDependence(id) {
        let vo = PanelRegister_1.getPanelVo(id);
        if (vo[1]) {
            for (let k of vo[1]) {
                ResourceMgr_1.default.ins.removeAtlasRefrence(k, true);
            }
        }
    }
    loadComplete(id, ...args) {
        let panel = PanelRegister_1.getPanel(id);
        if (!panel) {
            panel = new (PanelRegister_1.getPanelVo(id)[0]);
            PanelRegister_1.cachePanel(id, panel);
        }
        panel.open(...args);
        let vo = PanelRegister_1.getPanelVo(id);
        if (this.currentPanelMap[vo[3]] === id) {
            this.panelLayer.addChild(panel);
        }
    }
}
exports.default = ViewMgr;
},{"../../ResourceMgr":4,"./PanelRegister":33}]},{},[3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NvZnRXYXJlL2xheWFJREUvcmVzb3VyY2VzL2FwcC9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL0FwcC50cyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvUmVzb3VyY2VNZ3IudHMiLCJzcmMvYmF0dGxlL21hcC9BU3Rhci50cyIsInNyYy9iYXR0bGUvbWFwL01hcE5vZGUudHMiLCJzcmMvYmF0dGxlL21hcC9tb2RlbC9NYXBHcmlkSW5mby50cyIsInNyYy9iYXR0bGUvbWFwL21vZGVsL01hcE1kbC50cyIsInNyYy9iYXR0bGUvbWFwL3Rlc3QvQXN0YXJUZXN0LnRzIiwic3JjL2JhdHRsZS9tYXAvdmlldy9NYXBHcmlkLnRzIiwic3JjL2JhdHRsZS9tYXAvdmlldy9NYXBTY2VuZS50cyIsInNyYy9iYXR0bGUvbWFwL3ZpZXcvTWFwVXRpbC50cyIsInNyYy9iYXR0bGUvcGxheWVyL1BsYXllci50cyIsInNyYy9iYXR0bGUvcGxheWVyL1BsYXllclZpZXcudHMiLCJzcmMvcmVkVGlwL1JlZFRpcEJhc2UudHMiLCJzcmMvcmVkVGlwL1JlZFRpcE1nci50cyIsInNyYy9yZWRUaXAvUmVkVGlwVGVzdC50cyIsInNyYy9zY3JpcHQvQnVsbGV0LnRzIiwic3JjL3NjcmlwdC9Ecm9wQm94LnRzIiwic3JjL3NjcmlwdC9HYW1lQ29udHJvbC50cyIsInNyYy9zY3JpcHQvR2FtZVVJLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyIsInNyYy91dGlscy9BcnJheVV0aWxzLnRzIiwic3JjL3V0aWxzL01hcFN0cnVjdC50cyIsInNyYy91dGlscy9wb29sL1Bvb2xCYXNlLnRzIiwic3JjL3V0aWxzL3Bvb2wvUG9vbFV0aWwudHMiLCJzcmMvdXRpbHMvcG9vbC9pdGVtL01hcEdyaWRQb29sLnRzIiwic3JjL3V0aWxzL3Bvb2wvaXRlbS9NYXBOb2RlUG9vbC50cyIsInNyYy91dGlscy9wb29sL2l0ZW0vTW92aWVQb29sLnRzIiwic3JjL3V0aWxzL3Bvb2wvaXRlbS9QbGF5ZXJQb29sLnRzIiwic3JjL3ZpZXcvTW92aWUvTW92aWUudHMiLCJzcmMvdmlldy9WaWV3MS50cyIsInNyYy92aWV3L2Jhc2UvUGFuZWxSZWdpc3Rlci50cyIsInNyYy92aWV3L2Jhc2UvVmlld01nci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSx5REFBa0Q7QUFDbEQsa0RBQTJDO0FBQzNDLGlEQUEwQztBQUMxQyw2REFBMEQ7QUFLMUQ7SUFJSTtRQUNJLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBQ0QsSUFBSTtRQUNBLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxrQkFBUSxDQUFDLENBQUM7UUFDbEQsSUFBSSxDQUFDLE9BQU8sR0FBRyxpQkFBTyxDQUFDLEdBQUcsQ0FBQztRQUMzQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksbUJBQVMsQ0FBQztRQUMvQixpQkFBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsNkJBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUdoRCxDQUFDO0NBQ0o7QUFmRCxzQkFlQzs7OztBQ3ZCRCxnR0FBZ0c7QUFDaEcsNENBQW9DO0FBQ3BDLHNEQUE4QztBQUM5Qyw0Q0FBb0M7QUFDcEMsOENBQXNDO0FBQ3RDOztFQUVFO0FBQ0Y7SUFhSSxnQkFBYyxDQUFDO0lBQ2YsTUFBTSxDQUFDLElBQUk7UUFDUCxJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztRQUM3QyxHQUFHLENBQUMsa0JBQWtCLEVBQUMsZ0JBQU0sQ0FBQyxDQUFDO1FBQy9CLEdBQUcsQ0FBQyx1QkFBdUIsRUFBQyxxQkFBVyxDQUFDLENBQUM7UUFDekMsR0FBRyxDQUFDLGtCQUFrQixFQUFDLGdCQUFNLENB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Y2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgTWFwU2NlbmUgZnJvbSBcIi4vYmF0dGxlL21hcC92aWV3L01hcFNjZW5lXCI7XHJcbmltcG9ydCBSZWRUaXBNZ3IgZnJvbSBcIi4vcmVkVGlwL1JlZFRpcE1nclwiO1xyXG5pbXBvcnQgVmlld01nciBmcm9tIFwiLi92aWV3L2Jhc2UvVmlld01nclwiO1xyXG5pbXBvcnQgeyBQYW5lbFJlZ2lzdGVyIH0gZnJvbSBcIi4vdmlldy9iYXNlL1BhbmVsUmVnaXN0ZXJcIjtcclxuaW1wb3J0IE1vdmllIGZyb20gXCIuL3ZpZXcvTW92aWUvTW92aWVcIjtcclxuaW1wb3J0IFBsYXllclZpZXcsIHsgYWN0aW9uX3R5cGUgfSBmcm9tIFwiLi9iYXR0bGUvcGxheWVyL1BsYXllclZpZXdcIjtcclxuaW1wb3J0IFBsYXllckFwcGVhcmFuY2VJbmZvIGZyb20gXCIuL2JhdHRsZS9wbGF5ZXIvbW9kZWwvUGxheWVyQXBwZWFyYW5jZUluZm9cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcHtcclxuICAgIG1hcFNjZW5lOk1hcFNjZW5lO1xyXG4gICAgcmVkVGlwTWdyOlJlZFRpcE1ncjtcclxuICAgIHZpZXdNZ3I6Vmlld01nclxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH1cclxuICAgIGluaXQoKTp2b2lke1xyXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQodGhpcy5tYXBTY2VuZSA9IG5ldyBNYXBTY2VuZSk7XHJcbiAgICAgICAgdGhpcy52aWV3TWdyID0gVmlld01nci5pbnM7XHJcbiAgICAgICAgdGhpcy5yZWRUaXBNZ3IgPSBuZXcgUmVkVGlwTWdyO1xyXG4gICAgICAgIFZpZXdNZ3IuaW5zLm9wZW5QYW5lbChQYW5lbFJlZ2lzdGVyLlBBTkVMNCk7XHJcblxyXG5cclxuICAgIH1cclxufSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgR2FtZVVJIGZyb20gXCIuL3NjcmlwdC9HYW1lVUlcIlxuaW1wb3J0IEdhbWVDb250cm9sIGZyb20gXCIuL3NjcmlwdC9HYW1lQ29udHJvbFwiXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuL3NjcmlwdC9CdWxsZXRcIlxuaW1wb3J0IERyb3BCb3ggZnJvbSBcIi4vc2NyaXB0L0Ryb3BCb3hcIlxyXG4vKlxyXG4qIOa4uOaIj+WIneWni+WMlumFjee9rjtcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyB3aWR0aDpudW1iZXI9NzIwO1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9MTI4MDtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwic2hvd2FsbFwiO1xyXG4gICAgc3RhdGljIHNjcmVlbk1vZGU6c3RyaW5nPVwibm9uZVwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJ0b3BcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwibGVmdFwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6YW55PVwidGVzdC9Bc3Rhci5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPXRydWU7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgdmFyIHJlZzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcbiAgICAgICAgcmVnKFwic2NyaXB0L0dhbWVVSS50c1wiLEdhbWVVSSk7XG4gICAgICAgIHJlZyhcInNjcmlwdC9HYW1lQ29udHJvbC50c1wiLEdhbWVDb250cm9sKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0J1bGxldC50c1wiLEJ1bGxldCk7XG4gICAgICAgIHJlZyhcInNjcmlwdC9Ecm9wQm94LnRzXCIsRHJvcEJveCk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5pbXBvcnQgUmVkVGlwTWdyIGZyb20gXCIuL3JlZFRpcC9SZWRUaXBNZ3JcIjtcclxuaW1wb3J0IFJlZFRpcFRlc3QgZnJvbSBcIi4vcmVkVGlwL1JlZFRpcFRlc3RcIjtcclxuaW1wb3J0IFJlc291cmNlTWdyIGZyb20gXCIuL1Jlc291cmNlTWdyXCI7XHJcbmltcG9ydCB7IHVpIH0gZnJvbSBcIi4vdWkvbGF5YU1heFVJXCI7XHJcbmltcG9ydCB7IFBhbmVsUmVnaXN0ZXIgfSBmcm9tIFwiLi92aWV3L2Jhc2UvUGFuZWxSZWdpc3RlclwiO1xyXG5pbXBvcnQgVmlld01nciBmcm9tIFwiLi92aWV3L2Jhc2UvVmlld01nclwiO1xyXG5pbXBvcnQgTWFwU2NlbmUgZnJvbSBcIi4vYmF0dGxlL21hcC92aWV3L01hcFNjZW5lXCI7XHJcbmltcG9ydCBBcHAgZnJvbSBcIi4vQXBwXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHQvLyBMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdFx0dGhpcy5vbkNvbmZpZ0xvYWRlZCgpO1xyXG5cdFx0UmVzb3VyY2VNZ3IuaW5zLnN0YXJ0Q2hlY2soKTtcclxuXHR9XHJcblx0c3RhdGljIGFwcDpBcHA7XHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0Ly8gR2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUsdHJ1ZSxudWxsLExheWEuSGFuZGxlci5jcmVhdGUodGhpcyx0aGlzLm9wZW5TY2VuZSkpO1xyXG5cdFx0TWFpbi5hcHAgPSBuZXcgQXBwO1xyXG5cdFx0dGhpcy5jcmVhdGVCdG4oXHJcblx0XHRbXCJidG4xXCIsKCk9PntWaWV3TWdyLmlucy5vcGVuUGFuZWwoUGFuZWxSZWdpc3Rlci5QQU5FTDEpfV0sXHJcblx0XHRbXCJidG4yXCIsKCk9PntWaWV3TWdyLmlucy5vcGVuUGFuZWwoUGFuZWxSZWdpc3Rlci5QQU5FTDIpfV0sXHJcblx0XHRbXCJidG4zXCIsKCk9PntWaWV3TWdyLmlucy5vcGVuUGFuZWwoUGFuZWxSZWdpc3Rlci5QQU5FTDMpfV1cclxuXHRcdCk7XHJcblx0XHRcclxuXHR9XHJcblxyXG5cdGNyZWF0ZUJ0biguLi5idG5zOltzdHJpbmcsRnVuY3Rpb25dW10pOnZvaWR7XHJcblx0XHRsZXQgX3ggPSAwO1xyXG5cdFx0Zm9yKGxldCBhcnIgb2YgYnRucyl7XHJcblx0XHRcdGxldCBsYWIgPSBuZXcgTGF5YS5MYWJlbDtcclxuXHRcdFx0bGFiLmNvbG9yID0gXCIjZmZmXCJcclxuXHRcdFx0bGFiLnRleHQgPSBhcnJbMF1cclxuXHRcdFx0TGF5YS5zdGFnZS5hZGRDaGlsZChsYWIpXHJcblx0XHRcdGxhYi54ID0gX3g7XHJcblx0XHRcdGxhYi5mb250U2l6ZSA9IDMwXHJcblx0XHRcdF94ICs9IDEwMFxyXG5cdFx0XHRsYWIub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLGFyclsxXSlcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdG9wZW5TY2VuZShzZW5jZTpMYXlhLlNjZW5lKTp2b2lke1xyXG5cclxuXHR9XHJcbn1cclxuXHJcbi8v5r+A5rS75ZCv5Yqo57G7XHJcbm5ldyBNYWluKCk7XHJcbiIsImltcG9ydCBWaWV3TWdyIGZyb20gXCIuL3ZpZXcvYmFzZS9WaWV3TWdyXCI7XHJcblxyXG4vKipcclxuICog5pWj5Zu+5a6M5YWo6K6h5pWw566h55CGXHJcbiAqIOWbvumbhuWSjOW6j+WIl+W4p+WKqOeUu+S4remXtOaetuaehOS4gOWxguWkp+i1hOa6kOiuoeaVsOeuoeeQhlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzb3VyY2VNZ3Ige1xyXG4gICAgY2xlYXJBdGxhc1F1ZXVlOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgY2xlYXJRdWV1ZTogTGF5YS5UZXh0dXJlW10gPSBbXTtcclxuICAgIGNsZWFyTW92aWVRdWV1ZTogc3RyaW5nW10gPSBbXTtcclxuICAgIC8v5aSn5Zu+6ZuG5byV55So6K6h5pWwXHJcbiAgICBhdGxhc01hcDogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xyXG5cclxuICAgIHByaXZhdGUgX21vdmllTWFwOiB7IFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogTGF5YS5UZXh0dXJlIH0gfSA9IHt9O1xyXG4gICAgcHJpdmF0ZSBfbW92aWVKc29uTWFwOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge307XHJcbiAgICBwcml2YXRlIF9tb3ZpZVJlZnJlbmNlTWFwOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge307XHJcbiAgICAvL+avj+W4p+mUgOavgei1hOa6kOacgOWkp+aVsOmHj1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IGZyYW1lQ2xlYXJDb3VudDogbnVtYmVyID0gMjtcclxuICAgIHN0YXRpYyByZWFkb25seSBjaGVja0NsZWFyVGltZTogbnVtYmVyID0gMTAwMDtcclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnM6IFJlc291cmNlTWdyO1xyXG4gICAgc3RhdGljIGdldCBpbnMoKTogUmVzb3VyY2VNZ3Ige1xyXG4gICAgICAgIHJldHVybiBSZXNvdXJjZU1nci5faW5zIHx8IChSZXNvdXJjZU1nci5faW5zID0gbmV3IFJlc291cmNlTWdyKVxyXG4gICAgfVxyXG4gICAgc3RhcnRDaGVjaygpOiB2b2lkIHtcclxuICAgICAgICBMYXlhLnRpbWVyLmxvb3AoUmVzb3VyY2VNZ3IuY2hlY2tDbGVhclRpbWUsIHRoaXMsIHRoaXMubG9vcENoZWNrVGV4dHVyZSk7XHJcbiAgICAgICAgTGF5YS50aW1lci5mcmFtZUxvb3AoMSwgdGhpcywgdGhpcy5sb29wRGVzdHJveVRleHR1cmUpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3BDaGVjaygpOiB2b2lkIHtcclxuICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsIHRoaXMubG9vcENoZWNrVGV4dHVyZSk7XHJcbiAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLCB0aGlzLmxvb3BEZXN0cm95VGV4dHVyZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmo4DmtYvlm77niYfotYTmupDvvIzlpoLmnpzlvJXnlKjorqHmlbDkuLow5YiZ5re75Yqg5Yiw6ZSA5q+B6Zif5YiXXHJcbiAgICAgKi9cclxuICAgIGxvb3BDaGVja1RleHR1cmUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2xlYXJRdWV1ZS5sZW5ndGgpIHJldHVybjtcclxuICAgICAgICBsZXQgdGVtcDogTGF5YS5UZXh0dXJlO1xyXG4gICAgICAgIGZvciAobGV0IGsgaW4gTGF5YS5Mb2FkZXIubG9hZGVkTWFwKSB7XHJcbiAgICAgICAgICAgIHRlbXAgPSBMYXlhLkxvYWRlci5sb2FkZWRNYXBba107XHJcbiAgICAgICAgICAgIGlmICghdGVtcC5iaXRtYXApIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBpZiAodGVtcFtcIl9yZWZlcmVuY2VDb3VudFwiXSA9PSAwICYmIHRlbXAuYml0bWFwW1wiX3JlZmVyZW5jZUNvdW50XCJdID09IDApIHtcclxuICAgICAgICAgICAgICAgIC8qKueugOaYk+WIpOaWreWmguaenOaYr+WbvumbhuWwseiHquWKqOS4jea4heeQhu+8iOW/veeVpeWPquacieS4gOW8oOWbvueJh+eahOWbvumbhu+8iSAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0ZW1wLmJpdG1hcCBhcyBMYXlhLlRleHR1cmUyRCkud2lkdGggPT0gdGVtcC53aWR0aFxyXG4gICAgICAgICAgICAgICAgICAgICYmICh0ZW1wLmJpdG1hcCBhcyBMYXlhLlRleHR1cmUyRCkuaGVpZ2h0ID09IHRlbXAuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/ljovlhaXplIDmr4HpmJ/liJdcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyUXVldWUucHVzaCh0ZW1wKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFkZE1vdmllVG9DbGVhclF1ZXVlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmibnph4/plIDmr4Hlm77niYdcclxuICAgICAqL1xyXG4gICAgbG9vcERlc3Ryb3lUZXh0dXJlKCk6IHZvaWQge1xyXG4gICAgICAgIFZpZXdNZ3IuaW5zLnRyeURlc3RvcnlQYW5lbCgpO1xyXG4gICAgICAgIGxldCBpZHggPSAwO1xyXG4gICAgICAgIGxldCB0ZXh0dXJlOiBMYXlhLlRleHR1cmUgPSB0aGlzLmNsZWFyUXVldWUuc2hpZnQoKTtcclxuICAgICAgICB3aGlsZSAodGV4dHVyZSkge1xyXG4gICAgICAgICAgICAvKirph43mlrDliKTmlq3mmK/lkKbmnInooqvlvJXnlKjvvIzpgb/lhY3nrYnlvoXplIDmr4Hov4fnqIvkuK3lj4jooqvlvJXnlKjpgKDmiJDor6/liKAgKi9cclxuICAgICAgICAgICAgaWYgKHRleHR1cmUuYml0bWFwICYmIHRleHR1cmUuYml0bWFwW1wiX3JlZmVyZW5jZUNvdW50XCJdID09IDApIHtcclxuICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlLnVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIExheWEubG9hZGVyLmNsZWFyUmVzKHRleHR1cmUudXJsKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRW5naW5lQ2FjaGUodGV4dHVyZS5iaXRtYXApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlkeCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpZHggPj0gUmVzb3VyY2VNZ3IuZnJhbWVDbGVhckNvdW50KSBicmVhaztcclxuICAgICAgICAgICAgdGV4dHVyZSA9IHRoaXMuY2xlYXJRdWV1ZS5zaGlmdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+a4heeQhuS4gOS4quWkp+WbvumbhlxyXG4gICAgICAgIHRoaXMuY2xlYXJPbmVBdGxhcygpO1xyXG4gICAgICAgIC8v5riF55CG5LiA5LiqbW92aWVcclxuICAgICAgICB0aGlzLmNsZWFyTW92aWVSZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLeWbvumbhi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgYWRkQXRsYXNSZWZyZW5jZSh1cmw6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmF0bGFzTWFwW3VybF0pIHtcclxuICAgICAgICAgICAgdGhpcy5hdGxhc01hcFt1cmxdID0gdGhpcy5hdGxhc01hcFt1cmxdICsgMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmF0bGFzTWFwW3VybF0gPSAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVBdGxhc1JlZnJlbmNlKHVybDogc3RyaW5nLCBhdXRvQ2xlYXI6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5hdGxhc01hcFt1cmxdKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLlm77pm4blvJXnlKjorqHmlbDpgLvovpHmnInpl67pophcIilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmF0bGFzTWFwW3VybF0gPSB0aGlzLmF0bGFzTWFwW3VybF0gLSAxO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYXRsYXNNYXBbdXJsXSAmJiBhdXRvQ2xlYXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHVzaERlc3RvcnlBdGxhc1F1ZXVlKHVybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKua3u+WKoOa4heeQhumYn+WIlyAqL1xyXG4gICAgcHVzaERlc3RvcnlBdGxhc1F1ZXVlKGF0bGFzOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5jbGVhckF0bGFzUXVldWUuaW5kZXhPZihhdGxhcykgPT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckF0bGFzUXVldWUucHVzaChhdGxhcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKuaJp+ihjOa4heeQhuWkp+WbvumbhiAqL1xyXG4gICAgcHJpdmF0ZSBjbGVhck9uZUF0bGFzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5jbGVhckF0bGFzUXVldWUubGVuZ3RoKSByZXR1cm47XHJcbiAgICAgICAgbGV0IHVybDogc3RyaW5nO1xyXG4gICAgICAgIC8v5aSn5Zu+6ZuG5re75Yqg5byV55So6K6h5pWw5pyJ5Y+v6IO95Zu+6ZuG6L+Y5rKh5Yqg6L2977yM5aaC5p6c5rKh5pyJ6LWE5rqQ6KGo56S66L+Y5rKh5Yqg6L29XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuY2xlYXJBdGxhc1F1ZXVlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChMYXlhLmxvYWRlci5nZXRSZXModGhpcy5jbGVhckF0bGFzUXVldWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSB0aGlzLmNsZWFyQXRsYXNRdWV1ZS5zcGxpY2UoaSwgMSlbMF07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXJsICYmICF0aGlzLmF0bGFzTWFwW3VybF0pIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYXRsYXNNYXBbdXJsXTtcclxuICAgICAgICAgICAgTGF5YS5sb2FkZXIuY2xlYXJSZXModXJsKTtcclxuICAgICAgICAgICAgdXJsID0gTGF5YS5VUkwuZm9ybWF0VVJMKHVybC5zdWJzdHJpbmcoMCwgdXJsLmxhc3RJbmRleE9mKFwiLlwiKSkgKyBcIi5wbmdcIik7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJFbmdpbmVDYWNoZShMYXlhLmxvYWRlci5nZXRSZXModXJsKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKua4heeQhuW8leaTjueahOe8k+WtmCAo5b275bqV5riF55CGKSovXHJcbiAgICBwcml2YXRlIGNsZWFyRW5naW5lQ2FjaGUodGV4dHVyZTogTGF5YS5UZXh0dXJlMkQpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGV4dHVyZSkge1xyXG4gICAgICAgICAgICBMYXlhLkxvYWRlci5jbGVhclJlcyh0ZXh0dXJlLnVybCk7XHJcbiAgICAgICAgICAgIGxldCByZXNvdXJjZSA9IExheWEuUmVzb3VyY2UuZ2V0UmVzb3VyY2VCeUlEKHRleHR1cmVbXCJpZFwiXSk7XHJcbiAgICAgICAgICAgIHJlc291cmNlICYmIHJlc291cmNlLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLW1vdmllLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgYXN5bmMgZ2V0TW92aWVSZXNvdXJjZShwYXRoOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX21vdmllTWFwW3BhdGhdKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBpbWdQYXRoID0gcGF0aC5yZXBsYWNlKFwiLmpzb25cIiwgXCIucG5nXCIpXHJcbiAgICAgICAgICAgICAgICBMYXlhLmxvYWRlci5sb2FkKFtwYXRoLCBpbWdQYXRoXSwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRleHR1cmU6IExheWEuVGV4dHVyZSA9IExheWEuTG9hZGVyLmdldFJlcyhpbWdQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQganNvbjogYW55ID0gTGF5YS5sb2FkZXIuZ2V0UmVzKHBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGV4dHVyZSB8fCAhanNvbikgcmVqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlczogeyBba2V5OiBzdHJpbmddOiBMYXlhLlRleHR1cmUgfSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZmc6IGFueTtcclxuICAgICAgICAgICAgICAgICAgICAvL+mYsuatouiiq+i1hOa6kOeuoeeQhuW9k+aVo+Wbvua4heaOiVxyXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUud2lkdGgrKztcclxuICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgayBpbiBqc29uLnJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjZmcgPSBqc29uLnJlc1trXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzW2tdID0gTGF5YS5UZXh0dXJlLmNyZWF0ZSh0ZXh0dXJlLCBjZmcueCwgY2ZnLnksIGNmZy53LCBjZmcuaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21vdmllTWFwW3BhdGhdID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21vdmllSnNvbk1hcFtwYXRoXSA9IGpzb247XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9tb3ZpZU1hcFtwYXRoXSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TW92aWVKc29uKHBhdGg6IHN0cmluZyk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vdmllSnNvbk1hcFtwYXRoXTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRNb3ZpZVJlZnJlbmNlKHBhdGg6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX21vdmllUmVmcmVuY2VNYXBbcGF0aF0gPSB0aGlzLl9tb3ZpZVJlZnJlbmNlTWFwW3BhdGhdID8gdGhpcy5fbW92aWVSZWZyZW5jZU1hcFtwYXRoXSArIDEgOiAxO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZU1vdmllUmVmcmVuY2UocGF0aDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9tb3ZpZVJlZnJlbmNlTWFwW3BhdGhdKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJNb3ZpZei1hOa6kOiuoeaVsOmUmeivr1wiKVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9tb3ZpZVJlZnJlbmNlTWFwW3BhdGhdID0gdGhpcy5fbW92aWVSZWZyZW5jZU1hcFtwYXRoXSAtIDE7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJNb3ZpZVJlcygpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcGF0aDogc3RyaW5nO1xyXG4gICAgICAgIHdoaWxlIChwYXRoID0gdGhpcy5jbGVhck1vdmllUXVldWUucG9wKCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX21vdmllUmVmcmVuY2VNYXBbcGF0aF0pIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcGF0aCkgcmV0dXJuO1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9tb3ZpZVJlZnJlbmNlTWFwW3BhdGhdO1xyXG4gICAgICAgIC8vanNvblxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9tb3ZpZUpzb25NYXBbcGF0aF07XHJcbiAgICAgICAgTGF5YS5Mb2FkZXIuY2xlYXJSZXMocGF0aCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX21vdmllTWFwW3BhdGhdKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGsgaW4gdGhpcy5fbW92aWVNYXBbcGF0aF0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21vdmllTWFwW3BhdGhdW2tdLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL2ltYWdlXHJcbiAgICAgICAgTGF5YS5sb2FkZXIuY2xlYXJSZXMocGF0aC5yZXBsYWNlKFwiLmpzb25cIiwgXCIucG5nXCIpKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+aKiuW8leeUqOS4ujDnmoRtb3ZpZei1hOa6kOWKoOWFpemUgOavgemYn+WIl1xyXG4gICAgYWRkTW92aWVUb0NsZWFyUXVldWUoKTogdm9pZCB7XHJcbiAgICAgICAgZm9yIChsZXQgayBpbiB0aGlzLl9tb3ZpZVJlZnJlbmNlTWFwKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fbW92aWVSZWZyZW5jZU1hcFtrXSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck1vdmllUXVldWUuaW5kZXhPZihrKSA9PSAtMSAmJiB0aGlzLmNsZWFyTW92aWVRdWV1ZS51bnNoaWZ0KGspO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsIi8qKlxyXG4gKiDliJ3lp4vljJbkuIDmrKHlr7vot6/nmoTlnLDlm74gQXN0YXIuaW5zLmluaXQoKVxyXG4gKiDlvIDlkK/lr7vot68gQXN0YXIuaW5zLmZpbmRQYXRoKClcclxuICogXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBU3RhciB7XHJcbiAgICAvKirlm7rlrprmtojogJcgKi9cclxuICAgIHN0YXRpYyByZWFkb25seSBzdGF0aWNDb3N0ID0gMTA7XHJcbiAgICBzdGF0aWMgeE51bTogbnVtYmVyXHJcbiAgICBzdGF0aWMgeU51bTogbnVtYmVyXHJcblxyXG4gICAgLyoq5Zyw5Zu+5qC85a2Q6ZuG5ZCIICovXHJcbiAgICBzdGF0aWMgbWFwTm9kZUxpc3Q6IElNYXBOb2RlW11bXTtcclxuXHJcbiAgICBwcml2YXRlIG9wZW5MaXN0OiBJTWFwTm9kZVtdID0gW107XHJcbiAgICBwcml2YXRlIGNsb3NlTGlzdDogSU1hcE5vZGVbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luczogQVN0YXI7XHJcbiAgICBzdGF0aWMgZ2V0IGlucygpOiBBU3RhciB7XHJcbiAgICAgICAgaWYgKCFBU3Rhci5faW5zKSBBU3Rhci5faW5zID0gbmV3IEFTdGFyO1xyXG4gICAgICAgIHJldHVybiBBU3Rhci5faW5zO1xyXG4gICAgfVxyXG4gICAgaW5pdChhcnI6IElNYXBOb2RlW11bXSk6IHZvaWQge1xyXG4gICAgICAgIEFTdGFyLnhOdW0gPSBhcnJbMF0ubGVuZ3RoO1xyXG4gICAgICAgIEFTdGFyLnlOdW0gPSBhcnIubGVuZ3RoO1xyXG4gICAgICAgIEFTdGFyLm1hcE5vZGVMaXN0ID0gYXJyO1xyXG5cclxuICAgIH1cclxuICAgIC8qKuabvOWTiOmhv+S8sOS7t+azlSAqL1xyXG4gICAgcHJpdmF0ZSBtYW5oYXR0YW4oZnJvbU5vZGU6IElNYXBOb2RlLCB0YXJnZXROb2RlOiBJTWFwTm9kZSk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGZyb21Ob2RlLnggLSB0YXJnZXROb2RlLngpICogQVN0YXIuc3RhdGljQ29zdCArIE1hdGguYWJzKGZyb21Ob2RlLnkgLSB0YXJnZXROb2RlLnkpICogQVN0YXIuc3RhdGljQ29zdDtcclxuICAgIH1cclxuXHJcbiAgICAvKirnp7vliqjmiJDmnKzvvIzlvbHlk43otbDmlpzlr7nop5Lov5jmmK/lnoLnm7QgKi9cclxuICAgIHByaXZhdGUgZ2V0Ryhmcm9tTm9kZTogSU1hcE5vZGUsIHRhcmdldE5vZGU6IElNYXBOb2RlKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gZnJvbU5vZGUueCAtIHRhcmdldE5vZGUueCA9PSAwIHx8IGZyb21Ob2RlLnkgLSB0YXJnZXROb2RlLnkgPT0gMCA/IDEwIDogMTQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq6I635Y+W5ZGo5Zu0OOagvCAqL1xyXG4gICAgcHJpdmF0ZSBnZXRBcm91bmROb2RlKG5vZGU6IElNYXBOb2RlKSB7XHJcbiAgICAgICAgbGV0IHggPSBub2RlLnggJSBBU3Rhci54TnVtO1xyXG4gICAgICAgIGxldCB5ID0gbm9kZS55ICUgQVN0YXIueU51bTtcclxuICAgICAgICBsZXQgcmVzOiBJTWFwTm9kZVtdID0gW107XHJcbiAgICAgICAgbGV0IG1hcCA9IEFTdGFyLm1hcE5vZGVMaXN0O1xyXG4gICAgICAgIGxldCB0ZW1wOiBJTWFwTm9kZVtdO1xyXG4gICAgICAgIGlmICh0ZW1wID0gbWFwW3kgLSAxXSkge1xyXG4gICAgICAgICAgICBpZiAodGVtcFt4IC0gMV0pIHtcclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKHRlbXBbeCAtIDFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGVtcFt4XSkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnB1c2godGVtcFt4XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRlbXBbeCArIDFdKSB7XHJcbiAgICAgICAgICAgICAgICByZXMucHVzaCh0ZW1wW3ggKyAxXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1hcFt5XVt4IC0gMV0pIHtcclxuICAgICAgICAgICAgcmVzLnB1c2gobWFwW3ldW3ggLSAxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtYXBbeV1beCArIDFdKSB7XHJcbiAgICAgICAgICAgIHJlcy5wdXNoKG1hcFt5XVt4ICsgMV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRlbXAgPSBtYXBbeSArIDFdKSB7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wW3ggLSAxXSkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnB1c2godGVtcFt4IC0gMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0ZW1wW3hdKSB7XHJcbiAgICAgICAgICAgICAgICByZXMucHVzaCh0ZW1wW3hdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGVtcFt4ICsgMV0pIHtcclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKHRlbXBbeCArIDFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gZnJvbU5vZGUg6LW35aeL54K5XHJcbiAgICAgKiBAcGFyYW0gdG9Ob2RlIOebruagh+eCuVxyXG4gICAgICogQHBhcmFtIG1vdmVUeXBlIOenu+WKqOexu+Wei++8jOW9seWTjeWPr+epv+i2iuWcsOW9olxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIGZpbmRQYXRoKGZyb21Ob2RlOiBJTWFwTm9kZSwgdG9Ob2RlOiBJTWFwTm9kZSwgbW92ZVR5cGU6IG1vdmVfdHlwZSk6IElNYXBOb2RlW10ge1xyXG4gICAgICAgIGlmIChmcm9tTm9kZSA9PSB0b05vZGUgfHwgKG1vdmVUeXBlIGFzIG51bWJlcikgPCB0b05vZGUudGVycmFpbikgcmV0dXJuIFtmcm9tTm9kZV07XHJcbiAgICAgICAgZnJvbU5vZGUucGFyZW50ID0gbnVsbDtcclxuICAgICAgICB0aGlzLm9wZW5MaXN0Lmxlbmd0aCA9IHRoaXMuY2xvc2VMaXN0Lmxlbmd0aCA9IDA7XHJcbiAgICAgICAgdGhpcy5vcGVuTGlzdC5wdXNoKGZyb21Ob2RlKTtcclxuICAgICAgICBmcm9tTm9kZS5HID0gMDtcclxuICAgICAgICBsZXQgZzogbnVtYmVyO1xyXG4gICAgICAgIGxldCBpbmRleDogbnVtYmVyO1xyXG4gICAgICAgIHdoaWxlIChmcm9tTm9kZSA9IHRoaXMub3Blbkxpc3QucG9wKCkpIHtcclxuICAgICAgICAgICAgbGV0IGFyb3VuZCA9IHRoaXMuZ2V0QXJvdW5kTm9kZShmcm9tTm9kZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VMaXN0LnB1c2goZnJvbU5vZGUpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBub2RlIG9mIGFyb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgLy/mib7liLDnm67moIdcclxuICAgICAgICAgICAgICAgIGlmIChub2RlID09IHRvTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50ID0gZnJvbU5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VQYXRoKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xvc2VMaXN0LmluZGV4T2Yobm9kZSkgPj0gMCB8fCAobW92ZVR5cGUgYXMgbnVtYmVyKSA8IG5vZGUudGVycmFpbikgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBnID0gZnJvbU5vZGUuRyArIHRoaXMuZ2V0Ryhmcm9tTm9kZSwgbm9kZSk7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMub3Blbkxpc3QuaW5kZXhPZihub2RlKVxyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuTGlzdC5wdXNoKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50ID0gZnJvbU5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5IID0gdGhpcy5tYW5oYXR0YW4obm9kZSwgdG9Ob2RlKTtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLkcgPSBnO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuRiA9IG5vZGUuSCArIG5vZGUuRztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3Blbkxpc3RbaW5kZXhdLkcgPiBnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuRyA9IGc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50ID0gZnJvbU5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuRiA9IHRoaXMub3Blbkxpc3RbaW5kZXhdLkcgKyB0aGlzLm9wZW5MaXN0W2luZGV4XS5IO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm9wZW5MaXN0LnNvcnQoKGEsIGIpID0+IGIuRiAtIGEuRik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbdG9Ob2RlXTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBwYXJzZVBhdGgobm9kZTogSU1hcE5vZGUpIHtcclxuICAgICAgICBsZXQgcmVzOiBJTWFwTm9kZVtdID0gW107XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICByZXMucHVzaChub2RlKTtcclxuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50O1xyXG4gICAgICAgIH0gd2hpbGUgKG5vZGUpXHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJTWFwTm9kZSB7XHJcbiAgICB3aWR0aDogbnVtYmVyXHJcbiAgICBoZWlnaHQ6IG51bWJlclxyXG4gICAgeDogbnVtYmVyXHJcbiAgICB5OiBudW1iZXJcclxuICAgIC8qKuWcsOW9oua2iOiAlyjpooTnlZkpICovXHJcbiAgICBjb3N0PzogbnVtYmVyXHJcbiAgICAvKirlnLDlvaLvvIjpooTnlZnvvIkgKi9cclxuICAgIHRlcnJhaW4/OiB0ZXJyYWluX3R5cGVcclxuICAgIHBhcmVudD86IElNYXBOb2RlXHJcbiAgICBHPzogbnVtYmVyXHJcbiAgICBIPzogbnVtYmVyXHJcbiAgICBGPzogbnVtYmVyXHJcbn1cclxuXHJcbi8qKuaMieWkp+Wwj+mhuuW6j++8jOi2iuWkp+a2iOiAl+i2iumrmCAqL1xyXG5leHBvcnQgZW51bSB0ZXJyYWluX3R5cGUge1xyXG4gICAgd2F0ZXIsXHJcbiAgICBub3JtYWwsXHJcbiAgICBmbHksXHJcbiAgICB1bndhbGtcclxufVxyXG5cclxuLyoq5Y+v5Lul56e75Yqo55qE5pa55byPICovXHJcbmV4cG9ydCBlbnVtIG1vdmVfdHlwZSB7XHJcbiAgICB3YWxrID0gdGVycmFpbl90eXBlLm5vcm1hbCxcclxuICAgIGZseSA9IHRlcnJhaW5fdHlwZS5mbHlcclxufSIsImltcG9ydCB7IElNYXBOb2RlIH0gZnJvbSBcIi4vQVN0YXJcIjtcclxuLyoq5Zyw5Zu+6IqC54K55pWw5o2uICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcE5vZGUgaW1wbGVtZW50cyBJTWFwTm9kZSB7XHJcbiAgICB3aWR0aDogbnVtYmVyXHJcbiAgICBoZWlnaHQ6IG51bWJlclxyXG4gICAgeDogbnVtYmVyXHJcbiAgICB5OiBudW1iZXJcclxuICAgIHBhcmVudD86IElNYXBOb2RlXHJcbiAgICBHPzogbnVtYmVyXHJcbiAgICBIPzogbnVtYmVyXHJcbiAgICBGPzogbnVtYmVyXHJcblxyXG5cclxuICAgIHJlbGVhc2UoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuaGVpZ2h0ID0gdGhpcy54ID0gdGhpcy55ID1cclxuICAgICAgICAgICAgdGhpcy5HID0gdGhpcy5IID0gdGhpcy5GID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUbyh4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IHRlcnJhaW5fdHlwZSwgSU1hcE5vZGUgfSBmcm9tIFwiLi4vQVN0YXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcEdyaWRJbmZvIGltcGxlbWVudHMgSU1hcE5vZGV7XHJcbiAgICB3aWR0aDogbnVtYmVyXHJcbiAgICBoZWlnaHQ6IG51bWJlclxyXG4gICAgeDogbnVtYmVyXHJcbiAgICB5OiBudW1iZXJcclxuICAgIC8qKuWcsOW9oua2iOiAlyjpooTnlZkpICovXHJcbiAgICAvLyBjb3N0PzogbnVtYmVyXHJcbiAgICAvKirlnLDlvaLvvIjpooTnlZnvvIkgKi9cclxuICAgIHRlcnJhaW4/OiB0ZXJyYWluX3R5cGVcclxuICAgIHBhcmVudD86IElNYXBOb2RlXHJcbiAgICBHPzogbnVtYmVyXHJcbiAgICBIPzogbnVtYmVyXHJcbiAgICBGPzogbnVtYmVyXHJcbn0iLCJpbXBvcnQgeyBJTWFwTm9kZSB9IGZyb20gXCIuLi9BU3RhclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwTWRse1xyXG4gICAgLyoq5a+76Lev5Zyw5Zu+5pWw5o2uICovXHJcbiAgICBtYXBOb2RlOklNYXBOb2RlW11bXVxyXG4gICAgQVN0YXJOb2RlV2lkdGg6bnVtYmVyXHJcbiAgICBBU3Rhck5vZGVIZWlnaHQ6bnVtYmVyXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zOk1hcE1kbDtcclxuICAgIHN0YXRpYyBnZXQgaW5zKCk6TWFwTWRse1xyXG4gICAgICAgIGlmKCFNYXBNZGwuX2lucyl7XHJcbiAgICAgICAgICAgIE1hcE1kbC5faW5zID0gbmV3IE1hcE1kbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE1hcE1kbC5faW5zO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEFTdGFyLCB7IElNYXBOb2RlLCB0ZXJyYWluX3R5cGUsIG1vdmVfdHlwZSB9IGZyb20gXCIuLi9BU3RhclwiXHJcbmltcG9ydCB7IHVpIH0gZnJvbSBcIi4uLy4uLy4uL3VpL2xheWFNYXhVSVwiO1xyXG5pbXBvcnQgSVZpZXcgZnJvbSBcIi4uLy4uLy4uL3ZpZXcvYmFzZS9JVmlld1wiO1xyXG5sZXQgIHN0YXJ0UG9pbnQ6SU1hcE5vZGU9IHVuZGVmaW5lZCxlbmRQb2ludDpJTWFwTm9kZSA9IHVuZGVmaW5lZFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBc3RhclRlc3QgZXh0ZW5kcyB1aS50ZXN0LkFzdGFyVUkgaW1wbGVtZW50cyBJVmlldyB7XHJcbiAgICBvcGVuKC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7IH1cclxuICAgIGNsb3NlKCk6IHZvaWQgeyB9XHJcbiAgIFxyXG4gICAgbWFwOntba2V5OnN0cmluZ106U3BOb2RlfSA9IHt9XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgbGV0IGFyciA9IFtdXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzMDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCByb2wgPSBbXVxyXG4gICAgICAgICAgICBhcnIucHVzaChyb2wpXHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzA7IGorKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBuZXcgbWFwTm9kZTtcclxuICAgICAgICAgICAgICAgIGxldCBzcCA9IG5ldyBTcE5vZGUobm9kZSlcclxuICAgICAgICAgICAgICAgIHRoaXMubWFwW2Ake2p9XyR7aX1gXSA9IHNwO1xyXG4gICAgICAgICAgICAgICAgc3AudGVycmFpbiA9IHRlcnJhaW5fdHlwZS53YXRlcjtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFkZENoaWxkKHNwKVxyXG4gICAgICAgICAgICAgICAgc3AueCA9IGogKiAxNVxyXG4gICAgICAgICAgICAgICAgc3AueSA9IGkgKiAxNVxyXG4gICAgICAgICAgICAgICAgbm9kZS54ID0galxyXG4gICAgICAgICAgICAgICAgbm9kZS55ID0gaVxyXG4gICAgICAgICAgICAgICAgbm9kZS53aWR0aCA9IDEwXHJcbiAgICAgICAgICAgICAgICBub2RlLmhlaWdodCA9IDEwXHJcbiAgICAgICAgICAgICAgICByb2wucHVzaChub2RlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEFTdGFyLmlucy5pbml0KGFycik7XHJcbiAgICAgICAgdGhpcy5zdGFyQnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+e1xyXG4gICAgICAgICAgICBzdGFydFBvaW50ID0gbnVsbFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5lbmRCdG4ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57XHJcbiAgICAgICAgICAgIGVuZFBvaW50ID0gbnVsbFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5zZWFyY2hCdG4ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57XHJcbiAgICAgICAgICAgIGxldCByZXMgPSBBU3Rhci5pbnMuZmluZFBhdGgoc3RhcnRQb2ludCxlbmRQb2ludCxtb3ZlX3R5cGUud2FsaylcclxuICAgICAgICAgICAgY29uc3QgZm4gPSAoKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYoIXJlcy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcyxmbik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSByZXMucG9wKClcclxuICAgICAgICAgICAgICAgIHRoaXMubWFwW2Ake25vZGUueH1fJHtub2RlLnl9YF0uZ3JhcGhpY3MuY2xlYXIoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIExheWEudGltZXIubG9vcCgzMDAsdGhpcyxmbilcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBtYXBOb2RlIGltcGxlbWVudHMgSU1hcE5vZGUge1xyXG4gICAgd2lkdGg6IG51bWJlclxyXG4gICAgaGVpZ2h0OiBudW1iZXJcclxuICAgIHg6IG51bWJlclxyXG4gICAgeTogbnVtYmVyXHJcbiAgICBjb3N0PzogbnVtYmVyXHJcbiAgICB0ZXJyYWluPzogdGVycmFpbl90eXBlXHJcbiAgICBmbGFnPzogbnVtYmVyXHJcbiAgICBwYXJlbnQ/OiBJTWFwTm9kZVxyXG4gICAgRz86IG51bWJlclxyXG4gICAgSD86IG51bWJlclxyXG4gICAgRj86IG51bWJlclxyXG59XHJcblxyXG5jbGFzcyBTcE5vZGUgZXh0ZW5kcyBMYXlhLkJveCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbm9kZTogSU1hcE5vZGUpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmhlaWdodCA9IDEwXHJcbiAgICAgICAgdGhpcy5vbihMYXlhLkV2ZW50LlJJR0hUX0NMSUNLLHRoaXMsKCk9PntcclxuICAgICAgICAgICAgdGhpcy50ZXJyYWluID0gMztcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZihzdGFydFBvaW50ID09PSBudWxsKXtcclxuICAgICAgICAgICAgICAgIHN0YXJ0UG9pbnQgPSB0aGlzLm5vZGVcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3MuY2xlYXIoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoZW5kUG9pbnQgPT09IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgZW5kUG9pbnQgPSB0aGlzLm5vZGVcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3MuY2xlYXIoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3RlcnJhaW4gPj0gdGVycmFpbl90eXBlLnVud2Fsaykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGVycmFpbiA9IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXJyYWluKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50ZXJyYWluID0gdGhpcy5fdGVycmFpbjtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgX3RlcnJhaW46IHRlcnJhaW5fdHlwZTtcclxuICAgIHNldCB0ZXJyYWluKHR5cGU6IHRlcnJhaW5fdHlwZSkge1xyXG4gICAgICAgIHRoaXMuX3RlcnJhaW4gPSB0eXBlO1xyXG4gICAgICAgIHRoaXMubm9kZS50ZXJyYWluID0gdHlwZTtcclxuICAgICAgICBsZXQgY29sb3I6IHN0cmluZztcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSB0ZXJyYWluX3R5cGUud2F0ZXI6XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IFwiIzE2MjhlZlwiXHJcbiAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICBjYXNlIHRlcnJhaW5fdHlwZS5ub3JtYWw6XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IFwiIzdhODBjZFwiXHJcbiAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICBjYXNlIHRlcnJhaW5fdHlwZS5mbHk6XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IFwiI2MzN2FjZFwiXHJcbiAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICBjYXNlIHRlcnJhaW5fdHlwZS51bndhbGs6XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IFwiI2VlMGUzYlwiXHJcbiAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcyA9IHRoaXMuZ3JhcGhpY3M7XHJcbiAgICAgICAgcy5jbGVhcigpXHJcbiAgICAgICAgcy5kcmF3Q2lyY2xlKDAsIDAsIDUsIGNvbG9yKVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwR3JpZCBleHRlbmRzIExheWEuSW1hZ2V7XHJcbiAgICByZWxlYXNlKCk6dm9pZHtcclxuICAgICAgICB0aGlzLnNraW4gPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlU2VsZigpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFNwcml0ZSA9IExheWEuU3ByaXRlO1xyXG5cclxuaW1wb3J0IEJveCA9IExheWEuQm94O1xyXG5pbXBvcnQgTWFwR3JpZCBmcm9tIFwiLi9NYXBHcmlkXCI7XHJcbmltcG9ydCBQb29sVXRpbCBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvcG9vbC9Qb29sVXRpbFwiO1xyXG5pbXBvcnQgUGxheWVyVmlldywgeyBhY3Rpb25fdHlwZSB9IGZyb20gXCIuLi8uLi9wbGF5ZXIvUGxheWVyVmlld1wiO1xyXG5pbXBvcnQgUGxheWVyQXBwZWFyYW5jZUluZm8gZnJvbSBcIi4uLy4uL3BsYXllci9tb2RlbC9QbGF5ZXJBcHBlYXJhbmNlSW5mb1wiO1xyXG5cclxuaW1wb3J0IEFTdGFyLCB7IHRlcnJhaW5fdHlwZSwgSU1hcE5vZGUgfSBmcm9tIFwiLi4vQVN0YXJcIjtcclxuaW1wb3J0IFBsYXllckluZm8gZnJvbSBcIi4uLy4uL3BsYXllci9tb2RlbC9QbGF5ZXJJbmZvXCI7XHJcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4uLy4uL3BsYXllci9QbGF5ZXJcIjtcclxuaW1wb3J0IFBsYXllckNvbnRyb2wgZnJvbSBcIi4uLy4uL3BsYXllci9jb250cm9sL1BsYXllckNvbnRyb2xcIjtcclxuaW1wb3J0IE1hcE1kbCBmcm9tIFwiLi4vbW9kZWwvTWFwTWRsXCI7XHJcbmltcG9ydCBNYXBVdGlsIGZyb20gXCIuL01hcFV0aWxcIjtcclxuaW1wb3J0IE1hcEdyaWRJbmZvIGZyb20gXCIuLi9tb2RlbC9NYXBHcmlkSW5mb1wiO1xyXG4vKipb6Lev5b6E77yM5rC05bmz5Liq5pWw77yM56uW55u05Liq5pWw77yM5qC85a2Q5aSn5bCPXSAqL1xyXG5jb25zdCBtYXBDZmcgPSB7XHJcbiAgICAxOiBbXCIuL2Fzc2V0L21hcC84MDAwMS9cIiwgOCwgNiwgMjU2XSxcclxufVxyXG5jb25zdCBtYXBOb2RlTXNnID0gWzI1MCwgMjUwLCA4LCA0LFxyXG4gICAgMSwgMywgMywgMywgMywgMywgMywgMyxcclxuICAgIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsXHJcbiAgICAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLFxyXG4gICAgMywgMSwgMSwgMSwgMSwgMSwgMSwgM1xyXG5dXHJcbi8qKuWcsOWbvuaYvuekuuWxgiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBTY2VuZSBleHRlbmRzIFNwcml0ZSB7XHJcbiAgICBtYXBMYXllcjogU2NlbmVMYXllcjtcclxuICAgIHBsYXllckxheWVyOiBTY2VuZUxheWVyO1xyXG5cclxuICAgIC8qKuWcsOWbvuS4iuaJgOacieeahOinkuiJsiAqL1xyXG4gICAgcGxheWVyTGlzdDogUGxheWVyW10gPSBbXTtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLm1hcExheWVyID0gbmV3IFNjZW5lTGF5ZXIpO1xyXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wbGF5ZXJMYXllciA9IG5ldyBTY2VuZUxheWVyKTtcclxuICAgICAgICB0aGlzLm1hcExheWVyLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMubWFwQ2xpayk7XHJcbiAgICAgICAgdGhpcy5DaGFuZ2VNYXAoMSk7XHJcbiAgICAgICAgTGF5YS50aW1lci5mcmFtZUxvb3AoMSwgdGhpcywgdGhpcy5sb29wKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgQ2hhbmdlTWFwKGlkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBsZXQgY2ZnID0gbWFwQ2ZnW2lkXTtcclxuICAgICAgICB0aGlzLnJlbGVhc2VNYXAoKTtcclxuICAgICAgICBsZXQgbm9kZTogTWFwR3JpZDtcclxuICAgICAgICBsZXQgaW5kZXggPSAxO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2ZnWzJdOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjZmdbMV07IGorKykge1xyXG4gICAgICAgICAgICAgICAgbm9kZSA9IFBvb2xVdGlsLk1hcEdyaWQuY3JlYXRlKGNmZ1swXSArIGluZGV4ICsgXCIuanBnXCIpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgIG5vZGUueSA9IGNmZ1szXSAqIGk7XHJcbiAgICAgICAgICAgICAgICBub2RlLnggPSBjZmdbM10gKiBqO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXBMYXllci5hZGRDaGlsZChub2RlKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IExheWEuc3RhZ2Uud2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBMYXlhLnN0YWdlLmhlaWdodDtcclxuXHJcbiAgICAgICAgLy/moLzlrZBcclxuICAgICAgICBsZXQgZ3dpZCA9IG1hcE5vZGVNc2dbMF1cclxuICAgICAgICBsZXQgZ2hlaWcgPSBtYXBOb2RlTXNnWzFdXHJcbiAgICAgICAgbGV0IHhOdW0gPSBtYXBOb2RlTXNnWzJdXHJcbiAgICAgICAgbGV0IHlOdW0gPSBtYXBOb2RlTXNnWzNdXHJcbiAgICAgICAgbGV0IGlkeCA9IDNcclxuICAgICAgICBNYXBNZGwuaW5zLkFTdGFyTm9kZVdpZHRoID0gZ3dpZDtcclxuICAgICAgICBNYXBNZGwuaW5zLkFTdGFyTm9kZUhlaWdodCA9IGdoZWlnO1xyXG4gICAgICAgIGxldCBncmlkQXJyOiBNYXBHcmlkSW5mb1tdW10gPSBbXTtcclxuICAgICAgICBsZXQgcm93czogTWFwR3JpZEluZm9bXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHhOdW07IGkrKykge1xyXG4gICAgICAgICAgICBncmlkQXJyLnB1c2gocm93cyA9IFtdKVxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHlOdW07IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWR4Kys7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5mbyA9IG5ldyBNYXBHcmlkSW5mbztcclxuICAgICAgICAgICAgICAgIGluZm8ueCA9IGk7XHJcbiAgICAgICAgICAgICAgICBpbmZvLnkgPSBqO1xyXG4gICAgICAgICAgICAgICAgaW5mby50ZXJyYWluID0gbWFwTm9kZU1zZ1tpZHhdXHJcbiAgICAgICAgICAgICAgICByb3dzLnB1c2goaW5mbyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgQVN0YXIuaW5zLmluaXQoTWFwTWRsLmlucy5tYXBOb2RlID0gZ3JpZEFycik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtYXBDbGlrKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYWRkUGxheWVyKGluZm86IFBsYXllckluZm8sIGJvcm5YOiBudW1iZXIsIGJvcm5ZOiBudW1iZXIsY29udHJvbDpQbGF5ZXJDb250cm9sKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHBsYXllcjogUGxheWVyID0gUG9vbFV0aWwucGxheWVyLmNyZWF0ZShQbGF5ZXIpIGFzIGFueTtcclxuICAgICAgICB0aGlzLnBsYXllckxpc3QucHVzaChwbGF5ZXIgYXMgYW55KTtcclxuICAgICAgICBwbGF5ZXIuaW5mbyA9IGluZm87XHJcbiAgICAgICAgcGxheWVyLnggPSBib3JuWDtcclxuICAgICAgICBwbGF5ZXIueSA9IGJvcm5ZO1xyXG4gICAgICAgIHBsYXllci5jb250cm9sID0gY29udHJvbDtcclxuICAgICAgICBwbGF5ZXIubWFwTm9kZSA9IE1hcFV0aWwuZ2V0TWFwTm9kZUJ5UG9zKGJvcm5YLCBib3JuWSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb29wKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBjb3N0VGltZSA9IExheWEudGltZXIuZGVsdGE7XHJcbiAgICAgICAgZm9yIChsZXQgcGxheWVyIG9mIHRoaXMucGxheWVyTGlzdCkge1xyXG4gICAgICAgICAgICBwbGF5ZXIubG9vcChjb3N0VGltZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgcmVsZWFzZU1hcCgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbm9kZTogTWFwR3JpZDtcclxuICAgICAgICB3aGlsZSAodGhpcy5tYXBMYXllci5udW1DaGlsZHJlbikge1xyXG4gICAgICAgICAgICBub2RlID0gdGhpcy5nZXRDaGlsZEF0KDApIGFzIE1hcEdyaWQ7XHJcbiAgICAgICAgICAgIFBvb2xVdGlsLk1hcEdyaWQucmVsZWFzZShub2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHBsYXllcjogUGxheWVyVmlldztcclxuICAgICAgICB3aGlsZSAodGhpcy5wbGF5ZXJMYXllci5udW1DaGlsZHJlbikge1xyXG4gICAgICAgICAgICBwbGF5ZXIgPSB0aGlzLmdldENoaWxkQXQoMCkgYXMgYW55O1xyXG4gICAgICAgICAgICBQb29sVXRpbC5wbGF5ZXIucmVsZWFzZShwbGF5ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5jbGFzcyBTY2VuZUxheWVyIGV4dGVuZHMgQm94IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy50b3AgPSB0aGlzLmxlZnQgPSB0aGlzLmJvdHRvbSA9IHRoaXMucmlnaHQgPSAwO1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBJTWFwTm9kZSB9IGZyb20gXCIuLi9BU3RhclwiO1xyXG5pbXBvcnQgTWFwTWRsIGZyb20gXCIuLi9tb2RlbC9NYXBNZGxcIjtcclxuaW1wb3J0IHsgZGlyZWN0aW9uIH0gZnJvbSBcIi4uLy4uL3BsYXllci9QbGF5ZXJWaWV3XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBVdGlsIHtcclxuICAgIHN0YXRpYyBkaXJNYXAgPSB7XHJcbiAgICAgICAgWzBiMTAwMF06ZGlyZWN0aW9uLnVwLFxyXG4gICAgICAgIFswYjExMDBdOmRpcmVjdGlvbi51cF9yaWdodCxcclxuICAgICAgICBbMGIwMTAwXTpkaXJlY3Rpb24ucmlnaHQsXHJcbiAgICAgICAgWzBiMDExMF06ZGlyZWN0aW9uLnJpZ2h0X2Rvd24sXHJcbiAgICAgICAgWzBiMDAxMF06ZGlyZWN0aW9uLmR3b24sXHJcbiAgICAgICAgWzBiMDAxMV06ZGlyZWN0aW9uLmRvd25fbGVmdCxcclxuICAgICAgICBbMGIxMDAxXTpkaXJlY3Rpb24ubGVmdF91cCxcclxuXHJcbiAgICB9XHJcbiAgICAvKirojrflj5blr7vot6/moLzlrZAgKi9cclxuICAgIHN0YXRpYyBnZXRNYXBOb2RlQnlQb3MoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBJTWFwTm9kZSB7XHJcbiAgICAgICAgaWYgKCFNYXBNZGwuaW5zLm1hcE5vZGUpIHJldHVybiBudWxsO1xyXG4gICAgICAgIGxldCBfeCA9IE1hdGguZmxvb3IoeCAvIE1hcE1kbC5pbnMuQVN0YXJOb2RlV2lkdGgpO1xyXG4gICAgICAgIGxldCBfeSA9IE1hdGguZmxvb3IoeSAvIE1hcE1kbC5pbnMuQVN0YXJOb2RlSGVpZ2h0KTtcclxuICAgICAgICByZXR1cm4gTWFwTWRsLmlucy5tYXBOb2RlW195XSA/IE1hcE1kbC5pbnMubWFwTm9kZVtfeV1bX3hdIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKirojrflj5blr7vot6/moLzlrZDkuK3lv4PlnZDmoIcgKi9cclxuICAgIHN0YXRpYyBnZXRNYXBOb2RlQ2VudGVyUG9zKG5vZGU6SU1hcE5vZGUscG9pbnQgPSBuZXcgTGF5YS5Qb2ludCk6TGF5YS5Qb2ludHtcclxuICAgICAgICBwb2ludC54ID0gbm9kZS54ICsoIG5vZGUud2lkdGggPj4xKTtcclxuICAgICAgICBwb2ludC55ID0gbm9kZS55ICsgKG5vZGUuaGVpZ2h0ID4+IDEpO1xyXG4gICAgICAgIHJldHVybiBwb2ludDtcclxuICAgIH1cclxuXHJcbiAgICAvKirojrflj5bmlrnlkJEgKi9cclxuICAgIHN0YXRpYyBnZXREaXJlY3Rpb24oc3RhcnRYOm51bWJlcixzdGFydFk6bnVtYmVyLGVuZFg6bnVtYmVyLGVuZFk6bnVtYmVyKTpkaXJlY3Rpb24gfCBudWxse1xyXG4gICAgICAgIGxldCB4ID0gc3RhcnRYIC0gZW5kWDtcclxuICAgICAgICBsZXQgeSA9IHN0YXJ0WSAtIGVuZFk7XHJcbiAgICAgICAgbGV0IGtleSA9IDA7XHJcbiAgICAgICAgbGV0IHRlbXAgOm51bWJlcjtcclxuICAgICAgICBpZih4ID4gMCl7XHJcbiAgICAgICAgICAgIGtleSB8PSAwYjAxMDA7XHJcbiAgICAgICAgfWVsc2UgaWYoeCA8IDApe1xyXG4gICAgICAgICAgICBrZXkgfD0gMGIwMDAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih5ID4gMCl7XHJcbiAgICAgICAgICAgIGtleSB8PSAwYjAwMTA7XHJcbiAgICAgICAgfWVsc2UgaWYoeSA8IDApe1xyXG4gICAgICAgICAgICBrZXkgfD0gMGIwMDAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTWFwVXRpbC5kaXJNYXBba2V5XTtcclxuICAgIH1cclxufSIsImltcG9ydCBQbGF5ZXJWaWV3IGZyb20gXCIuL1BsYXllclZpZXdcIjtcclxuaW1wb3J0IHsgSU1hcE5vZGUsIG1vdmVfdHlwZSB9IGZyb20gXCIuLi9tYXAvQVN0YXJcIjtcclxuaW1wb3J0IFBsYXllckluZm8gZnJvbSBcIi4vbW9kZWwvUGxheWVySW5mb1wiO1xyXG5pbXBvcnQgUGxheWVyQ29udHJvbCBmcm9tIFwiLi9jb250cm9sL1BsYXllckNvbnRyb2xcIjtcclxuaW1wb3J0IE1hcE1kbCBmcm9tIFwiLi4vbWFwL21vZGVsL01hcE1kbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyIGV4dGVuZHMgUGxheWVyVmlld3tcclxuICAgIC8qKuW9k+WJjeaJgOWcqOagvOWtkCAqL1xyXG4gICAgbWFwTm9kZTpJTWFwTm9kZVxyXG4gICAgaW5mbzpQbGF5ZXJJbmZvXHJcbiAgICBjb250cm9sOlBsYXllckNvbnRyb2xcclxuICAgIC8qKuWvu+i3r+agvOWtkCAqL1xyXG4gICAgcHJpdmF0ZSBwYXRoQXJyOklNYXBOb2RlW107XHJcbiAgICBwcml2YXRlIGN1cnJlbnRNYXBOb2RlOklNYXBOb2RlOy8v5LiL5LiA5q2l55uu5qCH5qC85a2QXHJcbiAgICBwcml2YXRlIG5leHRQb2ludDpMYXlhLlBvaW50ID0gbmV3IExheWEuUG9pbnQ7XHJcbiAgICBwcml2YXRlIGN1cnJlbnRQb3NpdGlvbjpMYXlhLlBvaW50ID0gbmV3IExheWEuUG9pbnQ7Ly/mnIDnu4jnm67moIfngrlcclxuXHJcbiAgICAvKipAcHJpdmF0ZSAqL1xyXG4gICAgbG9vcChjb3N0VGltZTpudW1iZXIpOnZvaWR7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG1vdmUoeDpudW1iZXIseTpudW1iZXIpOnZvaWR7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKCk6dm9pZHtcclxuICAgICAgICBzdXBlci5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMuaW5mbyA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzcG9zZSgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMuY29udHJvbC5kaXNwb3NlKCk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sID0gbnVsbDtcclxuICAgIH1cclxufSIsImltcG9ydCBNb3ZpZSBmcm9tIFwiLi4vLi4vdmlldy9Nb3ZpZS9Nb3ZpZVwiO1xyXG5pbXBvcnQgUG9vbFV0aWwgZnJvbSBcIi4uLy4uL3V0aWxzL3Bvb2wvUG9vbFV0aWxcIjtcclxuaW1wb3J0IFBsYXllckFwcGVhcmFuY2VJbmZvIGZyb20gXCIuL21vZGVsL1BsYXllckFwcGVhcmFuY2VJbmZvXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXJWaWV3IGV4dGVuZHMgTGF5YS5Cb3gge1xyXG4gICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24gPSBkaXJlY3Rpb24uZHdvbjtcclxuICAgIGFjdGlvbjogYWN0aW9uX3R5cGU7XHJcblxyXG4gICAgYXBwZWFyYW5jZTogUGxheWVyQXBwZWFyYW5jZUluZm9cclxuICAgIHByaXZhdGUgbW92aWVNYXA6IE1hcDxudW1iZXIsIE1vdmllPiA9IG5ldyBNYXA7XHJcblxyXG4gICAgcHJpdmF0ZSBzb3J0TGF5ZXIoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4uc29ydChcclxuICAgICAgICAgICAgKGEsIGIpID0+IGFbXCJtdlR5cGVcIl0gLSBiW1wibXZUeXBlXCJdXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRJbmZvKGluZm86IFBsYXllckFwcGVhcmFuY2VJbmZvKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hcHBlYXJhbmNlID0gaW5mbztcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFwcGVhcmFuY2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMubW92aWVNYXAuZm9yRWFjaCgodikgPT4ge1xyXG4gICAgICAgICAgICB2LnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgUG9vbFV0aWwuTW92aWUucmVsZWFzZSh2KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubW92aWVNYXAuY2xlYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwbGF5KGFjdGlvbjogYWN0aW9uX3R5cGUsIGRpcjogZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb24pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcjtcclxuICAgICAgICB0aGlzLmFjdGlvbiA9IGFjdGlvbjtcclxuICAgICAgICB0aGlzLnNldEFwcGVhcmFuY2UoZGlyLCBhY3Rpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0TW92aWUodHlwZTogcGxheWVyX21vdmllX3R5cGUsIHVybDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IG12ID0gdGhpcy5tb3ZpZU1hcC5nZXQodHlwZSkgfHwgUG9vbFV0aWwuTW92aWUuY3JlYXRlKCk7XHJcbiAgICAgICAgbXYubG9vcFBsYXkgPSB0cnVlO1xyXG4gICAgICAgIG12W1wibXZUeXBlXCJdID0gdHlwZTtcclxuICAgICAgICBtdi5hdXRvUGxheSA9IHRydWU7XHJcbiAgICAgICAgbXYuc2tpbiA9IHVybDtcclxuICAgICAgICB0aGlzLm1vdmllTWFwLnNldCh0eXBlLCBtdik7XHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZChtdik7XHJcbiAgICAgICAgdGhpcy5jYWxsTGF0ZXIodGhpcy5zb3J0TGF5ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKuiuvue9ruaooeWeiyAqL1xyXG4gICAgcHJpdmF0ZSBzZXRBcHBlYXJhbmNlKGRpcjogZGlyZWN0aW9uLCBhY3Rpb246IGFjdGlvbl90eXBlKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGluZm8gPSB0aGlzLmFwcGVhcmFuY2U7XHJcbiAgICAgICAgaWYgKCFpbmZvKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5zZXRNb3ZpZShwbGF5ZXJfbW92aWVfdHlwZS5ib2R5LCB0aGlzLmdldFVybEJ5SUQoaW5mby5ib2R5SUQsIGRpciwgYWN0aW9uKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRVcmxCeUlEKGlkOiBzdHJpbmcgfCBudW1iZXIsIGRpcjogZGlyZWN0aW9uLCBhY3Rpb246IGFjdGlvbl90eXBlKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgZGlyRmxhZyA9IGRpciA+IDQgPyA4IC0gZGlyIDogZGlyO1xyXG4gICAgICAgIHJldHVybiBgYXNzZXQvJHtpZH0ke2FjdGlvbn0ke2RpckZsYWd9Lmpzb25gO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKirmiYDmnInluo/liJfluKfnsbvlnovvvIzlsYLnuqcgKi9cclxuZXhwb3J0IGVudW0gcGxheWVyX21vdmllX3R5cGUge1xyXG4gICAgYm9keSwgd2VhcG9uXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIGRpcmVjdGlvbiB7XHJcbiAgICB1cCwgdXBfcmlnaHQsIHJpZ2h0LCByaWdodF9kb3duLCBkd29uLCBkb3duX2xlZnQsIGxlZnQsIGxlZnRfdXBcclxufVxyXG5cclxuZXhwb3J0IGVudW0gYWN0aW9uX3R5cGUge1xyXG4gICAgc3RhbmQgPSAxLCBydW4sIGF0dGFja1xyXG59IiwiaW1wb3J0IHsgQXJyYXlVdGlscyB9IGZyb20gXCIuLi91dGlscy9BcnJheVV0aWxzXCI7XHJcbmltcG9ydCB7IE1hcFN0cnVjdCB9IGZyb20gXCIuLi91dGlscy9NYXBTdHJ1Y3RcIjtcclxuXHJcbi8qKlxyXG4gKiDnuqLngrnnrqHnkIZcclxuICog5YiG56a75pi+56S65ZKM5pWw5o2u77yM5q+P5Liq6IqC54K56YO95pyJ5LiA5Liq54q25oCB77yM5Y+v5Lul5oqK57qi54K55a6e5L6L5LiO5Lu75oSP6IqC54K557uR5a6aL+ino+e7kVxyXG4gKiDoioLngrnlj6/ku6Xnu5HlrppoYW5kbGXmiJbogIXpgJrov4flhbPns7vlhbbku5boioLngrnlrp7njrDmm7TmlrDvvIzmm7TmlrDmmK/oh6rliqjnmoTvvIzlkIzml7blpoLmnpzmnInnu5Hlrprlrp7kvovvvIzlrp7kvovnmoTnirbmgIHkuZ/kvJroh6rliqjmm7TmlrBcclxuICogXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWRUaXBCYXNlIGV4dGVuZHMgTGF5YS5FdmVudERpc3BhdGNoZXIge1xyXG4gICAgLy/mnIDov5HkuIDmrKHlrZDoioLngrnop6blj5Hmm7TmlrDluKdpZFxyXG4gICAgcHJpdmF0ZSByZW5kZXJGcmFtZUlEOm51bWJlciA9IDA7XHJcbiAgICAvL+S4gOW4p+WGheWtkOiKgueCueabtOaWsOinpuWPkeeahOasoeaVsO+8iOaJgOacieexu+Wei+eahOmbhuWQiO+8iVxyXG4gICAgcHJpdmF0ZSBjaGlsZHJlbkNoYWdlVGltZTpudW1iZXIgPSAwO1xyXG4gICAgLy/mmK/lkKblj5bmtojlrZDoioLngrnop6blj5Hmm7TmlrDvvIjpmLLmraLlh7rnjrDmrbvlvqrnjq/vvIlcclxuICAgIHByaXZhdGUgbG9ja0NoaWxkcmVuQ2hhbmdlOmJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBwcml2YXRlIHRlbXA6IFJlZFRpcEJhc2U7XHJcbiAgICBwcml2YXRlIHRlbXBUYXJnZXQ6IHN0cmluZ1tdO1xyXG4gICAgLy8gcHJpdmF0ZSB0ZW1wTmFtZTpzdHJpbmc7XHJcbiAgICAvKirlhbPlv4PliJfooaggKi9cclxuICAgIHByaXZhdGUgY2FyZU1hcDogTWFwU3RydWN0PHN0cmluZywgW1JlZFRpcEJhc2UsIHN0cmluZ1tdXVtdPiA9IG5ldyBNYXBTdHJ1Y3Q7XHJcbiAgICAvKirnuqLngrnnirbmgIHnvJPlrZggKi9cclxuICAgIHByaXZhdGUgc3RhdGVNYXA6IE1hcFN0cnVjdDxzdHJpbmcsIGJvb2xlYW4+ID0gbmV3IE1hcFN0cnVjdDtcclxuICAgIC8qKue7keWumue6oueCueWunuS+iyAqL1xyXG4gICAgcHJpdmF0ZSBiaW5kUmVkVGlwOiBNYXBTdHJ1Y3Q8c3RyaW5nLCBMYXlhLlNwcml0ZVtdPiA9IG5ldyBNYXBTdHJ1Y3Q7XHJcbiAgICAvKiroioLngrnkuI5oYW5kbGXmmKDlsIQgKi9cclxuICAgIHByaXZhdGUgcmVnaXN0ZXJNYXA6IE1hcFN0cnVjdDxzdHJpbmcsIFtGdW5jdGlvbiwgYW55XT4gPSBuZXcgTWFwU3RydWN0O1xyXG4gICAgc3RhdGljIGdldCBpbnMoKTogUmVkVGlwQmFzZSB7XHJcbiAgICAgICAgbGV0IHM6IGFueSA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIHNbXCJfaW5zX1wiXSB8fCAoc1tcIl9pbnNfXCJdID0gbmV3IHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBfaW5pdCgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGluaXQoKTp2b2lke1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIuWcqGluaXTmlrnms5XkuK3nu5Hlrprop6blj5HngrnmiJbogIXlhbPns7voioLngrlcIilcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOazqOWGjOiKgueCueabtOaWsGhhbmRsZSzmsqHms6jlhozkuZ/kuI3lvbHlk43vvIzlj6/ku6Xlj6rlhbPlv4Plhbbku5boioLngrnvvIzoioLngrnnmoTliJvlu7rmmK/ku7vmhI/nmoRcclxuICAgICAqIEBwYXJhbSBuYW1lIFxyXG4gICAgICogQHBhcmFtIGNhbGwgXHJcbiAgICAgKiBAcGFyYW0gY2FsbGVyIFxyXG4gICAgICovXHJcbiAgICByZWdpc3RlcihuYW1lOiBzdHJpbmcsIGZuOiAoKSA9PiBib29sZWFuLCBjYWxsZXI6IGFueSkge1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJNYXAuc2V0KG5hbWUsIFtmbiwgY2FsbGVyXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluZEhhbmRsZS5iaW5kKHRoaXMsbmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnu5HlrprlpJbpg6jop6blj5HngrnvvIzmr5TlpoLmuLjmiI/mqKHlnZfmlbDmja7lsYLmm7TmlrDmlbDmja7vvIznu5HlrprnuqLngrnop6blj5HvvIzlnKjosIPnlKjlroxyZWdpc3RlcuWQjumdouebtOaOpeiwg+eUqFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGJpbmRIYW5kbGUobmFtZTpzdHJpbmcsZXZlbnROYW1lOnN0cmluZyxkaXNwYXRjaGVyOkxheWEuRXZlbnREaXNwYXRjaGVyKXtcclxuICAgICAgICBkaXNwYXRjaGVyLm9uKGV2ZW50TmFtZSx0aGlzLHRoaXMuZW1pdCxbbmFtZV0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJpbmRIYW5kbGUuYmluZCh0aGlzLG5hbWUpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOe7keWumuWFs+W/g+iKgueCuVxyXG4gICAgICogQHBhcmFtIHQgXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgdGFrZWNhcmUodDogUmVkVGlwQmFzZSkge1xyXG4gICAgICAgIHRoaXMudGVtcCA9IHQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOe7keWumuacrOe6oueCueeuoeeQhuWZqOeahOe6oueCueiKgueCuVxyXG4gICAgICovXHJcbiAgICBiaW5kTmFtZSguLi5mbGFnczogc3RyaW5nW10pIHtcclxuICAgICAgICB0aGlzLnRlbXBUYXJnZXQgPSBmbGFncztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWFs+W/g+iKgueCueeahOe6oueCueiKgueCueWQjVxyXG4gICAgICovXHJcbiAgICBjYXJlKC4uLmZsYWdzOiBzdHJpbmdbXSkge1xyXG4gICAgICAgIC8v5Li65YWz57O76IqC54K55re75Yqg5pS55Y+Y6Kem5Y+RaGFuZGxlXHJcbiAgICAgICAgZm9yIChsZXQgZiBvZiBmbGFncykge1xyXG4gICAgICAgICAgICB0aGlzLnRlbXAub24oZiwgdGhpcywgdGhpcy5jaGlsZHJlbkNoYW5nZSwgW3RoaXMudGVtcFRhcmdldF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc3RyQXJyOnN0cmluZ1tdXHJcbiAgICAgICAgZm9yIChsZXQgayBvZiB0aGlzLnRlbXBUYXJnZXQpIHtcclxuICAgICAgICAgICAgbGV0IGxzID0gdGhpcy5jYXJlTWFwLmdldChrKTtcclxuICAgICAgICAgICAgaWYgKGxzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gQXJyYXlVdGlscy5maW5kKGxzLCAodikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2WzBdID09IHRoaXMudGVtcDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyQXJyID0gQXJyYXlVdGlscy51bmlxdWUodGFyZ2V0WzFdLmNvbmNhdChmbGFncykpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFsxXS5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFsxXS5wdXNoKC4uLnN0ckFycik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxzLnB1c2goW3RoaXMudGVtcCwgZmxhZ3NdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FyZU1hcC5zZXQoaywgW1t0aGlzLnRlbXAsIGZsYWdzXV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6Kem5Y+R57qi54K56K6h566XXHJcbiAgICAgKiBAcGFyYW0gZmxhZyBcclxuICAgICAqL1xyXG4gICAgZW1pdChmbGFnOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNoYW5nZShmbGFnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS4uue6oueCuee7keWumuaJp+ihjGhhbmRsZVxyXG4gICAgICogQHBhcmFtIG5hbWUg57qi54K55ZCNXHJcbiAgICAgKiBAcGFyYW0gcmVkVGlwIOe6oueCueWunuS+i1xyXG4gICAgICovXHJcbiAgICBiaW5kUmVkKG5hbWU6IHN0cmluZywgcmVkVGlwOiBMYXlhLlNwcml0ZSk6IHZvaWQge1xyXG4gICAgICAgIGxldCBscyA9IHRoaXMuYmluZFJlZFRpcC5nZXQobmFtZSk7XHJcbiAgICAgICAgaWYgKCFscykge1xyXG4gICAgICAgICAgICB0aGlzLmJpbmRSZWRUaXAuc2V0KG5hbWUsIFtyZWRUaXBdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAobHMuaW5kZXhPZihyZWRUaXApID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBscy5wdXNoKHJlZFRpcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVkVGlwLnZpc2libGUgPSB0aGlzLmdldFN0YXR1cyhuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOino+e7kee6oueCue+8jOWPquaYr+ino+e7kee6oueCueaYvuekuu+8jOaVsOaNruWxguS7jeS8muiuoeeul1xyXG4gICAgICogQHBhcmFtIG5hbWUgXHJcbiAgICAgKiBAcGFyYW0gcmVkVGlwIFxyXG4gICAgICovXHJcbiAgICB1bkJpbmRSZWQobmFtZTogc3RyaW5nLCByZWRUaXA6IExheWEuU3ByaXRlKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGxzID0gdGhpcy5iaW5kUmVkVGlwLmdldChuYW1lKTtcclxuICAgICAgICBpZiAobHMpIHtcclxuICAgICAgICAgICAgbHMuc3BsaWNlKGxzLmluZGV4T2YocmVkVGlwKSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W57qi54K56IqC54K554q25oCBXHJcbiAgICAgKi9cclxuICAgIGdldFN0YXR1cyhmbGFnOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgcmVzID0gISF0aGlzLnN0YXRlTWFwLmdldChmbGFnKTtcclxuICAgICAgICBpZiAocmVzKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICBsZXQgbWFwID0gdGhpcy5jYXJlTWFwLmdldChmbGFnKTtcclxuICAgICAgICBpZiAobWFwKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHQgb2YgbWFwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrIG9mIHRbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodFswXS5nZXRTdGF0dXMoaykpIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIHByaXZhdGUgc2V0UmVkVGlwKGZsYWc6IHN0cmluZywgc3RhdGU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBsZXQgbHMgPSB0aGlzLmJpbmRSZWRUaXAuZ2V0KGZsYWcpO1xyXG4gICAgICAgIGlmIChscykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpIG9mIGxzKSB7XHJcbiAgICAgICAgICAgICAgICBpLnZpc2libGUgPSBzdGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoq5a2Q6IqC54K554q25oCB5pS55Y+Y77yM5LiN5Lya6Kem5Y+R5paw6K6h566X77yM5ou/57yT5a2YICovXHJcbiAgICBwcml2YXRlIGNoaWxkcmVuQ2hhbmdlKHRhcmdlckZsYWdzOiBzdHJpbmdbXSwgc3RhdHVzOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgaWYodGhpcy5sb2NrQ2hpbGRyZW5DaGFuZ2UpIHJldHVybjtcclxuICAgICAgICBsZXQgdmFsdWU6IGJvb2xlYW4gPSBzdGF0dXM7XHJcbiAgICAgICAgZm9yIChsZXQgayBvZiB0YXJnZXJGbGFncykge1xyXG4gICAgICAgICAgICBzdGF0dXMgPSB2YWx1ZSB8fCB0aGlzLmdldFN0YXR1cyhrKTtcclxuICAgICAgICAgICAgLy/orr7nva7nuqLngrnlrp7kvotcclxuICAgICAgICAgICAgdGhpcy5zZXRSZWRUaXAoaywgc3RhdHVzKTtcclxuICAgICAgICAgICAgLy/pgJrnn6XniLboioLngrlcclxuICAgICAgICAgICAgdGhpcy5ldmVudChrLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+WKoOS4iumqjOivgeaYr+WQpuW+queOr+WFs+W/g+e6oueCuVxyXG4gICAgICAgIGxldCBmcmFtZUlEOm51bWJlciA9IExheWEuc3RhZ2VbXCJfcmVuZGVyQ291bnRcIl07XHJcbiAgICAgICAgaWYoZnJhbWVJRCl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMucmVuZGVyRnJhbWVJRCAhPSBmcmFtZUlEKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5DaGFnZVRpbWUgPSAxO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5DaGFnZVRpbWUrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0aGlzLmNoaWxkcmVuQ2hhZ2VUaW1lID4gMTAwMCl7Ly/kuIDluKflhoXop6blj5ExMDAw5qyh5Lul5LiK5a2Q6IqC54K56Kem5Y+R5pu05paw77yM6KGo56S65bqU6K+l5piv5Ye6546w5b6q546v5byV55So5LqGXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMuY29uc3RydWN0b3IubmFtZSArIFwi5LiA5bin6Kem5Y+R5aSq5aSa5qyh5a2Q6IqC54K55pu05paw55u45bqU77yM6K+l6IqC54K55bey57uP5YGc5q2i5a2Q6IqC54K56Kem5Y+R5pu05paw77yM5bqU6K+l5piv5Ye6546w5b6q546v5YWz5b+D77yf77yf77yfXCIpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2tDaGlsZHJlbkNoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5pys6IqC54K554q25oCB5pS55Y+YICovXHJcbiAgICBwcml2YXRlIGNoYW5nZShmbGFnOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBsZXQgc3RhdHVzID0gdGhpcy5jYWxjdWxhdGUoZmxhZyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZU1hcC5zZXQoZmxhZywgc3RhdHVzKTtcclxuICAgICAgICBzdGF0dXMgPSBzdGF0dXMgfHwgdGhpcy5nZXRTdGF0dXMoZmxhZylcclxuICAgICAgICAvL+abtOaWsOinhuWbvlxyXG4gICAgICAgIHRoaXMuc2V0UmVkVGlwKGZsYWcsIHN0YXR1cyk7XHJcbiAgICAgICAgLy/pgJrnn6XniLboioLngrlcclxuICAgICAgICB0aGlzLmV2ZW50KGZsYWcsIHN0YXR1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq6YeN5paw6K6h566XICovXHJcbiAgICBwcml2YXRlIGNhbGN1bGF0ZShmbGFnOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAodGhpcy5yZWdpc3Rlck1hcC5oYXMoZmxhZykpIHtcclxuICAgICAgICAgICAgbGV0IFtmbiwgY2FsbGVyXSA9IHRoaXMucmVnaXN0ZXJNYXAuZ2V0KGZsYWcpO1xyXG4gICAgICAgICAgICBsZXQgcmVzID0gZm4uY2FsbChjYWxsZXIpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLnN0YXRlTWFwLnNldChmbGFnLCByZXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybihg57qi54K56ZKp5a2QJHtmbGFnfeacqua3u+WKoOWkhOeQhuWHveaVsGApO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFJlZFRpcEJhc2UgZnJvbSBcIi4vUmVkVGlwQmFzZVwiO1xyXG5pbXBvcnQge3JlZDEscmVkMn0gZnJvbSBcIi4vUmVkVGlwVGVzdFwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlZFRpcE1ncntcclxuICAgIHByaXZhdGUgcmVkQXJyYXk6UmVkVGlwQmFzZVtdID0gW11cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0KCk6dm9pZHtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyKCk7XHJcbiAgICAgICAgZm9yKGxldCBpIG9mIHRoaXMucmVkQXJyYXkpe1xyXG4gICAgICAgICAgICBpLl9pbml0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVnaXN0ZXIoKTp2b2lke1xyXG4gICAgICAgIHRoaXMucmVkQXJyYXkgPSBbXHJcbiAgICAgICAgICAgIHJlZDEuaW5zLFxyXG4gICAgICAgICAgICByZWQyLmlucyxcclxuICAgICAgICBdXHJcblxyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCB7IHVpIH0gZnJvbSBcIi4uL3VpL2xheWFNYXhVSVwiO1xyXG5pbXBvcnQgSVZpZXcgZnJvbSBcIi4uL3ZpZXcvYmFzZS9JVmlld1wiO1xyXG5pbXBvcnQgUmVkVGlwQmFzZSBmcm9tIFwiLi9SZWRUaXBCYXNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWRUaXBUZXN0IGV4dGVuZHMgdWkudGVzdC5WaWV3VGVzdFVJIGltcGxlbWVudHMgSVZpZXd7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5sb29wKClcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCk6dm9pZHtcclxuICAgICAgICBsZXQgaW1nID0gbmV3IExheWEuSW1hZ2U7XHJcbiAgICAgICAgaW1nLnNraW4gPSBcImNvbXAvaW1hZ2UucG5nXCJcclxuICAgICAgICB0aGlzLmFkZENoaWxkKGltZylcclxuICAgIH1cclxuXHJcblxyXG4gICAgY3JlYXRlVmlldyh2aWV3OmFueSl7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlVmlldyh2aWV3KVxyXG4gICAgICAgIHJlZDEuaW5zLmJpbmRSZWQoXCJBMVwiLHRoaXMuQTEpXHJcbiAgICAgICAgcmVkMS5pbnMuYmluZFJlZChcIkEyXCIsdGhpcy5BMilcclxuICAgICAgICByZWQxLmlucy5iaW5kUmVkKFwiQTNcIix0aGlzLkEzKVxyXG4gICAgICAgIHJlZDIuaW5zLmJpbmRSZWQoXCJCMVwiLHRoaXMuQjEpXHJcbiAgICAgICAgcmVkMi5pbnMuYmluZFJlZChcIkIyXCIsdGhpcy5CMilcclxuICAgIH1cclxuXHJcbiAgICBsb29wKCl7XHJcblxyXG4gICAgICAgIExheWEudGltZXIubG9vcCg1MDAsdGhpcywoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHJlZDEuaW5zLmVtaXQoXCJBMlwiKVxyXG4gICAgICAgICAgICAvLyByZWQxLmlucy5lbWl0KFwiQTFcIilcclxuICAgICAgICAgICAgLy8gcmVkMS5pbnMuZW1pdChcIkEzXCIpXHJcbiAgICAgICAgICAgIC8vIHJlZDIuaW5zLmVtaXQoXCJCMVwiKVxyXG4gICAgICAgICAgICAvLyByZWQyLmlucy5lbWl0KFwiQjJcIilcclxuICAgICAgICAgICAgVGVzdE1EbC5pbnMuZXZlbnQoXCJVUERBVEVfSU5GT1wiKVxyXG4gICAgICAgICAgICBUZXN0TURsLmlucy5ldmVudChcIlVQREFURV9MVlwiKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyByZWQxIGV4dGVuZHMgUmVkVGlwQmFzZXtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKTp2b2lke1xyXG4gICAgICAgIC8v57uR5a6aaGFuZGxl77yM6Kem5Y+R54K5XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcihcIkEyXCIsdGhpcy5BMix0aGlzKShcIlVQREFURV9JTkZPXCIsVGVzdE1EbC5pbnMpKFwiVVBEQVRFX0xWXCIsVGVzdE1EbC5pbnMpXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcihcIkEzXCIsdGhpcy5BMyx0aGlzKShcIlVQREFURV9MVlwiLFRlc3RNRGwuaW5zKVxyXG4gICAgICAgIC8v5p6E5bu65YWz5b+D5YiX6KGoXHJcbiAgICAgICAgdGhpcy50YWtlY2FyZShyZWQyLmlucykuYmluZE5hbWUoXCJBMlwiKS5jYXJlKFwiQjFcIixcIkIyXCIpXHJcbiAgICAgICAgdGhpcy50YWtlY2FyZShyZWQyLmlucykuYmluZE5hbWUoXCJBMVwiKS5jYXJlKFwiQjFcIixcIkIyXCIpXHJcbiAgICB9XHJcbiAgICBBMSgpe1xyXG4gICAgICAgIGxldCBhID0gMDtcclxuICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCAxMDAwMDA7aSsrKXtcclxuICAgICAgICAgICAgYSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSA+IDAuNTtcclxuICAgIH1cclxuXHJcbiAgICBBMigpe1xyXG4gICAgICAgIGxldCBhID0gMDtcclxuICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCAxMDAwMDA7aSsrKXtcclxuICAgICAgICAgICAgYSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSA+IDAuNTtcclxuICAgIH1cclxuXHJcbiAgICBBMygpe1xyXG4gICAgICAgIGxldCBhID0gMDtcclxuICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCAxMDAwMDA7aSsrKXtcclxuICAgICAgICAgICAgYSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSA+IDAuNTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIHJlZDIgZXh0ZW5kcyBSZWRUaXBCYXNle1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpXHJcblxyXG4gICAgfVxyXG4gICAgaW5pdCgpe1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXIoXCJCMVwiLHRoaXMuQjEsdGhpcykoXCJVUERBVEVfTFZcIixUZXN0TURsLmlucylcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyKFwiQjJcIix0aGlzLkIyLHRoaXMpKFwiVVBEQVRFX0lORk9cIixUZXN0TURsLmlucylcclxuXHJcbiAgICAgICAgdGhpcy50YWtlY2FyZShyZWQxLmlucykuYmluZE5hbWUoXCJCMVwiKS5jYXJlKFwiQTFcIilcclxuICAgIH1cclxuICAgIEIxKCl7XHJcbiAgICAgICAgbGV0IGEgPSAwO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7aSA8IDEwMDAwO2krKyl7XHJcbiAgICAgICAgICAgIGErKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgPiAwLjU7XHJcbiAgICB9XHJcbiAgICBCMigpe1xyXG4gICAgICAgIGxldCBhID0gMDtcclxuICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCAxMDAwMDtpKyspe1xyXG4gICAgICAgICAgICBhKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpID4gMC41O1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBUZXN0TURsIGV4dGVuZHMgTGF5YS5FdmVudERpc3BhdGNoZXJ7XHJcbiAgICBzdGF0aWMgZ2V0IGlucygpOlRlc3RNRGx7XHJcbiAgICAgICAgcmV0dXJuIFRlc3RNRGxbXCJfaW5zXCJdIHx8IChUZXN0TURsW1wiX2luc1wiXSA9IG5ldyBUZXN0TURsKVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG4iLCIvKipcclxuICog5a2Q5by56ISa5pys77yM5a6e546w5a2Q5by56aOe6KGM6YC76L6R5Y+K5a+56LGh5rGg5Zue5pS25py65Yi2XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWxsZXQgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8v6K6+572u5Yid5aeL6YCf5bqmXHJcbiAgICAgICAgdmFyIHJpZzogTGF5YS5SaWdpZEJvZHkgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XHJcbiAgICAgICAgcmlnLnNldFZlbG9jaXR5KHsgeDogMCwgeTogLTEwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVHJpZ2dlckVudGVyKG90aGVyOiBhbnksIHNlbGY6IGFueSwgY29udGFjdDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgLy/lpoLmnpzooqvnorDliLDvvIzliJnnp7vpmaTlrZDlvLlcclxuICAgICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICAvL+WmguaenOWtkOW8uei2heWHuuWxj+W5le+8jOWImeenu+mZpOWtkOW8uVxyXG4gICAgICAgIGlmICgodGhpcy5vd25lciBhcyBMYXlhLlNwcml0ZSkueSA8IC0xMCkge1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8v5a2Q5by56KKr56e76Zmk5pe277yM5Zue5pS25a2Q5by55Yiw5a+56LGh5rGg77yM5pa55L6/5LiL5qyh5aSN55So77yM5YeP5bCR5a+56LGh5Yib5bu65byA6ZSAXHJcbiAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJidWxsZXRcIiwgdGhpcy5vd25lcik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgR2FtZVVJIGZyb20gXCIuL0dhbWVVSVwiO1xyXG4vKipcclxuICog5o6J6JC955uS5a2Q6ISa5pys77yM5a6e546w55uS5a2Q56Kw5pKe5Y+K5Zue5pS25rWB56iLXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEcm9wQm94IGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgLyoq55uS5a2Q562J57qnICovXHJcbiAgICBsZXZlbDogbnVtYmVyID0gMTtcclxuICAgIC8qKuetiee6p+aWh+acrOWvueixoeW8leeUqCAqL1xyXG4gICAgcHJpdmF0ZSBfdGV4dDogTGF5YS5UZXh0O1xyXG4gICAgLyoq5Yia5L2T5a+56LGh5byV55SoICovXHJcbiAgICBwcml2YXRlIF9yaWc6IExheWEuUmlnaWRCb2R5XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8qKuiOt+W+l+e7hOS7tuW8leeUqO+8jOmBv+WFjeavj+asoeiOt+WPlue7hOS7tuW4puadpeS4jeW/heimgeeahOafpeivouW8gOmUgCAqL1xyXG4gICAgICAgIHRoaXMuX3JpZyA9IHRoaXMub3duZXIuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRCb2R5KTtcclxuICAgICAgICB0aGlzLmxldmVsID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNSkgKyAxO1xyXG4gICAgICAgIHRoaXMuX3RleHQgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwibGV2ZWxUeHRcIikgYXMgTGF5YS5UZXh0O1xyXG4gICAgICAgIHRoaXMuX3RleHQudGV4dCA9IHRoaXMubGV2ZWwgKyBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIC8v6K6p5oyB57ut55uS5a2Q5peL6L2sXHJcbiAgICAgICAgKHRoaXMub3duZXIgYXMgTGF5YS5TcHJpdGUpLnJvdGF0aW9uKys7XHJcbiAgICB9XHJcblxyXG4gICAgb25UcmlnZ2VyRW50ZXIob3RoZXI6IGFueSwgc2VsZjogYW55LCBjb250YWN0OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB2YXIgb3duZXI6IExheWEuU3ByaXRlID0gdGhpcy5vd25lciBhcyBMYXlhLlNwcml0ZTtcclxuICAgICAgICBpZiAob3RoZXIubGFiZWwgPT09IFwiYnV0dGxlXCIpIHtcclxuICAgICAgICAgICAgLy/norDmkp7liLDlrZDlvLnlkI7vvIzlop7liqDnp6/liIbvvIzmkq3mlL7lo7Dpn7PnibnmlYhcclxuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWwgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsLS07XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0LmNoYW5nZVRleHQodGhpcy5sZXZlbCArIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgb3duZXIuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRCb2R5KS5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IC0xMCB9KTtcclxuICAgICAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZChcInNvdW5kL2hpdC53YXZcIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3duZXIucGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVmZmVjdDogTGF5YS5BbmltYXRpb24gPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiZWZmZWN0XCIsIHRoaXMuY3JlYXRlRWZmZWN0LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3QucG9zKG93bmVyLngsIG93bmVyLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIG93bmVyLnBhcmVudC5hZGRDaGlsZChlZmZlY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdC5wbGF5KDAsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoXCJzb3VuZC9kZXN0cm95LndhdlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBHYW1lVUkuaW5zdGFuY2UuYWRkU2NvcmUoMSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvdGhlci5sYWJlbCA9PT0gXCJncm91bmRcIikge1xyXG4gICAgICAgICAgICAvL+WPquimgeacieS4gOS4quebkuWtkOeisOWIsOWcsOadv++8jOWImeWBnOatoua4uOaIj1xyXG4gICAgICAgICAgICBvd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgIEdhbWVVSS5pbnN0YW5jZS5zdG9wR2FtZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKirkvb/nlKjlr7nosaHmsaDliJvlu7rniIbngrjliqjnlLsgKi9cclxuICAgIGNyZWF0ZUVmZmVjdCgpOiBMYXlhLkFuaW1hdGlvbiB7XHJcbiAgICAgICAgbGV0IGFuaTogTGF5YS5BbmltYXRpb24gPSBuZXcgTGF5YS5BbmltYXRpb24oKTtcclxuICAgICAgICBhbmkubG9hZEFuaW1hdGlvbihcInRlc3QvVGVzdEFuaS5hbmlcIik7XHJcbiAgICAgICAgYW5pLm9uKExheWEuRXZlbnQuQ09NUExFVEUsIG51bGwsIHJlY292ZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlY292ZXIoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGFuaS5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwiZWZmZWN0XCIsIGFuaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhbmk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8v55uS5a2Q6KKr56e76Zmk5pe277yM5Zue5pS255uS5a2Q5Yiw5a+56LGh5rGg77yM5pa55L6/5LiL5qyh5aSN55So77yM5YeP5bCR5a+56LGh5Yib5bu65byA6ZSA44CCXHJcbiAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJkcm9wQm94XCIsIHRoaXMub3duZXIpO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCBEcm9wQm94IGZyb20gXCIuL0Ryb3BCb3hcIjtcclxuaW1wb3J0IEJ1bGxldCBmcm9tIFwiLi9CdWxsZXRcIjtcclxuLyoqXHJcbiAqIOa4uOaIj+aOp+WItuiEmuacrOOAguWumuS5ieS6huWHoOS4qmRyb3BCb3jvvIxidWxsZXTvvIxjcmVhdGVCb3hJbnRlcnZhbOetieWPmOmHj++8jOiDveWkn+WcqElEReaYvuekuuWPiuiuvue9ruivpeWPmOmHj1xyXG4gKiDmm7TlpJrnsbvlnovlrprkuYnvvIzor7flj4LogIPlrpjmlrnmlofmoaNcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb250cm9sIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmRyb3BCb3gsdGlwczpcIuaOieiQveWuueWZqOmihOWItuS9k+WvueixoVwiLHR5cGU6UHJlZmFifSovXHJcbiAgICBkcm9wQm94OiBMYXlhLlByZWZhYjtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpidWxsZXQsdGlwczpcIuWtkOW8uemihOWItuS9k+WvueixoVwiLHR5cGU6UHJlZmFifSovXHJcbiAgICBidWxsZXQ6IExheWEuUHJlZmFiO1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmNyZWF0ZUJveEludGVydmFsLHRpcHM6XCLpl7TpmpTlpJrlsJHmr6vnp5LliJvlu7rkuIDkuKrkuIvot4znmoTlrrnlmahcIix0eXBlOmludCxkZWZhdWx0OjEwMDB9Ki9cclxuICAgIGNyZWF0ZUJveEludGVydmFsOiBudW1iZXIgPSAxMDAwO1xyXG4gICAgLyoq5byA5aeL5pe26Ze0Ki9cclxuICAgIHByaXZhdGUgX3RpbWU6IG51bWJlciA9IDA7XHJcbiAgICAvKirmmK/lkKblt7Lnu4/lvIDlp4vmuLjmiI8gKi9cclxuICAgIHByaXZhdGUgX3N0YXJ0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIC8qKuWtkOW8ueWSjOebkuWtkOaJgOWcqOeahOWuueWZqOWvueixoSAqL1xyXG4gICAgcHJpdmF0ZSBfZ2FtZUJveDogTGF5YS5TcHJpdGU7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl90aW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB0aGlzLl9nYW1lQm94ID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImdhbWVCb3hcIikgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVCb3goKTtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICAvL+avj+mXtOmalOS4gOauteaXtumXtOWIm+W7uuS4gOS4quebkuWtkFxyXG4gICAgICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGlmIChub3cgLSB0aGlzLl90aW1lID4gdGhpcy5jcmVhdGVCb3hJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lID0gbm93O1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJveCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVCb3goKTogdm9pZCB7XHJcbiAgICAgICAgLy/kvb/nlKjlr7nosaHmsaDliJvlu7rnm5LlrZBcclxuICAgICAgICBsZXQgYm94OiBMYXlhLlNwcml0ZSA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJkcm9wQm94XCIsIHRoaXMuZHJvcEJveC5jcmVhdGUsIHRoaXMuZHJvcEJveCk7XHJcbiAgICAgICAgYm94LnBvcyhNYXRoLnJhbmRvbSgpICogKExheWEuc3RhZ2Uud2lkdGggLSAxMDApLCAtMTAwKTtcclxuICAgICAgICB0aGlzLl9nYW1lQm94LmFkZENoaWxkKGJveCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25TdGFnZUNsaWNrKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAvL+WBnOatouS6i+S7tuWGkuazoe+8jOaPkOmrmOaAp+iDve+8jOW9k+eEtuS5n+WPr+S7peS4jeimgVxyXG4gICAgICAgIC8vIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgLy/oiJ7lj7Dooqvngrnlh7vlkI7vvIzkvb/nlKjlr7nosaHmsaDliJvlu7rlrZDlvLlcclxuICAgICAgICBsZXQgZmx5ZXI6IExheWEuU3ByaXRlID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bihcImJ1bGxldFwiLCB0aGlzLmJ1bGxldC5jcmVhdGUsIHRoaXMuYnVsbGV0KTtcclxuICAgICAgICBmbHllci5wb3MoTGF5YS5zdGFnZS5tb3VzZVgsIExheWEuc3RhZ2UubW91c2VZKTtcclxuICAgICAgICB0aGlzLl9nYW1lQm94LmFkZENoaWxkKGZseWVyKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImNsaWNrXCIpXHJcbiAgICB9XHJcblxyXG4gICAgLyoq5byA5aeL5ri45oiP77yM6YCa6L+H5r+A5rS75pys6ISa5pys5pa55byP5byA5aeL5ri45oiPKi9cclxuICAgIHN0YXJ0R2FtZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3N0YXJ0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKue7k+adn+a4uOaIj++8jOmAmui/h+mdnua/gOa0u+acrOiEmuacrOWBnOatoua4uOaIjyAqL1xyXG4gICAgc3RvcEdhbWUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQm94SW50ZXJ2YWwgPSAxMDAwO1xyXG4gICAgICAgIHRoaXMuX2dhbWVCb3gucmVtb3ZlQ2hpbGRyZW4oKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IHVpIH0gZnJvbSBcIi4vLi4vdWkvbGF5YU1heFVJXCI7XHJcbmltcG9ydCBHYW1lQ29udHJvbCBmcm9tIFwiLi9HYW1lQ29udHJvbFwiXHJcbi8qKlxyXG4gKiDmnKznpLrkvovph4fnlKjpnZ7ohJrmnKznmoTmlrnlvI/lrp7njrDvvIzogIzkvb/nlKjnu6fmib/pobXpnaLln7rnsbvvvIzlrp7njrDpobXpnaLpgLvovpHjgILlnKhJREXph4zpnaLorr7nva7lnLrmma/nmoRSdW50aW1l5bGe5oCn5Y2z5Y+v5ZKM5Zy65pmv6L+b6KGM5YWz6IGUXHJcbiAqIOebuOavlOiEmuacrOaWueW8j++8jOe7p+aJv+W8j+mhtemdouexu++8jOWPr+S7peebtOaOpeS9v+eUqOmhtemdouWumuS5ieeahOWxnuaAp++8iOmAmui/h0lEReWGhXZhcuWxnuaAp+WumuS5ie+8ie+8jOavlOWmgnRoaXMudGlwTGJsbO+8jHRoaXMuc2NvcmVMYmzvvIzlhbfmnInku6PnoIHmj5DnpLrmlYjmnpxcclxuICog5bu66K6u77ya5aaC5p6c5piv6aG16Z2i57qn55qE6YC76L6R77yM6ZyA6KaB6aKR57mB6K6/6Zeu6aG16Z2i5YaF5aSa5Liq5YWD57Sg77yM5L2/55So57un5om/5byP5YaZ5rOV77yM5aaC5p6c5piv54us56uL5bCP5qih5Z2X77yM5Yqf6IO95Y2V5LiA77yM5bu66K6u55So6ISa5pys5pa55byP5a6e546w77yM5q+U5aaC5a2Q5by56ISa5pys44CCXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lVUkgZXh0ZW5kcyB1aS50ZXN0LlRlc3RTY2VuZVVJIHtcclxuICAgIC8qKuiuvue9ruWNleS+i+eahOW8leeUqOaWueW8j++8jOaWueS+v+WFtuS7luexu+W8leeUqCAqL1xyXG4gICAgc3RhdGljIGluc3RhbmNlOiBHYW1lVUk7XHJcbiAgICAvKirlvZPliY3muLjmiI/np6/liIblrZfmrrUgKi9cclxuICAgIHByaXZhdGUgX3Njb3JlOiBudW1iZXI7XHJcbiAgICAvKirmuLjmiI/mjqfliLbohJrmnKzlvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmgKfog73lvIDplIAgKi9cclxuICAgIHByaXZhdGUgX2NvbnRyb2w6IEdhbWVDb250cm9sO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgR2FtZVVJLmluc3RhbmNlID0gdGhpcztcclxuICAgICAgICAvL+WFs+mXreWkmueCueinpuaOp++8jOWQpuWImeWwseaXoOaVjOS6hlxyXG4gICAgICAgIExheWEuTW91c2VNYW5hZ2VyLm11bHRpVG91Y2hFbmFibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fY29udHJvbCA9IHRoaXMuZ2V0Q29tcG9uZW50KEdhbWVDb250cm9sKTtcclxuICAgICAgICAvL+eCueWHu+aPkOekuuaWh+Wtl++8jOW8gOWni+a4uOaIj1xyXG4gICAgICAgIHRoaXMudGlwTGJsbC5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uVGlwQ2xpY2spO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVGlwQ2xpY2soZTogTGF5YS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGlwTGJsbC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fc2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVMYmwudGV4dCA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5fY29udHJvbC5zdGFydEdhbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKirlop7liqDliIbmlbAgKi9cclxuICAgIGFkZFNjb3JlKHZhbHVlOiBudW1iZXIgPSAxKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fc2NvcmUgKz0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5zY29yZUxibC5jaGFuZ2VUZXh0KFwi5YiG5pWw77yaXCIgKyB0aGlzLl9zY29yZSk7XHJcbiAgICAgICAgLy/pmo/nnYDliIbmlbDotorpq5jvvIzpmr7luqblop7lpKdcclxuICAgICAgICBpZiAodGhpcy5fY29udHJvbC5jcmVhdGVCb3hJbnRlcnZhbCA+IDYwMCAmJiB0aGlzLl9zY29yZSAlIDIwID09IDApIHRoaXMuX2NvbnRyb2wuY3JlYXRlQm94SW50ZXJ2YWwgLT0gMjA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5YGc5q2i5ri45oiPICovXHJcbiAgICBzdG9wR2FtZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRpcExibGwudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy50aXBMYmxsLnRleHQgPSBcIua4uOaIj+e7k+adn+S6hu+8jOeCueWHu+Wxj+W5lemHjeaWsOW8gOWni1wiO1xyXG4gICAgICAgIHRoaXMuX2NvbnRyb2wuc3RvcEdhbWUoKTtcclxuICAgIH1cclxufSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xuaW1wb3J0IFZpZXc9TGF5YS5WaWV3O1xyXG5pbXBvcnQgRGlhbG9nPUxheWEuRGlhbG9nO1xyXG5pbXBvcnQgU2NlbmU9TGF5YS5TY2VuZTtcbmV4cG9ydCBtb2R1bGUgdWkudGVzdCB7XHJcbiAgICBleHBvcnQgY2xhc3MgQXN0YXJVSSBleHRlbmRzIExheWEuVmlldyB7XHJcblx0XHRwdWJsaWMgY29udGFpbmVyOkxheWEuQm94O1xuXHRcdHB1YmxpYyBzdGFyQnRuOkxheWEuQnV0dG9uO1xuXHRcdHB1YmxpYyBlbmRCdG46TGF5YS5CdXR0b247XG5cdFx0cHVibGljIHNlYXJjaEJ0bjpMYXlhLkJ1dHRvbjtcbiAgICAgICAgcHVibGljIHN0YXRpYyAgdWlWaWV3OmFueSA9e1widHlwZVwiOlwiVmlld1wiLFwicHJvcHNcIjp7XCJ3aWR0aFwiOjExMzYsXCJoZWlnaHRcIjo2NDB9LFwiY29tcElkXCI6MixcImNoaWxkXCI6W3tcInR5cGVcIjpcIkJveFwiLFwicHJvcHNcIjp7XCJ2YXJcIjpcImNvbnRhaW5lclwiLFwidG9wXCI6MCxcInJpZ2h0XCI6MCxcImxlZnRcIjowLFwiYm90dG9tXCI6MH0sXCJjb21wSWRcIjo0fSx7XCJ0eXBlXCI6XCJCdXR0b25cIixcInByb3BzXCI6e1wieVwiOjcwLFwieFwiOjM1MCxcInZhclwiOlwic3RhckJ0blwiLFwic2tpblwiOlwiY29tcC9idXR0b24ucG5nXCIsXCJsYWJlbFwiOlwic3RhcnRcIn0sXCJjb21wSWRcIjo2fSx7XCJ0eXBlXCI6XCJCdXR0b25cIixcInByb3BzXCI6e1wieVwiOjcwLFwieFwiOjQ4MixcInZhclwiOlwiZW5kQnRuXCIsXCJza2luXCI6XCJjb21wL2J1dHRvbi5wbmdcIixcImxhYmVsXCI6XCJlbmRCdG5cIn0sXCJjb21wSWRcIjo3fSx7XCJ0eXBlXCI6XCJCdXR0b25cIixcInByb3BzXCI6e1wieVwiOjcwLFwieFwiOjYwMyxcInZhclwiOlwic2VhcmNoQnRuXCIsXCJza2luXCI6XCJjb21wL2J1dHRvbi5wbmdcIixcImxhYmVsXCI6XCJzZWFyY2hcIn0sXCJjb21wSWRcIjo4fV0sXCJsb2FkTGlzdFwiOltcImNvbXAvYnV0dG9uLnBuZ1wiXSxcImxvYWRMaXN0M0RcIjpbXX07XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVZpZXcoQXN0YXJVSS51aVZpZXcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGV4cG9ydCBjbGFzcyBUZXN0U2NlbmVVSSBleHRlbmRzIExheWEuU2NlbmUge1xyXG5cdFx0cHVibGljIHNjb3JlTGJsOkxheWEuTGFiZWw7XG5cdFx0cHVibGljIHRpcExibGw6TGF5YS5MYWJlbDtcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcInRlc3QvVGVzdFNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGV4cG9ydCBjbGFzcyBWaWV3VGVzdFVJIGV4dGVuZHMgTGF5YS5WaWV3IHtcclxuXHRcdHB1YmxpYyBBMTpMYXlhLlJhZGlvO1xuXHRcdHB1YmxpYyBBMjpMYXlhLlJhZGlvO1xuXHRcdHB1YmxpYyBBMzpMYXlhLlJhZGlvO1xuXHRcdHB1YmxpYyBCMTpMYXlhLlJhZGlvO1xuXHRcdHB1YmxpYyBCMjpMYXlhLlJhZGlvO1xuICAgICAgICBwdWJsaWMgc3RhdGljICB1aVZpZXc6YW55ID17XCJ0eXBlXCI6XCJWaWV3XCIsXCJwcm9wc1wiOntcIndpZHRoXCI6MTEzNixcImhlaWdodFwiOjY0MH0sXCJjb21wSWRcIjoyLFwiY2hpbGRcIjpbe1widHlwZVwiOlwiUmFkaW9cIixcInByb3BzXCI6e1wieVwiOjEyNixcInhcIjoxNzAsXCJ2YXJcIjpcIkExXCIsXCJza2luXCI6XCJjb21wL3JhZGlvLnBuZ1wiLFwibGFiZWxcIjpcIkExXCJ9LFwiY29tcElkXCI6OH0se1widHlwZVwiOlwiUmFkaW9cIixcInByb3BzXCI6e1wieVwiOjE1NCxcInhcIjoxNzAsXCJ2YXJcIjpcIkEyXCIsXCJza2luXCI6XCJjb21wL3JhZGlvLnBuZ1wiLFwibGFiZWxcIjpcIkEyXCJ9LFwiY29tcElkXCI6OX0se1widHlwZVwiOlwiUmFkaW9cIixcInByb3BzXCI6e1wieVwiOjE5MCxcInhcIjoxNzAsXCJ2YXJcIjpcIkEzXCIsXCJza2luXCI6XCJjb21wL3JhZGlvLnBuZ1wiLFwibGFiZWxcIjpcIkEzXCJ9LFwiY29tcElkXCI6MTB9LHtcInR5cGVcIjpcIlJhZGlvXCIsXCJwcm9wc1wiOntcInlcIjoxMjYsXCJ4XCI6MjMzLFwidmFyXCI6XCJCMVwiLFwic2tpblwiOlwiY29tcC9yYWRpby5wbmdcIixcImxhYmVsXCI6XCJCMVwifSxcImNvbXBJZFwiOjExfSx7XCJ0eXBlXCI6XCJSYWRpb1wiLFwicHJvcHNcIjp7XCJ5XCI6MTU0LFwieFwiOjIzMyxcInZhclwiOlwiQjJcIixcInNraW5cIjpcImNvbXAvcmFkaW8ucG5nXCIsXCJsYWJlbFwiOlwiQjJcIn0sXCJjb21wSWRcIjoxM31dLFwibG9hZExpc3RcIjpbXCJjb21wL3JhZGlvLnBuZ1wiXSxcImxvYWRMaXN0M0RcIjpbXX07XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVZpZXcoVmlld1Rlc3RVSS51aVZpZXcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyIiwiZXhwb3J0IGNsYXNzIEFycmF5VXRpbHMge1xyXG4gICAgc3RhdGljIGZpbmQ8dj4oYXJyOiB2W10sIGNiOiAoZWxlOiB2KSA9PiBib29sZWFuKTogdiB8IG51bGwge1xyXG4gICAgICAgIGZvciAobGV0IGkgb2YgYXJyKSB7XHJcbiAgICAgICAgICAgIGlmIChjYihpKSkgcmV0dXJuIGk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKumZpOmHjSAqL1xyXG4gICAgc3RhdGljIHVuaXF1ZShhcnI6IGFueVtdKTogYW55W10ge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQoYXJyKSk7XHJcbiAgICB9XHJcblxyXG59IiwiXHJcblxyXG5leHBvcnQgY2xhc3MgTWFwU3RydWN0IDxLLCBWPntcclxuICAgIHByaXZhdGUga2V5czogS1tdID0gW11cclxuICAgIHByaXZhdGUgdmFsdWVzOiBWW10gPSBbXVxyXG4gICAgcHJpdmF0ZSBfc2l6ZSA9IDA7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmtleXMubGVuZ3RoID0gdGhpcy52YWx1ZXMubGVuZ3RoID0gdGhpcy5fc2l6ZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlKGtleTogSyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBpZHggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xyXG4gICAgICAgIGlmIChpZHggPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmtleXMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgdGhpcy52YWx1ZXMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgdGhpcy5fc2l6ZS0tO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZm9yRWFjaChjYWxsYmFja2ZuOiAodmFsdWU6IFYsIGtleTogSywgbWFwOiB0aGlzKSA9PiB2b2lkLCB0aGlzQXJnPzogYW55KTogdm9pZCB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMua2V5cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBjYWxsYmFja2ZuKHRoaXMudmFsdWVzW2ldLCB0aGlzLmtleXNbaV0sIHRoaXMpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0KGtleTogSyk6IFYgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGxldCBpZHggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1tpZHhdO1xyXG4gICAgfVxyXG4gICAgaGFzKGtleTogSyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmtleXMuaW5kZXhPZihrZXkpID49IDA7XHJcbiAgICB9XHJcbiAgICBzZXQoa2V5OiBLLCB2YWx1ZTogVik6IHRoaXMge1xyXG4gICAgICAgIGxldCBpZHggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xyXG4gICAgICAgIGlmIChpZHggPj0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlc1tpZHhdID0gdmFsdWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5rZXlzLnB1c2goa2V5KVxyXG4gICAgICAgICAgICB0aGlzLnZhbHVlcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5fc2l6ZSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIGdldCBzaXplKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XHJcbiAgICB9XHJcbn0iLCJcclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFBvb2xCYXNlPFQ+e1xyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBfaW5zOiBhbnk7XHJcbiAgICBwcm90ZWN0ZWQgcG9vbDogVFtdID0gW11cclxuICAgIHN0YXRpYyBnZXQgaW5zKCkge1xyXG4gICAgICAgIGxldCB0OiBhbnkgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdFtcIl9pbnNcIl0pIHRbXCJfaW5zXCJdID0gbmV3IHQ7XHJcbiAgICAgICAgcmV0dXJuIHRbXCJfaW5zXCJdO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSguLi5hcmdzKTogYW55IHsgfVxyXG4gICAgcmVsZWFzZShub2RlOiBUKTogdm9pZCB7IH1cclxufSIsImltcG9ydCBNYXBOb2RlUG9vbCBmcm9tIFwiLi9pdGVtL01hcE5vZGVQb29sXCI7XHJcbmltcG9ydCBNYXBHcmlkUG9vbCBmcm9tIFwiLi9pdGVtL01hcEdyaWRQb29sXCI7XHJcbmltcG9ydCBNb3ZpZVBvb2wgZnJvbSBcIi4vaXRlbS9Nb3ZpZVBvb2xcIjtcclxuaW1wb3J0IFBsYXllclBvb2wgZnJvbSBcIi4vaXRlbS9QbGF5ZXJQb29sXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb29sVXRpbCB7XHJcbiAgICBzdGF0aWMgZ2V0IE1hcE5vZGUoKTogTWFwTm9kZVBvb2wge1xyXG4gICAgICAgIHJldHVybiBNYXBOb2RlUG9vbC5pbnM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBNYXBHcmlkKCk6IE1hcEdyaWRQb29sIHtcclxuICAgICAgICByZXR1cm4gTWFwR3JpZFBvb2wuaW5zO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgTW92aWUoKTpNb3ZpZVBvb2x7XHJcbiAgICAgICAgcmV0dXJuIE1vdmllUG9vbC5pbnM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBwbGF5ZXIoKTpQbGF5ZXJQb29se1xyXG4gICAgICAgIHJldHVybiBQbGF5ZXJQb29sLmlucztcclxuICAgIH1cclxufVxyXG4iLCJcclxuaW1wb3J0IE1hcEdyaWQgZnJvbSBcIi4uLy4uLy4uL2JhdHRsZS9tYXAvdmlldy9NYXBHcmlkXCI7XHJcbmltcG9ydCB7IFBvb2xCYXNlIH0gZnJvbSBcIi4uL1Bvb2xCYXNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBHcmlkUG9vbCBleHRlbmRzIFBvb2xCYXNlPE1hcEdyaWQ+IHtcclxuICAgIGNyZWF0ZShza2luOiBzdHJpbmcpOiBNYXBHcmlkIHtcclxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMucG9vbC5wb3AoKSB8fCBuZXcgTWFwR3JpZDtcclxuICAgICAgICBub2RlLnNraW4gPSBza2luO1xyXG4gICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbGVhc2Uobm9kZTogTWFwR3JpZCk6IHZvaWQge1xyXG4gICAgICAgIG5vZGUucmVsZWFzZSgpO1xyXG4gICAgICAgIHRoaXMucG9vbC5wdXNoKG5vZGUpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSU1hcE5vZGUgfSBmcm9tIFwiLi4vLi4vLi4vYmF0dGxlL21hcC9BU3RhclwiO1xyXG5pbXBvcnQgTWFwTm9kZSBmcm9tIFwiLi4vLi4vLi4vYmF0dGxlL21hcC9NYXBOb2RlXCI7XHJcbmltcG9ydCB7IFBvb2xCYXNlIH0gZnJvbSBcIi4uL1Bvb2xCYXNlXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwTm9kZVBvb2wgZXh0ZW5kcyBQb29sQmFzZTxNYXBOb2RlPntcclxuICAgIGNyZWF0ZSh4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiBNYXBOb2RlIHtcclxuICAgICAgICBsZXQgbm9kZTogTWFwTm9kZSA9IHRoaXMucG9vbC5wb3AoKSB8fCBuZXcgTWFwTm9kZTtcclxuICAgICAgICBub2RlLnNldFRvKHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbGVhc2Uobm9kZTpNYXBOb2RlKTp2b2lke1xyXG4gICAgICAgIG5vZGUucmVsZWFzZSgpO1xyXG4gICAgICAgIHRoaXMucG9vbC5wdXNoKG5vZGUpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUG9vbEJhc2UgfSBmcm9tIFwiLi4vUG9vbEJhc2VcIjtcclxuaW1wb3J0IE1vdmllIGZyb20gXCIuLi8uLi8uLi92aWV3L01vdmllL01vdmllXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb3ZpZVBvb2wgZXh0ZW5kcyBQb29sQmFzZTxNb3ZpZT57XHJcbiAgICBjcmVhdGUoKTogTW92aWUge1xyXG4gICAgICAgIGxldCBub2RlID0gdGhpcy5wb29sLnBvcCgpIHx8IG5ldyBNb3ZpZTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuICAgIHJlbGVhc2Uobm9kZTogTW92aWUpOiB2b2lkIHtcclxuICAgICAgICBub2RlLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5wb29sLnB1c2gobm9kZSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBQb29sQmFzZSB9IGZyb20gXCIuLi9Qb29sQmFzZVwiO1xyXG5pbXBvcnQgUGxheWVyVmlldyBmcm9tIFwiLi4vLi4vLi4vYmF0dGxlL3BsYXllci9QbGF5ZXJWaWV3XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXJQb29sIGV4dGVuZHMgUG9vbEJhc2U8UGxheWVyVmlldz57XHJcbiAgICBjcmVhdGUoY2x6Om5ldygpPT5QbGF5ZXJWaWV3ID0gUGxheWVyVmlldyk6IFBsYXllclZpZXcge1xyXG4gICAgICAgIGxldCBub2RlID0gdGhpcy5wb29sLnBvcCgpIHx8IG5ldyBjbHo7XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9XHJcbiAgICByZWxlYXNlKG5vZGU6IFBsYXllclZpZXcpOiB2b2lkIHtcclxuICAgICAgICBub2RlLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5wb29sLnB1c2gobm9kZSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgU3ByaXRlID0gTGF5YS5TcHJpdGU7XHJcbmltcG9ydCBBdXRvQml0bWFwID0gbGF5YS51aS5BdXRvQml0bWFwXHJcbmltcG9ydCBSZXNvdXJjZU1nciBmcm9tIFwiLi4vLi4vUmVzb3VyY2VNZ3JcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW92aWUgZXh0ZW5kcyBTcHJpdGUge1xyXG4gICAgLyoqKuabtOaWsOS4gOW4pyAqL1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IFVQREFURTpzdHJpbmcgPSBcIlVQREFURVwiO1xyXG4gICAgLyoq5Yqg6L295a6M5oiQICovXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgTE9BRF9DT01QTEVURTpzdHJpbmcgPSBcIkxPQURfQ09NUExFVEVcIjtcclxuICAgIC8qKuaSreaUvuWujOaIkCAqL1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IFBMQVlfQ09NUExFVEU6c3RyaW5nID0gXCJQTEFZX0NPTVBMRVRFXCI7XHJcbiAgICAvKirlrozmiJDkuIDova7lvqrnjq8gKi9cclxuICAgIHN0YXRpYyByZWFkb25seSBMT09QX0NPTVBMRVRFOnN0cmluZyA9IFwiTE9PUF9DT01QTEVURVwiO1xyXG4gICAgZnJhbWVSYWNlOiBudW1iZXIgPSAyO1xyXG4gICAgcHJpdmF0ZSBfc2tpbjogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBiaXRNYXA6IEF1dG9CaXRtYXA7XHJcbiAgICBwcml2YXRlIF9pbmRleCA9IDA7XHJcbiAgICBwcml2YXRlIF9mcmFtZU51bTogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgX2xvb3BQbGF5OiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIF9hdXRvUGxheTogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBwcml2YXRlIF9pc1BsYXlpbmc6Ym9vbGVhbiA9IGZhbHNlO1xyXG4gICAgbG9hZENvbXBsZXRlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGNmZzogeyBtYzogeyBmcmFtZVJhdGU6IHN0cmluZywgZnJhbWVzOiB7IHJlczogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlciB9W10gfSwgcmVzOiB7IFtrZXk6IHN0cmluZ106IHsgeDogbnVtYmVyLCB5OiBudW1iZXIsIHc6IG51bWJlciwgaDogbnVtYmVyIH0gfSB9XHJcbiAgICBwcml2YXRlIGJpdE1hcFNvdXJjZTogeyBba2V5OiBzdHJpbmddOiBMYXlhLlRleHR1cmUgfVxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmdyYXBoaWNzID0gdGhpcy5iaXRNYXAgPSBuZXcgQXV0b0JpdG1hcDtcclxuICAgIH1cclxuICAgIGdldCBmcmFtZU51bSgpIHsgcmV0dXJuIHRoaXMuX2ZyYW1lTnVtOyB9XHJcbiAgICBnZXQgbG9vcFBsYXkoKSB7IHJldHVybiB0aGlzLl9sb29wUGxheTsgfVxyXG4gICAgc2V0IGxvb3BQbGF5KHY6IGJvb2xlYW4pIHsgXHJcbiAgICAgICAgdGhpcy5fbG9vcFBsYXkgPSB2OyBcclxuICAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgIH1cclxuICAgIGdldCBhdXRvUGxheSgpIHsgcmV0dXJuIHRoaXMuX2F1dG9QbGF5OyB9XHJcbiAgICBzZXQgYXV0b1BsYXkodjogYm9vbGVhbikgeyB0aGlzLl9hdXRvUGxheSA9IHY7IH1cclxuICAgIHNldCBza2luKHY6IHN0cmluZykge1xyXG4gICAgICAgIGlmICh0aGlzLl9za2luID09IHYpIHJldHVybjtcclxuICAgICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5fc2tpbiA9IHY7XHJcbiAgICAgICAgdGhpcy5zZXRTa2luKHYpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBza2luKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLl9za2luOyB9XHJcblxyXG4gICAgLyoqKuWKoOi9veW6j+WIl+W4p+i1hOa6kCAqL1xyXG4gICAgcHJpdmF0ZSBhc3luYyBzZXRTa2luKHBhdGg6IHN0cmluZykge1xyXG4gICAgICAgIGlmKCFwYXRoKSByZXR1cm47XHJcbiAgICAgICAgUmVzb3VyY2VNZ3IuaW5zLmFkZE1vdmllUmVmcmVuY2UocGF0aCk7XHJcbiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IFJlc291cmNlTWdyLmlucy5nZXRNb3ZpZVJlc291cmNlKHBhdGgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9za2luICE9IHBhdGgpIHtcclxuICAgICAgICAgICAgUmVzb3VyY2VNZ3IuaW5zLnJlbW92ZU1vdmllUmVmcmVuY2UocGF0aCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudChNb3ZpZS5MT0FEX0NPTVBMRVRFKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkQ29tcGxldGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmNmZyA9IFJlc291cmNlTWdyLmlucy5nZXRNb3ZpZUpzb24ocGF0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuYml0TWFwU291cmNlID0gcmVzO1xyXG4gICAgICAgICAgICB0aGlzLl9mcmFtZU51bSA9IHRoaXMuY2ZnLm1jLmZyYW1lcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWVSYWNlID09IDAgJiYgKHRoaXMuZnJhbWVSYWNlID0gK3RoaXMuY2ZnLm1jLmZyYW1lUmF0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSB0aGlzLl9pbmRleDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2F1dG9QbGF5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvb3BSZWZyZXNoKCk6IHZvaWQge1xyXG4gICAgICAgIGlmKCF0aGlzLmxvYWRDb21wbGV0ZSkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLl9mcmFtZU51bSA8PSArK3RoaXMuX2luZGV4KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9sb29wUGxheSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50KE1vdmllLkxPT1BfQ09NUExFVEUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudChNb3ZpZS5QTEFZX0NPTVBMRVRFKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gdGhpcy5faW5kZXg7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnQoTW92aWUuVVBEQVRFLHRoaXMuX2luZGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGluZGV4KHY6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX2luZGV4ID0gdjtcclxuICAgICAgICBpZiAodGhpcy5sb2FkQ29tcGxldGUpIHtcclxuICAgICAgICAgICAgaWYodiA+PSB0aGlzLmZyYW1lTnVtKSB0aGlzLl9pbmRleCA9IHYgPSB0aGlzLmZyYW1lTnVtIC0gMTtcclxuICAgICAgICAgICAgbGV0IGNmZyA9IHRoaXMuY2ZnLm1jLmZyYW1lc1t2XTtcclxuICAgICAgICAgICAgdGhpcy5iaXRNYXAuc291cmNlID0gdGhpcy5iaXRNYXBTb3VyY2VbY2ZnLnJlc107XHJcbiAgICAgICAgICAgIHRoaXMuYml0TWFwLnNvdXJjZS5vZmZzZXRYID0gY2ZnLng7XHJcbiAgICAgICAgICAgIHRoaXMuYml0TWFwLnNvdXJjZS5vZmZzZXRZID0gY2ZnLnk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpbmRleCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgcGxheShzdGFydEluZGV4OiBudW1iZXIgPSAwKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IHN0YXJ0SW5kZXg7XHJcbiAgICAgICAgaWYodGhpcy5faXNQbGF5aW5nKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5faXNQbGF5aW5nID0gdHJ1ZTtcclxuICAgICAgICBMYXlhLnRpbWVyLmZyYW1lTG9vcCh0aGlzLmZyYW1lUmFjZSwgdGhpcywgdGhpcy5sb29wUmVmcmVzaCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICBpZighdGhpcy5faXNQbGF5aW5nKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5faXNQbGF5aW5nID0gZmFsc2U7XHJcbiAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLCB0aGlzLmxvb3BSZWZyZXNoKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB0aGlzLmJpdE1hcFNvdXJjZSA9IHRoaXMuY2ZnID0gbnVsbDtcclxuICAgICAgICB0aGlzLmJpdE1hcC5zb3VyY2UgPSB0aGlzLl9za2luID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9mcmFtZU51bSA9IHRoaXMuZnJhbWVSYWNlID0gMDtcclxuICAgICAgICB0aGlzLmxvYWRDb21wbGV0ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2F1dG9QbGF5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9za2luICYmIFJlc291cmNlTWdyLmlucy5yZW1vdmVNb3ZpZVJlZnJlbmNlKHRoaXMuX3NraW4pO1xyXG4gICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgfVxyXG5cclxufSIsIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlldzEgZXh0ZW5kcyBMYXlhLlZpZXd7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICBsZXQgbGFiID0gbmV3IExheWEuTGFiZWxcclxuICAgICAgICBsYWIudGV4dCA9IFwiaGVsbG9cIlxyXG4gICAgICAgIGxhYi5jb2xvciA9IFwiI0ZGMDAwMFwiXHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZChsYWIpO1xyXG4gICAgICAgIGxldCBpbWcgPSBuZXcgTGF5YS5JbWFnZVxyXG4gICAgICAgIGltZy5za2luID0gXCJjb21wL2ltYWdlLnBuZ1wiLy9cInRlc3QvYzEucG5nXCJcclxuICAgICAgICB0aGlzLmFkZENoaWxkKGltZylcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFZpZXcyIGV4dGVuZHMgTGF5YS5WaWV3e1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUmVkVGlwVGVzdCBmcm9tIFwiLi4vLi4vcmVkVGlwL1JlZFRpcFRlc3RcIjtcclxuaW1wb3J0IElWaWV3IGZyb20gXCIuL0lWaWV3XCI7XHJcbmltcG9ydCBWaWV3MSwgeyBWaWV3MiB9IGZyb20gXCIuLi9WaWV3MVwiO1xyXG5pbXBvcnQgQXN0YXJUZXN0IGZyb20gXCIuLi8uLi9iYXR0bGUvbWFwL3Rlc3QvQXN0YXJUZXN0XCI7XHJcbmxldCBpZDogbnVtYmVyID0gMTtcclxuY29uc3QgbWFwOiB7IFtrZXk6IG51bWJlcl06IFtuZXcgKCkgPT4gSVZpZXcsIHN0cmluZ1tdLCBzdHJpbmdbXSwgcGFuZWxMYXllcl0gfSA9IHt9O1xyXG5jb25zdCBwYW5lbEluc3RhbmNlTWFwOiB7IFtpZDogbnVtYmVyXTogSVZpZXcgfSA9IHt9O1xyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB2aWV3IOazqOWGjOmdouadv1xyXG4gKiBAcGFyYW0gZGVwZW5kdGVuY2VBdGxhcyDkvp3otZblm77pm4ZcclxuICogQHBhcmFtIGRlcGVuZHRlbmNlQ2ZncyDkvp3otZbphY3nva5cclxuICogQHJldHVybnMg6Z2i5p2/aWRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclBhbmVsKHZpZXc6IG5ldyAoKSA9PiBJVmlldywgbGF5ZXI6IHBhbmVsTGF5ZXIsIGRlcGVuZHRlbmNlQXRsYXM/OiBzdHJpbmdbXSwgZGVwZW5kdGVuY2VDZmdzPzogc3RyaW5nW10pOiBudW1iZXIge1xyXG4gICAgbGV0IGtleSA9IGlkKys7XHJcbiAgICBtYXBba2V5XSA9IFt2aWV3LCBkZXBlbmR0ZW5jZUF0bGFzLCBkZXBlbmR0ZW5jZUNmZ3MsIGxheWVyXTtcclxuICAgIHJldHVybiBrZXk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWNoZVBhbmVsKGlkOiBudW1iZXIsIHBhbmVsOiBJVmlldyk6IHZvaWQge1xyXG4gICAgcGFuZWxJbnN0YW5jZU1hcFtpZF0gPSBwYW5lbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUGFuZWwoaWQ6bnVtYmVyKTp2b2lke1xyXG4gICAgZGVsZXRlIHBhbmVsSW5zdGFuY2VNYXBbaWRdO1xyXG59XHJcblxyXG4vKirpnaLmnb/lrp7kvosgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhbmVsKGlkOiBudW1iZXIpOiBJVmlldyB8IG51bGwge1xyXG4gICAgcmV0dXJuIHBhbmVsSW5zdGFuY2VNYXBbaWRdXHJcbn1cclxuXHJcbi8qKumdouadv+mFjee9riAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFuZWxWbyhpZDogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gbWFwW2lkXTtcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZW51bSBwYW5lbExheWVyIHtcclxuICAgIGJhc2UsIG1pZGRsZSwgdG9wXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFBhbmVsUmVnaXN0ZXIge1xyXG4gICAgUEFORUwxID0gcmVnaXN0ZXJQYW5lbChSZWRUaXBUZXN0LCBwYW5lbExheWVyLmJhc2UsIFtcInJlcy9hdGxhcy9jb21wLmF0bGFzXCJdKSxcclxuICAgIFBBTkVMMiA9IHJlZ2lzdGVyUGFuZWwoVmlldzEscGFuZWxMYXllci5iYXNlLFtcInJlcy9hdGxhcy90ZXN0LmF0bGFzXCJdKSxcclxuICAgIFBBTkVMMyA9IHJlZ2lzdGVyUGFuZWwoVmlldzIscGFuZWxMYXllci5iYXNlKSxcclxuICAgIFBBTkVMNCA9IHJlZ2lzdGVyUGFuZWwoQXN0YXJUZXN0LHBhbmVsTGF5ZXIuYmFzZSxbXCJyZXMvYXRsYXMvY29tcC5hdGxhc1wiXSlcclxufVxyXG4iLCJpbXBvcnQgUmVzb3VyY2VNZ3IgZnJvbSBcIi4uLy4uL1Jlc291cmNlTWdyXCI7XHJcbmltcG9ydCBJVmlldyBmcm9tIFwiLi9JVmlld1wiO1xyXG5pbXBvcnQgeyBjYWNoZVBhbmVsLCBnZXRQYW5lbCwgZ2V0UGFuZWxWbywgcGFuZWxMYXllciwgUGFuZWxSZWdpc3RlciwgY2xlYXJQYW5lbCB9IGZyb20gXCIuL1BhbmVsUmVnaXN0ZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXdNZ3IgZXh0ZW5kcyBMYXlhLkV2ZW50RGlzcGF0Y2hlciB7XHJcbiAgICBwcml2YXRlIHBhbmVsTGF5ZXI6IExheWEuQm94XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zOiBWaWV3TWdyO1xyXG4gICAgcHJpdmF0ZSBjdXJyZW50UGFuZWxNYXA6IHsgW2xheWVyOiBudW1iZXJdOiBudW1iZXIgfSA9IHt9Oy8v5ZCE5Liq5bGC57qn5omT5byA55qE6Z2i5p2/XHJcbiAgICBwcml2YXRlIGNhY2hlUGFuZWw6IFBhbmVsUmVnaXN0ZXJbXSA9IFtdOy8v57yT5a2Y6Z2i5p2/XHJcbiAgICByZWFkb25seSBtYXhDYWNoZU51bTogbnVtYmVyID0gMDsvL+e8k+WtmOmhtemdouaVsOmHj1xyXG4gICAgLy8gcHJpdmF0ZSBoaXN0b3J5QXJyOiBJVmlld1tdID0gW107XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQodGhpcy5wYW5lbExheWVyID0gbmV3IExheWEuQm94KVxyXG4gICAgfVxyXG4gICAgc3RhdGljIGdldCBpbnMoKTogVmlld01nciB7XHJcbiAgICAgICAgcmV0dXJuIFZpZXdNZ3IuX2lucyB8fCAoVmlld01nci5faW5zID0gbmV3IFZpZXdNZ3IpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmiZPlvIDpnaLmnb9cclxuICAgICAqIEBwYXJhbSBpZCDms6jlhozpnaLmnb9cclxuICAgICAqIEBwYXJhbSBhcmdzIOmdouadv29wZW7mlrnms5XosIPnlKjlj4LmlbBcclxuICAgICAqL1xyXG4gICAgb3BlblBhbmVsKGlkOiBQYW5lbFJlZ2lzdGVyLCAuLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGxldCB2byA9IGdldFBhbmVsVm8oaWQpO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYW5lbE1hcFt2b1szXV0gPT09IGlkKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5jbG9zZVBhbmVsKHRoaXMuY3VycmVudFBhbmVsTWFwW3ZvWzNdXSk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFuZWxNYXBbdm9bM11dID0gaWQ7XHJcbiAgICAgICAgbGV0IGRlcGVuZGVuY2VBcnI6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgaWYgKHZvWzFdKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHVybCBvZiB2b1sxXSkge1xyXG4gICAgICAgICAgICAgICAgUmVzb3VyY2VNZ3IuaW5zLmFkZEF0bGFzUmVmcmVuY2UodXJsKTsvL+a3u+WKoOWbvumbhuW8leeUqOiuoeaVsFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlcGVuZGVuY2VBcnIgPSBkZXBlbmRlbmNlQXJyLmNvbmNhdCh2b1sxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZvWzJdICYmIChkZXBlbmRlbmNlQXJyID0gZGVwZW5kZW5jZUFyci5jb25jYXQodm9bMl0pKTtcclxuICAgICAgICBpZiAoZGVwZW5kZW5jZUFyci5sZW5ndGgpXHJcbiAgICAgICAgICAgIExheWEubG9hZGVyLmxvYWQoZGVwZW5kZW5jZUFyciwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLmxvYWRDb21wbGV0ZSwgW2lkLCAuLi5hcmdzXSkpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5sb2FkQ29tcGxldGUoaWQsIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YWz6Zet6Z2i5p2/XHJcbiAgICAgKiBAcGFyYW0gaWQg5rOo5YaM6Z2i5p2/aWRcclxuICAgICAqL1xyXG4gICAgY2xvc2VQYW5lbChpZDogUGFuZWxSZWdpc3Rlcik6IHZvaWQge1xyXG4gICAgICAgIGlmICghaWQpIHJldHVybjtcclxuICAgICAgICBsZXQgdm8gPSBnZXRQYW5lbFZvKGlkKTtcclxuICAgICAgICBpZiAoIXZvKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOacquazqOWGjOmdouadvzoke2lkfWApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGhpcy5jbGVhclBhbmVsRGVwZW5kZW5jZShpZCk7XHJcbiAgICAgICAgLy/liqDlhaXnvJPlrZjpmJ/liJdcclxuICAgICAgICBsZXQgaWR4ID0gdGhpcy5jYWNoZVBhbmVsLmluZGV4T2YoaWQpO1xyXG4gICAgICAgIGlmIChpZHggPj0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhY2hlUGFuZWwuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2FjaGVQYW5lbC5wdXNoKGlkKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQYW5lbE1hcFt2b1szXV0gPSBudWxsO1xyXG4gICAgICAgIGxldCBwYW5lbCA9IGdldFBhbmVsKGlkKTtcclxuICAgICAgICBpZiAocGFuZWwpIHtcclxuICAgICAgICAgICAgcGFuZWwucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICBwYW5lbC5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWwneivlemUgOavgemdouadv1xyXG4gICAgICogQHBhcmFtIGNvdW50IOmUgOavgeaVsOmHj1xyXG4gICAgICovXHJcbiAgICB0cnlEZXN0b3J5UGFuZWwoY291bnQ6IG51bWJlciA9IDEpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5jYWNoZVBhbmVsLmxlbmd0aCA8PSB0aGlzLm1heENhY2hlTnVtKSByZXR1cm47XHJcbiAgICAgICAgbGV0IHBhbmVsczogUGFuZWxSZWdpc3RlcltdID0gdGhpcy5jYWNoZVBhbmVsLnNwbGljZSgwLCB0aGlzLmNhY2hlUGFuZWwubGVuZ3RoIC0gdGhpcy5tYXhDYWNoZU51bSA8PSBjb3VudCA/IHRoaXMuY2FjaGVQYW5lbC5sZW5ndGggLSB0aGlzLm1heENhY2hlTnVtIDogY291bnQpXHJcbiAgICAgICAgd2hpbGUgKHBhbmVscy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbGV0IGlkOiBQYW5lbFJlZ2lzdGVyID0gcGFuZWxzLnBvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNsZWFyUGFuZWxEZXBlbmRlbmNlKGlkKTtcclxuICAgICAgICAgICAgaWYgKGdldFBhbmVsKGlkKSlcclxuICAgICAgICAgICAgICAgIGdldFBhbmVsKGlkKS5kZXN0cm95KHRydWUpO1xyXG4gICAgICAgICAgICBjbGVhclBhbmVsKGlkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjbGVhclBhbmVsRGVwZW5kZW5jZShpZDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHZvID0gZ2V0UGFuZWxWbyhpZCk7XHJcbiAgICAgICAgaWYgKHZvWzFdKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGsgb2Ygdm9bMV0pIHtcclxuICAgICAgICAgICAgICAgIFJlc291cmNlTWdyLmlucy5yZW1vdmVBdGxhc1JlZnJlbmNlKGssIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGxvYWRDb21wbGV0ZShpZDogbnVtYmVyLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xyXG4gICAgICAgIGxldCBwYW5lbCA9IGdldFBhbmVsKGlkKTtcclxuICAgICAgICBpZiAoIXBhbmVsKSB7XHJcbiAgICAgICAgICAgIHBhbmVsID0gbmV3IChnZXRQYW5lbFZvKGlkKVswXSk7XHJcbiAgICAgICAgICAgIGNhY2hlUGFuZWwoaWQsIHBhbmVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGFuZWwub3BlbiguLi5hcmdzKVxyXG4gICAgICAgIGxldCB2byA9IGdldFBhbmVsVm8oaWQpO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYW5lbE1hcFt2b1szXV0gPT09IGlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFuZWxMYXllci5hZGRDaGlsZChwYW5lbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il19
