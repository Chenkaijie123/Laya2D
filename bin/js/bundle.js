var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MapScene_1 = require("./battle/map/view/MapScene");
const RedTipMgr_1 = require("./redTip/RedTipMgr");
const ViewMgr_1 = require("./view/base/ViewMgr");
const PanelRegister_1 = require("./view/base/PanelRegister");
class App {
    constructor() {
        this.init();
    }
    init() {
        this.viewMgr = ViewMgr_1.default.ins;
        this.redTipMgr = new RedTipMgr_1.default;
        Laya.stage.addChild(this.mapScene = new MapScene_1.default);
        ViewMgr_1.default.ins.openPanel(PanelRegister_1.PanelRegister.PANEL4);
    }
}
exports.default = App;
},{"./battle/map/view/MapScene":9,"./redTip/RedTipMgr":11,"./view/base/PanelRegister":25,"./view/base/ViewMgr":26}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
const GameUI_1 = require("./script/GameUI");
const GameControl_1 = require("./script/GameControl");
const Bullet_1 = require("./script/Bullet");
const DropBox_1 = require("./script/DropBox");
/*
* 游戏初始化配置;
*/
class GameConfig {
    constructor() { }
    static init() {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameUI.ts", GameUI_1.default);
        reg("script/GameControl.ts", GameControl_1.default);
        reg("script/Bullet.ts", Bullet_1.default);
        reg("script/DropBox.ts", DropBox_1.default);
    }
}
GameConfig.width = 720;
GameConfig.height = 1280;
GameConfig.scaleMode = "showall";
GameConfig.screenMode = "none";
GameConfig.alignV = "top";
GameConfig.alignH = "left";
GameConfig.startScene = "test/Astar.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = false;
GameConfig.physicsDebug = false;
GameConfig.exportSceneToJson = true;
exports.default = GameConfig;
GameConfig.init();
},{"./script/Bullet":13,"./script/DropBox":14,"./script/GameControl":15,"./script/GameUI":16}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const GameConfig_1 = require("./GameConfig");
const ResourceMgr_1 = require("./ResourceMgr");
const App_1 = require("./App");
class Main {
    constructor() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    onVersionLoaded() {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        // Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
        this.onConfigLoaded();
        ResourceMgr_1.default.ins.startCheck();
    }
    onConfigLoaded() {
        //加载IDE指定的场景
        // GameConfig.startScene && Laya.Scene.open(GameConfig.startScene,true,null,Laya.Handler.create(this,this.openScene));
        // this.createBtn(
        // ["btn1",()=>{ViewMgr.ins.openPanel(PanelRegister.PANEL1)}],
        // ["btn2",()=>{ViewMgr.ins.openPanel(PanelRegister.PANEL2)}],
        // ["btn3",()=>{ViewMgr.ins.openPanel(PanelRegister.PANEL3)}]
        // );
        Main.app = new App_1.default;
    }
    createBtn(...btns) {
        let _x = 0;
        for (let arr of btns) {
            let lab = new Laya.Label;
            lab.color = "#fff";
            lab.text = arr[0];
            Laya.stage.addChild(lab);
            lab.x = _x;
            lab.fontSize = 30;
            _x += 100;
            lab.on(Laya.Event.CLICK, this, arr[1]);
        }
    }
    openScene(sence) {
    }
}
//激活启动类
new Main();
},{"./App":1,"./GameConfig":2,"./ResourceMgr":4}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ViewMgr_1 = require("./view/base/ViewMgr");
class ResourceMgr {
    constructor() {
        this.clearAtlasQueue = [];
        this.clearQueue = [];
        //大图集引用计数
        this.atlasMap = {};
    }
    static get ins() {
        return ResourceMgr._ins || (ResourceMgr._ins = new ResourceMgr);
    }
    startCheck() {
        Laya.timer.loop(ResourceMgr.checkClearTime, this, this.loopCheckTexture);
        Laya.timer.frameLoop(1, this, this.loopDestroyTexture);
    }
    stopCheck() {
        Laya.timer.clear(this, this.loopCheckTexture);
        Laya.timer.clear(this, this.loopDestroyTexture);
    }
    /**
     * 检测图片资源，如果引用计数为0则添加到销毁队列
     */
    loopCheckTexture() {
        if (this.clearQueue.length)
            return;
        let temp;
        for (let k in Laya.Loader.loadedMap) {
            temp = Laya.Loader.loadedMap[k];
            if (!temp.bitmap)
                continue;
            if (temp["_referenceCount"] == 0 && temp.bitmap["_referenceCount"] == 0) {
                /**简易判断如果是图集就自动不清理（忽略只有一张图片的图集） */
                if (temp.bitmap.width == temp.width
                    && temp.bitmap.height == temp.height) {
                    //压入销毁队列
                    this.clearQueue.push(temp);
                }
            }
        }
    }
    /**
     * 批量销毁图片
     */
    loopDestroyTexture() {
        ViewMgr_1.default.ins.tryDestoryPanel();
        let idx = 0;
        let texture = this.clearQueue.shift();
        while (texture) {
            /**重新判断是否有被引用，避免等待销毁过程中又被引用造成误删 */
            if (texture.bitmap && texture.bitmap["_referenceCount"] == 0) {
                if (texture.url) {
                    // Laya.loader.clearRes(texture.url);
                    this.clearEngineCache(texture.bitmap);
                    idx++;
                }
            }
            if (idx >= ResourceMgr.frameClearCount)
                break;
            texture = this.clearQueue.shift();
        }
        //清理一个大图集
        this.clearOneAtlas();
    }
    //---------------------------------图集---------------------------
    addAtlasRefrence(url) {
        if (this.atlasMap[url]) {
            this.atlasMap[url] = this.atlasMap[url] + 1;
        }
        else {
            this.atlasMap[url] = 1;
        }
    }
    removeAtlasRefrence(url, autoClear = false) {
        if (!this.atlasMap[url]) {
            console.error("图集引用计数逻辑有问题");
        }
        else {
            this.atlasMap[url] = this.atlasMap[url] - 1;
            if (!this.atlasMap[url] && autoClear) {
                this.pushDestoryAtlasQueue(url);
            }
        }
    }
    /**添加清理队列 */
    pushDestoryAtlasQueue(atlas) {
        if (this.clearAtlasQueue.indexOf(atlas) == -1) {
            this.clearAtlasQueue.push(atlas);
        }
    }
    /**执行清理大图集 */
    clearOneAtlas() {
        if (!this.clearAtlasQueue.length)
            return;
        let url;
        //大图集添加引用计数有可能图集还没加载，如果没有资源表示还没加载
        for (let i = 0, len = this.clearAtlasQueue.length; i < len; i++) {
            if (Laya.loader.getRes(this.clearAtlasQueue[i])) {
                url = this.clearAtlasQueue.splice(i, 1)[0];
                break;
            }
        }
        if (url && !this.atlasMap[url]) {
            delete this.atlasMap[url];
            Laya.loader.clearRes(url);
            url = Laya.URL.formatURL(url.substring(0, url.lastIndexOf(".")) + ".png");
            this.clearEngineCache(Laya.loader.getRes(url));
        }
    }
    /**清理引擎的缓存 (彻底清理)*/
    clearEngineCache(texture) {
        if (texture) {
            Laya.Loader.clearRes(texture.url);
            let resource = Laya.Resource.getResourceByID(texture["id"]);
            resource && resource.destroy();
        }
    }
}
//每帧销毁资源最大数量
ResourceMgr.frameClearCount = 2;
ResourceMgr.checkClearTime = 1000;
exports.default = ResourceMgr;
},{"./view/base/ViewMgr":26}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 初始化一次寻路的地图 Astar.ins.init()
 * 开启寻路 Astar.ins.findPath()
 *
 */
class AStar {
    constructor() {
        this.openList = [];
        this.closeList = [];
    }
    static get ins() {
        if (!AStar._ins)
            AStar._ins = new AStar;
        return AStar._ins;
    }
    init(arr) {
        AStar.xNum = arr[0].length;
        AStar.yNum = arr.length;
        AStar.mapNodeList = arr;
    }
    /**曼哈顿估价法 */
    manhattan(fromNode, targetNode) {
        return Math.abs(fromNode.x - targetNode.x) * AStar.staticCost + Math.abs(fromNode.y - targetNode.y) * AStar.staticCost;
    }
    /**移动成本，影响走斜对角还是垂直 */
    getG(fromNode, targetNode) {
        return fromNode.x - targetNode.x == 0 || fromNode.y - targetNode.y == 0 ? 10 : 14;
    }
    /**获取周围8格 */
    getAroundNode(node) {
        let x = node.x % AStar.xNum;
        let y = node.y % AStar.yNum;
        let res = [];
        let map = AStar.mapNodeList;
        let temp;
        if (temp = map[y - 1]) {
            if (temp[x - 1]) {
                res.push(temp[x - 1]);
            }
            if (temp[x]) {
                res.push(temp[x]);
            }
            if (temp[x + 1]) {
                res.push(temp[x + 1]);
            }
        }
        if (map[y][x - 1]) {
            res.push(map[y][x - 1]);
        }
        if (map[y][x + 1]) {
            res.push(map[y][x + 1]);
        }
        if (temp = map[y + 1]) {
            if (temp[x - 1]) {
                res.push(temp[x - 1]);
            }
            if (temp[x]) {
                res.push(temp[x]);
            }
            if (temp[x + 1]) {
                res.push(temp[x + 1]);
            }
        }
        return res;
    }
    /**
     *
     * @param fromNode 起始点
     * @param toNode 目标点
     * @param moveType 移动类型，影响可穿越地形
     * @returns
     */
    findPath(fromNode, toNode, moveType) {
        if (fromNode == toNode || moveType < toNode.terrain)
            return [fromNode];
        fromNode.parent = null;
        this.openList.length = this.closeList.length = 0;
        this.openList.push(fromNode);
        fromNode.G = 0;
        let g;
        let index;
        while (fromNode = this.openList.pop()) {
            let around = this.getAroundNode(fromNode);
            this.closeList.push(fromNode);
            for (let node of around) {
                //找到目标
                if (node == toNode) {
                    node.parent = fromNode;
                    return this.parsePath(node);
                }
                if (this.closeList.indexOf(node) >= 0 || moveType < node.terrain)
                    continue;
                g = fromNode.G + this.getG(fromNode, node);
                index = this.openList.indexOf(node);
                if (index == -1) {
                    this.openList.push(node);
                    node.parent = fromNode;
                    node.H = this.manhattan(node, toNode);
                    node.G = g;
                    node.F = node.H + node.G;
                }
                else {
                    if (this.openList[index].G > g) {
                        node.G = g;
                        node.parent = fromNode;
                        node.F = this.openList[index].G + this.openList[index].H;
                    }
                }
            }
            this.openList.sort((a, b) => b.F - a.F);
        }
        return [toNode];
    }
    parsePath(node) {
        let res = [];
        do {
            res.push(node);
            node = node.parent;
        } while (node);
        return res;
    }
}
/**固定消耗 */
AStar.staticCost = 10;
exports.default = AStar;
/**按大小顺序，越大消耗越高 */
var terrain_type;
(function (terrain_type) {
    terrain_type[terrain_type["water"] = 0] = "water";
    terrain_type[terrain_type["normal"] = 1] = "normal";
    terrain_type[terrain_type["fly"] = 2] = "fly";
    terrain_type[terrain_type["unwalk"] = 3] = "unwalk";
})(terrain_type = exports.terrain_type || (exports.terrain_type = {}));
/**可以移动的方式 */
var move_type;
(function (move_type) {
    move_type[move_type["walk"] = 1] = "walk";
    move_type[move_type["fly"] = 2] = "fly";
})(move_type = exports.move_type || (exports.move_type = {}));
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**地图节点数据 */
class MapNode {
    release() {
        this.width = this.height = this.x = this.y =
            this.G = this.H = this.F = 0;
    }
    setTo(x, y, width, height) {
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
    }
}
exports.default = MapNode;
},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const AStar_1 = require("../AStar");
const layaMaxUI_1 = require("../../../ui/layaMaxUI");
let startPoint = undefined, endPoint = undefined;
class AstarTest extends layaMaxUI_1.ui.test.AstarUI {
    constructor() {
        super();
        this.map = {};
        let arr = [];
        for (let i = 0; i < 30; i++) {
            let rol = [];
            arr.push(rol);
            for (let j = 0; j < 30; j++) {
                let node = new mapNode;
                let sp = new SpNode(node);
                this.map[`${j}_${i}`] = sp;
                sp.terrain = AStar_1.terrain_type.water;
                this.container.addChild(sp);
                sp.x = j * 15;
                sp.y = i * 15;
                node.x = j;
                node.y = i;
                node.width = 10;
                node.height = 10;
                rol.push(node);
            }
        }
        AStar_1.default.ins.init(arr);
        this.starBtn.on(Laya.Event.CLICK, this, () => {
            startPoint = null;
        });
        this.endBtn.on(Laya.Event.CLICK, this, () => {
            endPoint = null;
        });
        this.searchBtn.on(Laya.Event.CLICK, this, () => {
            let res = AStar_1.default.ins.findPath(startPoint, endPoint, AStar_1.move_type.walk);
            const fn = () => {
                if (!res.length) {
                    Laya.timer.clear(this, fn);
                    return;
                }
                let node = res.pop();
                this.map[`${node.x}_${node.y}`].graphics.clear();
            };
            Laya.timer.loop(300, this, fn);
        });
    }
    open(...args) { }
    close() { }
}
exports.default = AstarTest;
class mapNode {
}
class SpNode extends Laya.Box {
    constructor(node) {
        super();
        this.node = node;
        this.width = this.height = 10;
        this.on(Laya.Event.RIGHT_CLICK, this, () => {
            this.terrain = 3;
        });
        this.on(Laya.Event.CLICK, this, () => {
            if (startPoint === null) {
                startPoint = this.node;
                this.graphics.clear();
                return;
            }
            if (endPoint === null) {
                endPoint = this.node;
                this.graphics.clear();
                return;
            }
            if (this._terrain >= AStar_1.terrain_type.unwalk) {
                this._terrain = 0;
            }
            else {
                this._terrain++;
            }
            this.terrain = this._terrain;
        });
    }
    set terrain(type) {
        this._terrain = type;
        this.node.terrain = type;
        let color;
        switch (type) {
            case AStar_1.terrain_type.water:
                color = "#1628ef";
                break;
            case AStar_1.terrain_type.normal:
                color = "#7a80cd";
                break;
            case AStar_1.terrain_type.fly:
                color = "#c37acd";
                break;
            case AStar_1.terrain_type.unwalk:
                color = "#ee0e3b";
                break;
        }
        let s = this.graphics;
        s.clear();
        s.drawCircle(0, 0, 5, color);
    }
}
},{"../../../ui/layaMaxUI":17,"../AStar":5}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class MapGrid extends Laya.Image {
    release() {
        this.skin = null;
        this.removeSelf();
    }
}
exports.default = MapGrid;
},{}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Sprite = Laya.Sprite;
var Box = Laya.Box;
const PoolUtil_1 = require("../../../utils/pool/PoolUtil");
/**[路径，水平个数，竖直个数，格子大小] */
const mapCfg = {
    1: ["./asset/map/80001/", 8, 6, 256],
};
/**地图显示层 */
class MapScene extends Sprite {
    constructor() {
        super();
        this.init();
    }
    init() {
        this.addChild(this.mapLayer = new Box);
        this.mapLayer.top = this.mapLayer.left = this.mapLayer.right = this.mapLayer.bottom = 0;
        this.ChangeMap(1);
    }
    ChangeMap(id) {
        let cfg = mapCfg[id];
        this.releaseMap();
        let node;
        let index = 1;
        for (let i = 0; i < cfg[2]; i++) {
            for (let j = 0; j < cfg[1]; j++) {
                node = PoolUtil_1.default.MapGrid.create(cfg[0] + index + ".jpg");
                index++;
                node.y = cfg[3] * i;
                node.x = cfg[3] * j;
                this.mapLayer.addChild(node);
            }
        }
        this.width = Laya.stage.width;
        this.height = Laya.stage.height;
    }
    releaseMap() {
        let node;
        while (this.mapLayer.numChildren) {
            node = this.getChildAt(0);
            PoolUtil_1.default.MapGrid.release(node);
        }
    }
}
exports.default = MapScene;
},{"../../../utils/pool/PoolUtil":21}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ArrayUtils_1 = require("../utils/ArrayUtils");
const MapStruct_1 = require("../utils/MapStruct");
/**
 * 红点管理
 * 分离显示和数据，每个节点都有一个状态，可以把红点实例与任意节点绑定/解绑
 * 节点可以绑定handle或者通过关系其他节点实现更新，更新是自动的，同时如果有绑定实例，实例的状态也会自动更新
 *
 */
class RedTipBase extends Laya.EventDispatcher {
    constructor() {
        super(...arguments);
        // private tempName:string;
        /**关心列表 */
        this.careMap = new MapStruct_1.MapStruct;
        /**红点状态缓存 */
        this.stateMap = new MapStruct_1.MapStruct;
        /**绑定红点实例 */
        this.bindRedTip = new MapStruct_1.MapStruct;
        /**节点与handle映射 */
        this.registerMap = new MapStruct_1.MapStruct;
    }
    static get ins() {
        let s = this;
        return s["_ins_"] || (s["_ins_"] = new s);
    }
    _init() {
        this.init();
    }
    init() {
        throw new Error("在init方法中绑定触发点或者关系节点");
    }
    /**
     * 注册节点更新handle,没注册也不影响，可以只关心其他节点，节点的创建是任意的
     * @param name
     * @param call
     * @param caller
     */
    register(name, fn, caller) {
        this.registerMap.set(name, [fn, caller]);
        return this.bindHandle.bind(this, name);
    }
    /**
     * 绑定外部触发点，比如游戏模块数据层更新数据，绑定红点触发，在调用完register后面直接调用
     */
    bindHandle(name, eventName, dispatcher) {
        dispatcher.on(eventName, this, this.emit, [name]);
        return this.bindHandle.bind(this, name);
    }
    /**
     * 绑定关心节点
     * @param t
     * @returns
     */
    takecare(t) {
        this.temp = t;
        return this;
    }
    /**
     * 绑定本红点管理器的红点节点
     */
    bindName(...flags) {
        this.tempTarget = flags;
        return this;
    }
    /**
     * 关心节点的红点节点名
     */
    care(...flags) {
        //为关系节点添加改变触发handle
        for (let f of flags) {
            this.temp.on(f, this, this.childrenChange, [this.tempTarget]);
        }
        for (let k of this.tempTarget) {
            let ls = this.careMap.get(k);
            if (ls) {
                let target = ArrayUtils_1.ArrayUtils.find(ls, (v) => {
                    return v[0] == this.temp;
                });
                if (target) {
                    target[1] = ArrayUtils_1.ArrayUtils.unique(target[1].concat(flags));
                }
                else {
                    ls.push([this.temp, flags]);
                }
            }
            else {
                this.careMap.set(k, [[this.temp, flags]]);
            }
        }
    }
    /**
     * 触发红点计算
     * @param flag
     */
    emit(flag) {
        this.change(flag);
    }
    /**
     * 为红点绑定执行handle
     * @param name 红点名
     * @param redTip 红点实例
     */
    bindRed(name, redTip) {
        let ls = this.bindRedTip.get(name);
        if (!ls) {
            this.bindRedTip.set(name, [redTip]);
        }
        else {
            if (ls.indexOf(redTip) == -1) {
                ls.push(redTip);
            }
        }
        redTip.visible = this.getStatus(name);
    }
    /**
     * 解绑红点，只是解绑红点显示，数据层仍会计算
     * @param name
     * @param redTip
     */
    unBindRed(name, redTip) {
        let ls = this.bindRedTip.get(name);
        if (ls) {
            ls.splice(ls.indexOf(redTip), 1);
        }
    }
    /**
     * 获取红点节点状态
     */
    getStatus(flag) {
        let res = !!this.stateMap.get(flag);
        if (res)
            return true;
        let map = this.careMap.get(flag);
        if (map) {
            for (let t of map) {
                for (let k of t[1]) {
                    if (t[0].getStatus(k))
                        return true;
                }
            }
        }
        return false;
    }
    setRedTip(flag, state) {
        let ls = this.bindRedTip.get(flag);
        if (ls) {
            for (let i of ls) {
                i.visible = state;
            }
        }
    }
    /**子节点状态改变，不会触发新计算，拿缓存 */
    childrenChange(targerFlags, status) {
        let value = status;
        for (let k of targerFlags) {
            status = value || this.getStatus(k);
            //设置红点实例
            this.setRedTip(k, status);
            //通知父节点
            this.event(k, value);
        }
    }
    /**本节点状态改变 */
    change(flag) {
        let status = this.calculate(flag);
        this.stateMap.set(flag, status);
        status = status || this.getStatus(flag);
        //更新视图
        this.setRedTip(flag, status);
        //通知父节点
        this.event(flag, status);
    }
    /**重新计算 */
    calculate(flag) {
        if (this.registerMap.has(flag)) {
            let [fn, caller] = this.registerMap.get(flag);
            let res = fn.call(caller);
            // this.stateMap.set(flag, res);
            return res;
        }
        else {
            console.warn(`红点钩子${flag}未添加处理函数`);
            return false;
        }
    }
}
exports.default = RedTipBase;
},{"../utils/ArrayUtils":18,"../utils/MapStruct":19}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const RedTipTest_1 = require("./RedTipTest");
class RedTipMgr {
    constructor() {
        this.redArray = [];
        this.init();
    }
    init() {
        this.register();
        for (let i of this.redArray) {
            i._init();
        }
    }
    register() {
        this.redArray = [
            RedTipTest_1.red1.ins,
            RedTipTest_1.red2.ins,
        ];
    }
}
exports.default = RedTipMgr;
},{"./RedTipTest":12}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const layaMaxUI_1 = require("../ui/layaMaxUI");
const RedTipBase_1 = require("./RedTipBase");
class RedTipTest extends layaMaxUI_1.ui.test.ViewTestUI {
    constructor() {
        super();
        this.loop();
    }
    open() {
        let img = new Laya.Image;
        img.skin = "comp/image.png";
        this.addChild(img);
    }
    createView(view) {
        super.createView(view);
        red1.ins.bindRed("A1", this.A1);
        red1.ins.bindRed("A2", this.A2);
        red1.ins.bindRed("A3", this.A3);
        red2.ins.bindRed("B1", this.B1);
        red2.ins.bindRed("B2", this.B2);
    }
    loop() {
        Laya.timer.loop(500, this, () => {
            // red1.ins.emit("A2")
            // red1.ins.emit("A1")
            // red1.ins.emit("A3")
            // red2.ins.emit("B1")
            // red2.ins.emit("B2")
            TestMDl.ins.event("UPDATE_INFO");
            TestMDl.ins.event("UPDATE_LV");
        });
    }
}
exports.default = RedTipTest;
class red1 extends RedTipBase_1.default {
    constructor() {
        super();
    }
    init() {
        //绑定handle，触发点
        this.register("A2", this.A2, this)("UPDATE_INFO", TestMDl.ins)("UPDATE_LV", TestMDl.ins);
        this.register("A3", this.A3, this)("UPDATE_LV", TestMDl.ins);
        //构建关心列表
        this.takecare(red2.ins).bindName("A2").care("B1", "B2");
        this.takecare(red2.ins).bindName("A1").care("B1", "B2");
    }
    A1() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
    A2() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
    A3() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
}
exports.red1 = red1;
class red2 extends RedTipBase_1.default {
    constructor() {
        super();
    }
    init() {
        this.register("B1", this.B1, this)("UPDATE_LV", TestMDl.ins);
        this.register("B2", this.B2, this)("UPDATE_INFO", TestMDl.ins);
    }
    B1() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
    B2() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
}
exports.red2 = red2;
class TestMDl extends Laya.EventDispatcher {
    static get ins() {
        return TestMDl["_ins"] || (TestMDl["_ins"] = new TestMDl);
    }
}
},{"../ui/layaMaxUI":17,"./RedTipBase":10}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 子弹脚本，实现子弹飞行逻辑及对象池回收机制
 */
class Bullet extends Laya.Script {
    constructor() { super(); }
    onEnable() {
        //设置初始速度
        var rig = this.owner.getComponent(Laya.RigidBody);
        rig.setVelocity({ x: 0, y: -10 });
    }
    onTriggerEnter(other, self, contact) {
        //如果被碰到，则移除子弹
        this.owner.removeSelf();
    }
    onUpdate() {
        //如果子弹超出屏幕，则移除子弹
        if (this.owner.y < -10) {
            this.owner.removeSelf();
        }
    }
    onDisable() {
        //子弹被移除时，回收子弹到对象池，方便下次复用，减少对象创建开销
        Laya.Pool.recover("bullet", this.owner);
    }
}
exports.default = Bullet;
},{}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const GameUI_1 = require("./GameUI");
/**
 * 掉落盒子脚本，实现盒子碰撞及回收流程
 */
class DropBox extends Laya.Script {
    constructor() {
        super();
        /**盒子等级 */
        this.level = 1;
    }
    onEnable() {
        /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
        this._rig = this.owner.getComponent(Laya.RigidBody);
        this.level = Math.round(Math.random() * 5) + 1;
        this._text = this.owner.getChildByName("levelTxt");
        this._text.text = this.level + "";
    }
    onUpdate() {
        //让持续盒子旋转
        this.owner.rotation++;
    }
    onTriggerEnter(other, self, contact) {
        var owner = this.owner;
        if (other.label === "buttle") {
            //碰撞到子弹后，增加积分，播放声音特效
            if (this.level > 1) {
                this.level--;
                this._text.changeText(this.level + "");
                owner.getComponent(Laya.RigidBody).setVelocity({ x: 0, y: -10 });
                Laya.SoundManager.playSound("sound/hit.wav");
            }
            else {
                if (owner.parent) {
                    let effect = Laya.Pool.getItemByCreateFun("effect", this.createEffect, this);
                    effect.pos(owner.x, owner.y);
                    owner.parent.addChild(effect);
                    effect.play(0, true);
                    owner.removeSelf();
                    Laya.SoundManager.playSound("sound/destroy.wav");
                }
            }
            GameUI_1.default.instance.addScore(1);
        }
        else if (other.label === "ground") {
            //只要有一个盒子碰到地板，则停止游戏
            owner.removeSelf();
            GameUI_1.default.instance.stopGame();
        }
    }
    /**使用对象池创建爆炸动画 */
    createEffect() {
        let ani = new Laya.Animation();
        ani.loadAnimation("test/TestAni.ani");
        ani.on(Laya.Event.COMPLETE, null, recover);
        function recover() {
            ani.removeSelf();
            Laya.Pool.recover("effect", ani);
        }
        return ani;
    }
    onDisable() {
        //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
        Laya.Pool.recover("dropBox", this.owner);
    }
}
exports.default = DropBox;
},{"./GameUI":16}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 游戏控制脚本。定义了几个dropBox，bullet，createBoxInterval等变量，能够在IDE显示及设置该变量
 * 更多类型定义，请参考官方文档
 */
class GameControl extends Laya.Script {
    constructor() {
        super();
        /** @prop {name:createBoxInterval,tips:"间隔多少毫秒创建一个下跌的容器",type:int,default:1000}*/
        this.createBoxInterval = 1000;
        /**开始时间*/
        this._time = 0;
        /**是否已经开始游戏 */
        this._started = false;
    }
    onEnable() {
        this._time = Date.now();
        this._gameBox = this.owner.getChildByName("gameBox");
        this.createBox();
    }
    onUpdate() {
        //每间隔一段时间创建一个盒子
        let now = Date.now();
        if (now - this._time > this.createBoxInterval) {
            this._time = now;
            this.createBox();
        }
    }
    createBox() {
        //使用对象池创建盒子
        let box = Laya.Pool.getItemByCreateFun("dropBox", this.dropBox.create, this.dropBox);
        box.pos(Math.random() * (Laya.stage.width - 100), -100);
        this._gameBox.addChild(box);
    }
    onStageClick(e) {
        //停止事件冒泡，提高性能，当然也可以不要
        // e.stopPropagation();
        //舞台被点击后，使用对象池创建子弹
        let flyer = Laya.Pool.getItemByCreateFun("bullet", this.bullet.create, this.bullet);
        flyer.pos(Laya.stage.mouseX, Laya.stage.mouseY);
        this._gameBox.addChild(flyer);
        console.log("click");
    }
    /**开始游戏，通过激活本脚本方式开始游戏*/
    startGame() {
        if (!this._started) {
            this._started = true;
            this.enabled = true;
        }
    }
    /**结束游戏，通过非激活本脚本停止游戏 */
    stopGame() {
        this._started = false;
        this.enabled = false;
        this.createBoxInterval = 1000;
        this._gameBox.removeChildren();
    }
}
exports.default = GameControl;
},{}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const layaMaxUI_1 = require("./../ui/layaMaxUI");
const GameControl_1 = require("./GameControl");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
class GameUI extends layaMaxUI_1.ui.test.TestSceneUI {
    constructor() {
        super();
        GameUI.instance = this;
        //关闭多点触控，否则就无敌了
        Laya.MouseManager.multiTouchEnabled = false;
    }
    onEnable() {
        this._control = this.getComponent(GameControl_1.default);
        //点击提示文字，开始游戏
        this.tipLbll.on(Laya.Event.CLICK, this, this.onTipClick);
    }
    onTipClick(e) {
        this.tipLbll.visible = false;
        this._score = 0;
        this.scoreLbl.text = "";
        this._control.startGame();
    }
    /**增加分数 */
    addScore(value = 1) {
        this._score += value;
        this.scoreLbl.changeText("分数：" + this._score);
        //随着分数越高，难度增大
        if (this._control.createBoxInterval > 600 && this._score % 20 == 0)
            this._control.createBoxInterval -= 20;
    }
    /**停止游戏 */
    stopGame() {
        this.tipLbll.visible = true;
        this.tipLbll.text = "游戏结束了，点击屏幕重新开始";
        this._control.stopGame();
    }
}
exports.default = GameUI;
},{"./../ui/layaMaxUI":17,"./GameControl":15}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ui;
(function (ui) {
    var test;
    (function (test) {
        class AstarUI extends Laya.View {
            constructor() { super(); }
            createChildren() {
                super.createChildren();
                this.createView(AstarUI.uiView);
            }
        }
        AstarUI.uiView = { "type": "View", "props": { "width": 1136, "height": 640 }, "compId": 2, "child": [{ "type": "Box", "props": { "var": "container", "top": 0, "right": 0, "left": 0, "bottom": 0 }, "compId": 4 }, { "type": "Button", "props": { "y": 70, "x": 350, "var": "starBtn", "skin": "comp/button.png", "label": "start" }, "compId": 6 }, { "type": "Button", "props": { "y": 70, "x": 482, "var": "endBtn", "skin": "comp/button.png", "label": "endBtn" }, "compId": 7 }, { "type": "Button", "props": { "y": 70, "x": 603, "var": "searchBtn", "skin": "comp/button.png", "label": "search" }, "compId": 8 }], "loadList": ["comp/button.png"], "loadList3D": [] };
        test.AstarUI = AstarUI;
        class TestSceneUI extends Laya.Scene {
            constructor() { super(); }
            createChildren() {
                super.createChildren();
                this.loadScene("test/TestScene");
            }
        }
        test.TestSceneUI = TestSceneUI;
        class ViewTestUI extends Laya.View {
            constructor() { super(); }
            createChildren() {
                super.createChildren();
                this.createView(ViewTestUI.uiView);
            }
        }
        ViewTestUI.uiView = { "type": "View", "props": { "width": 1136, "height": 640 }, "compId": 2, "child": [{ "type": "Radio", "props": { "y": 126, "x": 170, "var": "A1", "skin": "comp/radio.png", "label": "A1" }, "compId": 8 }, { "type": "Radio", "props": { "y": 154, "x": 170, "var": "A2", "skin": "comp/radio.png", "label": "A2" }, "compId": 9 }, { "type": "Radio", "props": { "y": 190, "x": 170, "var": "A3", "skin": "comp/radio.png", "label": "A3" }, "compId": 10 }, { "type": "Radio", "props": { "y": 126, "x": 233, "var": "B1", "skin": "comp/radio.png", "label": "B1" }, "compId": 11 }, { "type": "Radio", "props": { "y": 154, "x": 233, "var": "B2", "skin": "comp/radio.png", "label": "B2" }, "compId": 13 }], "loadList": ["comp/radio.png"], "loadList3D": [] };
        test.ViewTestUI = ViewTestUI;
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}],18:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class ArrayUtils {
    static find(arr, cb) {
        for (let i of arr) {
            if (cb(i))
                return i;
        }
        return null;
    }
    /**除重 */
    static unique(arr) {
        let left = 0, right = 0;
        while (left < arr.length) {
            right = arr.lastIndexOf(arr[left], left);
            while (left != right) {
                arr.splice(right);
                right = arr.lastIndexOf(arr[left], left);
            }
            left++;
        }
        return arr;
    }
}
exports.ArrayUtils = ArrayUtils;
},{}],19:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class MapStruct {
    constructor() {
        this.keys = [];
        this.values = [];
        this._size = 0;
    }
    clear() {
        this.keys.length = this.values.length = this._size = 0;
    }
    delete(key) {
        let idx = this.keys.indexOf(key);
        if (idx == -1) {
            return false;
        }
        this.keys.splice(idx, 1);
        this.values.splice(idx, 1);
        this._size--;
        return true;
    }
    forEach(callbackfn, thisArg) {
        for (let i = 0, len = this.keys.length; i < len; i++) {
            callbackfn(this.values[i], this.keys[i], this);
        }
    }
    get(key) {
        let idx = this.keys.indexOf(key);
        return this.values[idx];
    }
    has(key) {
        return this.keys.indexOf(key) >= 0;
    }
    set(key, value) {
        let idx = this.keys.indexOf(key);
        if (idx >= 0) {
            this.values[idx] = value;
        }
        else {
            this.keys.push(key);
            this.values.push(value);
            this._size++;
        }
        return this;
    }
    get size() {
        return this._size;
    }
}
exports.MapStruct = MapStruct;
},{}],20:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class PoolBase {
    constructor() {
        this.pool = [];
    }
    static get ins() {
        let t = this;
        if (!t["_ins"])
            t["_ins"] = new t;
        return t["_ins"];
    }
    create(...args) { }
    release(node) { }
}
exports.PoolBase = PoolBase;
},{}],21:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MapNodePool_1 = require("./item/MapNodePool");
const MapGridPool_1 = require("./item/MapGridPool");
class PoolUtil {
    static get MapNode() {
        return MapNodePool_1.default.ins;
    }
    static get MapGrid() {
        return MapGridPool_1.default.ins;
    }
}
exports.default = PoolUtil;
},{"./item/MapGridPool":22,"./item/MapNodePool":23}],22:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MapGrid_1 = require("../../../battle/map/view/MapGrid");
const PoolBase_1 = require("../PoolBase");
class MapGridPool extends PoolBase_1.PoolBase {
    create(skin) {
        let node = this.pool.pop() || new MapGrid_1.default;
        node.skin = skin;
        return node;
    }
    release(node) {
        node.release();
        this.pool.push(node);
    }
}
exports.default = MapGridPool;
},{"../../../battle/map/view/MapGrid":8,"../PoolBase":20}],23:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const MapNode_1 = require("../../../battle/map/MapNode");
const PoolBase_1 = require("../PoolBase");
class MapNodePool extends PoolBase_1.PoolBase {
    create(x, y, width, height) {
        let node = this.pool.pop() || new MapNode_1.default;
        node.setTo(x, y, width, height);
        return node;
    }
    release(node) {
        node.release();
        this.pool.push(node);
    }
}
exports.default = MapNodePool;
},{"../../../battle/map/MapNode":6,"../PoolBase":20}],24:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class View1 extends Laya.View {
    constructor() {
        super();
        let lab = new Laya.Label;
        lab.text = "hello";
        lab.color = "#FF0000";
        this.addChild(lab);
        let img = new Laya.Image;
        img.skin = "comp/image.png"; //"test/c1.png"
        this.addChild(img);
    }
}
exports.default = View1;
class View2 extends Laya.View {
    constructor() {
        super();
    }
}
exports.View2 = View2;
},{}],25:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const RedTipTest_1 = require("../../redTip/RedTipTest");
const View1_1 = require("../View1");
const AstarTest_1 = require("../../battle/map/test/AstarTest");
let id = 1;
const map = {};
const panelInstanceMap = {};
/**
 *
 * @param view 注册面板
 * @param dependtenceAtlas 依赖图集
 * @param dependtenceCfgs 依赖配置
 * @returns 面板id
 */
function registerPanel(view, layer, dependtenceAtlas, dependtenceCfgs) {
    let key = id++;
    map[key] = [view, dependtenceAtlas, dependtenceCfgs, layer];
    return key;
}
exports.registerPanel = registerPanel;
function cachePanel(id, panel) {
    panelInstanceMap[id] = panel;
}
exports.cachePanel = cachePanel;
function clearPanel(id) {
    delete panelInstanceMap[id];
}
exports.clearPanel = clearPanel;
/**面板实例 */
function getPanel(id) {
    return panelInstanceMap[id];
}
exports.getPanel = getPanel;
/**面板配置 */
function getPanelVo(id) {
    return map[id];
}
exports.getPanelVo = getPanelVo;
var panelLayer;
(function (panelLayer) {
    panelLayer[panelLayer["base"] = 0] = "base";
    panelLayer[panelLayer["middle"] = 1] = "middle";
    panelLayer[panelLayer["top"] = 2] = "top";
})(panelLayer = exports.panelLayer || (exports.panelLayer = {}));
var PanelRegister;
(function (PanelRegister) {
    PanelRegister[PanelRegister["PANEL1"] = registerPanel(RedTipTest_1.default, panelLayer.base, ["res/atlas/comp.atlas"])] = "PANEL1";
    PanelRegister[PanelRegister["PANEL2"] = registerPanel(View1_1.default, panelLayer.base, ["res/atlas/test.atlas"])] = "PANEL2";
    PanelRegister[PanelRegister["PANEL3"] = registerPanel(View1_1.View2, panelLayer.base)] = "PANEL3";
    PanelRegister[PanelRegister["PANEL4"] = registerPanel(AstarTest_1.default, panelLayer.base, ["res/atlas/comp.atlas"])] = "PANEL4";
})(PanelRegister = exports.PanelRegister || (exports.PanelRegister = {}));
},{"../../battle/map/test/AstarTest":7,"../../redTip/RedTipTest":12,"../View1":24}],26:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ResourceMgr_1 = require("../../ResourceMgr");
const PanelRegister_1 = require("./PanelRegister");
class ViewMgr extends Laya.EventDispatcher {
    // private historyArr: IView[] = [];
    constructor() {
        super();
        this.currentPanelMap = {}; //各个层级打开的面板
        this.cachePanel = []; //缓存面板
        this.maxCacheNum = 0; //缓存页面数量
        Laya.stage.addChild(this.panelLayer = new Laya.Box);
    }
    static get ins() {
        return ViewMgr._ins || (ViewMgr._ins = new ViewMgr);
    }
    /**
     * 打开面板
     * @param id 注册面板
     * @param args 面板open方法调用参数
     */
    openPanel(id, ...args) {
        let vo = PanelRegister_1.getPanelVo(id);
        if (this.currentPanelMap[vo[3]] === id)
            return;
        this.closePanel(this.currentPanelMap[vo[3]]);
        this.currentPanelMap[vo[3]] = id;
        let dependenceArr = [];
        if (vo[1]) {
            for (let url of vo[1]) {
                ResourceMgr_1.default.ins.addAtlasRefrence(url); //添加图集引用计数
            }
            dependenceArr = dependenceArr.concat(vo[1]);
        }
        vo[2] && (dependenceArr = dependenceArr.concat(vo[2]));
        if (dependenceArr.length)
            Laya.loader.load(dependenceArr, Laya.Handler.create(this, this.loadComplete, [id, ...args]));
        else
            this.loadComplete(id, ...args);
    }
    /**
     * 关闭面板
     * @param id 注册面板id
     */
    closePanel(id) {
        if (!id)
            return;
        let vo = PanelRegister_1.getPanelVo(id);
        if (!vo) {
            console.error(`未注册面板:${id}`);
            return;
        }
        // this.clearPanelDependence(id);
        //加入缓存队列
        let idx = this.cachePanel.indexOf(id);
        if (idx >= 0) {
            this.cachePanel.splice(idx, 1);
        }
        this.cachePanel.push(id);
        this.currentPanelMap[vo[3]] = null;
        let panel = PanelRegister_1.getPanel(id);
        if (panel) {
            panel.removeSelf();
            panel.close();
        }
    }
    /**
     * 尝试销毁面板
     * @param count 销毁数量
     */
    tryDestoryPanel(count = 1) {
        if (this.cachePanel.length <= this.maxCacheNum)
            return;
        let panels = this.cachePanel.splice(0, this.cachePanel.length - this.maxCacheNum <= count ? this.cachePanel.length - this.maxCacheNum : count);
        while (panels.length) {
            let id = panels.pop();
            this.clearPanelDependence(id);
            if (PanelRegister_1.getPanel(id))
                PanelRegister_1.getPanel(id).destroy(true);
            PanelRegister_1.clearPanel(id);
        }
    }
    clearPanelDependence(id) {
        let vo = PanelRegister_1.getPanelVo(id);
        if (vo[1]) {
            for (let k of vo[1]) {
                ResourceMgr_1.default.ins.removeAtlasRefrence(k, true);
            }
        }
    }
    loadComplete(id, ...args) {
        let panel = PanelRegister_1.getPanel(id);
        if (!panel) {
            panel = new (PanelRegister_1.getPanelVo(id)[0]);
            PanelRegister_1.cachePanel(id, panel);
        }
        panel.open(...args);
        let vo = PanelRegister_1.getPanelVo(id);
        if (this.currentPanelMap[vo[3]] === id) {
            this.panelLayer.addChild(panel);
        }
    }
}
exports.default = ViewMgr;
},{"../../ResourceMgr":4,"./PanelRegister":25}]},{},[3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NvZnRXYXJlL2xheWFJREUvcmVzb3VyY2VzL2FwcC9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL0FwcC50cyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvUmVzb3VyY2VNZ3IudHMiLCJzcmMvYmF0dGxlL21hcC9BU3Rhci50cyIsInNyYy9iYXR0bGUvbWFwL01hcE5vZGUudHMiLCJzcmMvYmF0dGxlL21hcC90ZXN0L0FzdGFyVGVzdC50cyIsInNyYy9iYXR0bGUvbWFwL3ZpZXcvTWFwR3JpZC50cyIsInNyYy9iYXR0bGUvbWFwL3ZpZXcvTWFwU2NlbmUudHMiLCJzcmMvcmVkVGlwL1JlZFRpcEJhc2UudHMiLCJzcmMvcmVkVGlwL1JlZFRpcE1nci50cyIsInNyYy9yZWRUaXAvUmVkVGlwVGVzdC50cyIsInNyYy9zY3JpcHQvQnVsbGV0LnRzIiwic3JjL3NjcmlwdC9Ecm9wQm94LnRzIiwic3JjL3NjcmlwdC9HYW1lQ29udHJvbC50cyIsInNyYy9zY3JpcHQvR2FtZVVJLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyIsInNyYy91dGlscy9BcnJheVV0aWxzLnRzIiwic3JjL3V0aWxzL01hcFN0cnVjdC50cyIsInNyYy91dGlscy9wb29sL1Bvb2xCYXNlLnRzIiwic3JjL3V0aWxzL3Bvb2wvUG9vbFV0aWwudHMiLCJzcmMvdXRpbHMvcG9vbC9pdGVtL01hcEdyaWRQb29sLnRzIiwic3JjL3V0aWxzL3Bvb2wvaXRlbS9NYXBOb2RlUG9vbC50cyIsInNyYy92aWV3L1ZpZXcxLnRzIiwic3JjL3ZpZXcvYmFzZS9QYW5lbFJlZ2lzdGVyLnRzIiwic3JjL3ZpZXcvYmFzZS9WaWV3TWdyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBLHlEQUFrRDtBQUNsRCxrREFBMkM7QUFD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LEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUNwQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNuQztJQUNMLENBQUM7Q0FDSjtBQXZHRCwwQkF1R0MiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IE1hcFNjZW5lIGZyb20gXCIuL2JhdHRsZS9tYXAvdmlldy9NYXBTY2VuZVwiO1xyXG5pbXBvcnQgUmVkVGlwTWdyIGZyb20gXCIuL3JlZFRpcC9SZWRUaXBNZ3JcIjtcclxuaW1wb3J0IFZpZXdNZ3IgZnJvbSBcIi4vdmlldy9iYXNlL1ZpZXdNZ3JcIjtcclxuaW1wb3J0IHsgUGFuZWxSZWdpc3RlciB9IGZyb20gXCIuL3ZpZXcvYmFzZS9QYW5lbFJlZ2lzdGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHB7XHJcbiAgICBtYXBTY2VuZTpNYXBTY2VuZTtcclxuICAgIHJlZFRpcE1ncjpSZWRUaXBNZ3I7XHJcbiAgICB2aWV3TWdyOlZpZXdNZ3JcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcbiAgICBpbml0KCk6dm9pZHtcclxuICAgICAgICB0aGlzLnZpZXdNZ3IgPSBWaWV3TWdyLmlucztcclxuICAgICAgICB0aGlzLnJlZFRpcE1nciA9IG5ldyBSZWRUaXBNZ3I7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZCh0aGlzLm1hcFNjZW5lID0gbmV3IE1hcFNjZW5lKTtcclxuICAgICAgICBWaWV3TWdyLmlucy5vcGVuUGFuZWwoUGFuZWxSZWdpc3Rlci5QQU5FTDQpXHJcbiAgICB9XHJcbn0iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9zY3JpcHQvR2FtZVVJXCJcbmltcG9ydCBHYW1lQ29udHJvbCBmcm9tIFwiLi9zY3JpcHQvR2FtZUNvbnRyb2xcIlxuaW1wb3J0IEJ1bGxldCBmcm9tIFwiLi9zY3JpcHQvQnVsbGV0XCJcbmltcG9ydCBEcm9wQm94IGZyb20gXCIuL3NjcmlwdC9Ecm9wQm94XCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTcyMDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTEyODA7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cInNob3dhbGxcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cInRlc3QvQXN0YXIuc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj10cnVlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcInNjcmlwdC9HYW1lVUkudHNcIixHYW1lVUkpO1xuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZUNvbnRyb2wudHNcIixHYW1lQ29udHJvbCk7XG4gICAgICAgIHJlZyhcInNjcmlwdC9CdWxsZXQudHNcIixCdWxsZXQpO1xuICAgICAgICByZWcoXCJzY3JpcHQvRHJvcEJveC50c1wiLERyb3BCb3gpO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcuaW5pdCgpOyIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuaW1wb3J0IFJlZFRpcE1nciBmcm9tIFwiLi9yZWRUaXAvUmVkVGlwTWdyXCI7XHJcbmltcG9ydCBSZWRUaXBUZXN0IGZyb20gXCIuL3JlZFRpcC9SZWRUaXBUZXN0XCI7XHJcbmltcG9ydCBSZXNvdXJjZU1nciBmcm9tIFwiLi9SZXNvdXJjZU1nclwiO1xyXG5pbXBvcnQgeyB1aSB9IGZyb20gXCIuL3VpL2xheWFNYXhVSVwiO1xyXG5pbXBvcnQgeyBQYW5lbFJlZ2lzdGVyIH0gZnJvbSBcIi4vdmlldy9iYXNlL1BhbmVsUmVnaXN0ZXJcIjtcclxuaW1wb3J0IFZpZXdNZ3IgZnJvbSBcIi4vdmlldy9iYXNlL1ZpZXdNZ3JcIjtcclxuaW1wb3J0IE1hcFNjZW5lIGZyb20gXCIuL2JhdHRsZS9tYXAvdmlldy9NYXBTY2VuZVwiO1xyXG5pbXBvcnQgQXBwIGZyb20gXCIuL0FwcFwiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0aWYgKHdpbmRvd1tcIkxheWEzRFwiXSkgTGF5YTNELmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQpO1xyXG5cdFx0ZWxzZSBMYXlhLmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0fVxyXG5cclxuXHRvblZlcnNpb25Mb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+a/gOa0u+Wkp+Wwj+WbvuaYoOWwhO+8jOWKoOi9veWwj+WbvueahOaXtuWAme+8jOWmguaenOWPkeeOsOWwj+WbvuWcqOWkp+WbvuWQiOmbhumHjOmdou+8jOWImeS8mOWFiOWKoOi9veWkp+WbvuWQiOmbhu+8jOiAjOS4jeaYr+Wwj+WbvlxyXG5cdFx0Ly8gTGF5YS5BdGxhc0luZm9NYW5hZ2VyLmVuYWJsZShcImZpbGVjb25maWcuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db25maWdMb2FkZWQpKTtcclxuXHRcdHRoaXMub25Db25maWdMb2FkZWQoKTtcclxuXHRcdFJlc291cmNlTWdyLmlucy5zdGFydENoZWNrKCk7XHJcblx0fVxyXG5cdHN0YXRpYyBhcHA6QXBwO1xyXG5cdG9uQ29uZmlnTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/liqDovb1JREXmjIflrprnmoTlnLrmma9cclxuXHRcdC8vIEdhbWVDb25maWcuc3RhcnRTY2VuZSAmJiBMYXlhLlNjZW5lLm9wZW4oR2FtZUNvbmZpZy5zdGFydFNjZW5lLHRydWUsbnVsbCxMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsdGhpcy5vcGVuU2NlbmUpKTtcclxuXHRcdC8vIHRoaXMuY3JlYXRlQnRuKFxyXG5cdFx0Ly8gW1wiYnRuMVwiLCgpPT57Vmlld01nci5pbnMub3BlblBhbmVsKFBhbmVsUmVnaXN0ZXIuUEFORUwxKX1dLFxyXG5cdFx0Ly8gW1wiYnRuMlwiLCgpPT57Vmlld01nci5pbnMub3BlblBhbmVsKFBhbmVsUmVnaXN0ZXIuUEFORUwyKX1dLFxyXG5cdFx0Ly8gW1wiYnRuM1wiLCgpPT57Vmlld01nci5pbnMub3BlblBhbmVsKFBhbmVsUmVnaXN0ZXIuUEFORUwzKX1dXHJcblx0XHQvLyApO1xyXG5cdFx0TWFpbi5hcHAgPSBuZXcgQXBwO1xyXG5cdFx0XHJcblx0fVxyXG5cclxuXHRjcmVhdGVCdG4oLi4uYnRuczpbc3RyaW5nLEZ1bmN0aW9uXVtdKTp2b2lke1xyXG5cdFx0bGV0IF94ID0gMDtcclxuXHRcdGZvcihsZXQgYXJyIG9mIGJ0bnMpe1xyXG5cdFx0XHRsZXQgbGFiID0gbmV3IExheWEuTGFiZWw7XHJcblx0XHRcdGxhYi5jb2xvciA9IFwiI2ZmZlwiXHJcblx0XHRcdGxhYi50ZXh0ID0gYXJyWzBdXHJcblx0XHRcdExheWEuc3RhZ2UuYWRkQ2hpbGQobGFiKVxyXG5cdFx0XHRsYWIueCA9IF94O1xyXG5cdFx0XHRsYWIuZm9udFNpemUgPSAzMFxyXG5cdFx0XHRfeCArPSAxMDBcclxuXHRcdFx0bGFiLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcyxhcnJbMV0pXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRvcGVuU2NlbmUoc2VuY2U6TGF5YS5TY2VuZSk6dm9pZHtcclxuXHJcblx0fVxyXG59XHJcblxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJpbXBvcnQgVmlld01nciBmcm9tIFwiLi92aWV3L2Jhc2UvVmlld01nclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzb3VyY2VNZ3Ige1xyXG4gICAgY2xlYXJBdGxhc1F1ZXVlOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgY2xlYXJRdWV1ZTogTGF5YS5UZXh0dXJlW10gPSBbXVxyXG4gICAgLy/lpKflm77pm4blvJXnlKjorqHmlbBcclxuICAgIGF0bGFzTWFwOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge31cclxuICAgIC8v5q+P5bin6ZSA5q+B6LWE5rqQ5pyA5aSn5pWw6YePXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgZnJhbWVDbGVhckNvdW50OiBudW1iZXIgPSAyO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IGNoZWNrQ2xlYXJUaW1lOiBudW1iZXIgPSAxMDAwO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luczogUmVzb3VyY2VNZ3I7XHJcbiAgICBzdGF0aWMgZ2V0IGlucygpOiBSZXNvdXJjZU1nciB7XHJcbiAgICAgICAgcmV0dXJuIFJlc291cmNlTWdyLl9pbnMgfHwgKFJlc291cmNlTWdyLl9pbnMgPSBuZXcgUmVzb3VyY2VNZ3IpXHJcbiAgICB9XHJcbiAgICBzdGFydENoZWNrKCk6IHZvaWQge1xyXG4gICAgICAgIExheWEudGltZXIubG9vcChSZXNvdXJjZU1nci5jaGVja0NsZWFyVGltZSwgdGhpcywgdGhpcy5sb29wQ2hlY2tUZXh0dXJlKTtcclxuICAgICAgICBMYXlhLnRpbWVyLmZyYW1lTG9vcCgxLCB0aGlzLCB0aGlzLmxvb3BEZXN0cm95VGV4dHVyZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcENoZWNrKCk6IHZvaWQge1xyXG4gICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcywgdGhpcy5sb29wQ2hlY2tUZXh0dXJlKTtcclxuICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsIHRoaXMubG9vcERlc3Ryb3lUZXh0dXJlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOajgOa1i+WbvueJh+i1hOa6kO+8jOWmguaenOW8leeUqOiuoeaVsOS4ujDliJnmt7vliqDliLDplIDmr4HpmJ/liJdcclxuICAgICAqL1xyXG4gICAgbG9vcENoZWNrVGV4dHVyZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5jbGVhclF1ZXVlLmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgICAgIGxldCB0ZW1wOiBMYXlhLlRleHR1cmU7XHJcbiAgICAgICAgZm9yIChsZXQgayBpbiBMYXlhLkxvYWRlci5sb2FkZWRNYXApIHtcclxuICAgICAgICAgICAgdGVtcCA9IExheWEuTG9hZGVyLmxvYWRlZE1hcFtrXTtcclxuICAgICAgICAgICAgaWYgKCF0ZW1wLmJpdG1hcCkgY29udGludWU7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wW1wiX3JlZmVyZW5jZUNvdW50XCJdID09IDAgJiYgdGVtcC5iaXRtYXBbXCJfcmVmZXJlbmNlQ291bnRcIl0gPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLyoq566A5piT5Yik5pat5aaC5p6c5piv5Zu+6ZuG5bCx6Ieq5Yqo5LiN5riF55CG77yI5b+955Wl5Y+q5pyJ5LiA5byg5Zu+54mH55qE5Zu+6ZuG77yJICovXHJcbiAgICAgICAgICAgICAgICBpZiAoKHRlbXAuYml0bWFwIGFzIExheWEuVGV4dHVyZTJEKS53aWR0aCA9PSB0ZW1wLndpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgKHRlbXAuYml0bWFwIGFzIExheWEuVGV4dHVyZTJEKS5oZWlnaHQgPT0gdGVtcC5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+WOi+WFpemUgOavgemYn+WIl1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJRdWV1ZS5wdXNoKHRlbXApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5om56YeP6ZSA5q+B5Zu+54mHXHJcbiAgICAgKi9cclxuICAgIGxvb3BEZXN0cm95VGV4dHVyZSgpOiB2b2lkIHtcclxuICAgICAgICBWaWV3TWdyLmlucy50cnlEZXN0b3J5UGFuZWwoKTtcclxuICAgICAgICBsZXQgaWR4ID0gMDtcclxuICAgICAgICBsZXQgdGV4dHVyZTogTGF5YS5UZXh0dXJlID0gdGhpcy5jbGVhclF1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgICAgd2hpbGUgKHRleHR1cmUpIHtcclxuICAgICAgICAgICAgLyoq6YeN5paw5Yik5pat5piv5ZCm5pyJ6KKr5byV55So77yM6YG/5YWN562J5b6F6ZSA5q+B6L+H56iL5Lit5Y+I6KKr5byV55So6YCg5oiQ6K+v5YigICovXHJcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLmJpdG1hcCAmJiB0ZXh0dXJlLmJpdG1hcFtcIl9yZWZlcmVuY2VDb3VudFwiXSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dHVyZS51cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBMYXlhLmxvYWRlci5jbGVhclJlcyh0ZXh0dXJlLnVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckVuZ2luZUNhY2hlKHRleHR1cmUuYml0bWFwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZHgrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaWR4ID49IFJlc291cmNlTWdyLmZyYW1lQ2xlYXJDb3VudCkgYnJlYWs7XHJcbiAgICAgICAgICAgIHRleHR1cmUgPSB0aGlzLmNsZWFyUXVldWUuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/muIXnkIbkuIDkuKrlpKflm77pm4ZcclxuICAgICAgICB0aGlzLmNsZWFyT25lQXRsYXMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLeWbvumbhi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgYWRkQXRsYXNSZWZyZW5jZSh1cmw6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmF0bGFzTWFwW3VybF0pIHtcclxuICAgICAgICAgICAgdGhpcy5hdGxhc01hcFt1cmxdID0gdGhpcy5hdGxhc01hcFt1cmxdICsgMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmF0bGFzTWFwW3VybF0gPSAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVBdGxhc1JlZnJlbmNlKHVybDogc3RyaW5nLCBhdXRvQ2xlYXI6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5hdGxhc01hcFt1cmxdKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLlm77pm4blvJXnlKjorqHmlbDpgLvovpHmnInpl67pophcIilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmF0bGFzTWFwW3VybF0gPSB0aGlzLmF0bGFzTWFwW3VybF0gLSAxO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYXRsYXNNYXBbdXJsXSAmJiBhdXRvQ2xlYXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHVzaERlc3RvcnlBdGxhc1F1ZXVlKHVybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKua3u+WKoOa4heeQhumYn+WIlyAqL1xyXG4gICAgcHVzaERlc3RvcnlBdGxhc1F1ZXVlKGF0bGFzOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5jbGVhckF0bGFzUXVldWUuaW5kZXhPZihhdGxhcykgPT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckF0bGFzUXVldWUucHVzaChhdGxhcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKuaJp+ihjOa4heeQhuWkp+WbvumbhiAqL1xyXG4gICAgcHJpdmF0ZSBjbGVhck9uZUF0bGFzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5jbGVhckF0bGFzUXVldWUubGVuZ3RoKSByZXR1cm47XHJcbiAgICAgICAgbGV0IHVybDogc3RyaW5nO1xyXG4gICAgICAgIC8v5aSn5Zu+6ZuG5re75Yqg5byV55So6K6h5pWw5pyJ5Y+v6IO95Zu+6ZuG6L+Y5rKh5Yqg6L2977yM5aaC5p6c5rKh5pyJ6LWE5rqQ6KGo56S66L+Y5rKh5Yqg6L29XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuY2xlYXJBdGxhc1F1ZXVlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChMYXlhLmxvYWRlci5nZXRSZXModGhpcy5jbGVhckF0bGFzUXVldWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSB0aGlzLmNsZWFyQXRsYXNRdWV1ZS5zcGxpY2UoaSwgMSlbMF07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXJsICYmICF0aGlzLmF0bGFzTWFwW3VybF0pIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYXRsYXNNYXBbdXJsXTtcclxuICAgICAgICAgICAgTGF5YS5sb2FkZXIuY2xlYXJSZXModXJsKTtcclxuICAgICAgICAgICAgdXJsID0gTGF5YS5VUkwuZm9ybWF0VVJMKHVybC5zdWJzdHJpbmcoMCwgdXJsLmxhc3RJbmRleE9mKFwiLlwiKSkgKyBcIi5wbmdcIik7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJFbmdpbmVDYWNoZShMYXlhLmxvYWRlci5nZXRSZXModXJsKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKua4heeQhuW8leaTjueahOe8k+WtmCAo5b275bqV5riF55CGKSovXHJcbiAgICBwcml2YXRlIGNsZWFyRW5naW5lQ2FjaGUodGV4dHVyZTogTGF5YS5UZXh0dXJlMkQpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGV4dHVyZSkge1xyXG4gICAgICAgICAgICBMYXlhLkxvYWRlci5jbGVhclJlcyh0ZXh0dXJlLnVybCk7XHJcbiAgICAgICAgICAgIGxldCByZXNvdXJjZSA9IExheWEuUmVzb3VyY2UuZ2V0UmVzb3VyY2VCeUlEKHRleHR1cmVbXCJpZFwiXSk7XHJcbiAgICAgICAgICAgIHJlc291cmNlICYmIHJlc291cmNlLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59IiwiLyoqXHJcbiAqIOWIneWni+WMluS4gOasoeWvu+i3r+eahOWcsOWbviBBc3Rhci5pbnMuaW5pdCgpXHJcbiAqIOW8gOWQr+Wvu+i3ryBBc3Rhci5pbnMuZmluZFBhdGgoKVxyXG4gKiBcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFTdGFyIHtcclxuICAgIC8qKuWbuuWumua2iOiAlyAqL1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IHN0YXRpY0Nvc3QgPSAxMDtcclxuICAgIHN0YXRpYyB4TnVtOiBudW1iZXJcclxuICAgIHN0YXRpYyB5TnVtOiBudW1iZXJcclxuXHJcbiAgICAvKirlnLDlm77moLzlrZDpm4blkIggKi9cclxuICAgIHN0YXRpYyBtYXBOb2RlTGlzdDogSU1hcE5vZGVbXVtdO1xyXG5cclxuICAgIHByaXZhdGUgb3Blbkxpc3Q6IElNYXBOb2RlW10gPSBbXTtcclxuICAgIHByaXZhdGUgY2xvc2VMaXN0OiBJTWFwTm9kZVtdID0gW107XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zOiBBU3RhcjtcclxuICAgIHN0YXRpYyBnZXQgaW5zKCk6IEFTdGFyIHtcclxuICAgICAgICBpZiAoIUFTdGFyLl9pbnMpIEFTdGFyLl9pbnMgPSBuZXcgQVN0YXI7XHJcbiAgICAgICAgcmV0dXJuIEFTdGFyLl9pbnM7XHJcbiAgICB9XHJcbiAgICBpbml0KGFycjogSU1hcE5vZGVbXVtdKTogdm9pZCB7XHJcbiAgICAgICAgQVN0YXIueE51bSA9IGFyclswXS5sZW5ndGg7XHJcbiAgICAgICAgQVN0YXIueU51bSA9IGFyci5sZW5ndGg7XHJcbiAgICAgICAgQVN0YXIubWFwTm9kZUxpc3QgPSBhcnI7XHJcblxyXG4gICAgfVxyXG4gICAgLyoq5pu85ZOI6aG/5Lyw5Lu35rOVICovXHJcbiAgICBwcml2YXRlIG1hbmhhdHRhbihmcm9tTm9kZTogSU1hcE5vZGUsIHRhcmdldE5vZGU6IElNYXBOb2RlKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5hYnMoZnJvbU5vZGUueCAtIHRhcmdldE5vZGUueCkgKiBBU3Rhci5zdGF0aWNDb3N0ICsgTWF0aC5hYnMoZnJvbU5vZGUueSAtIHRhcmdldE5vZGUueSkgKiBBU3Rhci5zdGF0aWNDb3N0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKuenu+WKqOaIkOacrO+8jOW9seWTjei1sOaWnOWvueinkui/mOaYr+WeguebtCAqL1xyXG4gICAgcHJpdmF0ZSBnZXRHKGZyb21Ob2RlOiBJTWFwTm9kZSwgdGFyZ2V0Tm9kZTogSU1hcE5vZGUpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBmcm9tTm9kZS54IC0gdGFyZ2V0Tm9kZS54ID09IDAgfHwgZnJvbU5vZGUueSAtIHRhcmdldE5vZGUueSA9PSAwID8gMTAgOiAxNDtcclxuICAgIH1cclxuXHJcbiAgICAvKirojrflj5blkajlm7Q45qC8ICovXHJcbiAgICBwcml2YXRlIGdldEFyb3VuZE5vZGUobm9kZTogSU1hcE5vZGUpIHtcclxuICAgICAgICBsZXQgeCA9IG5vZGUueCAlIEFTdGFyLnhOdW07XHJcbiAgICAgICAgbGV0IHkgPSBub2RlLnkgJSBBU3Rhci55TnVtO1xyXG4gICAgICAgIGxldCByZXM6IElNYXBOb2RlW10gPSBbXTtcclxuICAgICAgICBsZXQgbWFwID0gQVN0YXIubWFwTm9kZUxpc3Q7XHJcbiAgICAgICAgbGV0IHRlbXA6IElNYXBOb2RlW107XHJcbiAgICAgICAgaWYgKHRlbXAgPSBtYXBbeSAtIDFdKSB7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wW3ggLSAxXSkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnB1c2godGVtcFt4IC0gMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0ZW1wW3hdKSB7XHJcbiAgICAgICAgICAgICAgICByZXMucHVzaCh0ZW1wW3hdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGVtcFt4ICsgMV0pIHtcclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKHRlbXBbeCArIDFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobWFwW3ldW3ggLSAxXSkge1xyXG4gICAgICAgICAgICByZXMucHVzaChtYXBbeV1beCAtIDFdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1hcFt5XVt4ICsgMV0pIHtcclxuICAgICAgICAgICAgcmVzLnB1c2gobWFwW3ldW3ggKyAxXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGVtcCA9IG1hcFt5ICsgMV0pIHtcclxuICAgICAgICAgICAgaWYgKHRlbXBbeCAtIDFdKSB7XHJcbiAgICAgICAgICAgICAgICByZXMucHVzaCh0ZW1wW3ggLSAxXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRlbXBbeF0pIHtcclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKHRlbXBbeF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0ZW1wW3ggKyAxXSkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnB1c2godGVtcFt4ICsgMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBmcm9tTm9kZSDotbflp4vngrlcclxuICAgICAqIEBwYXJhbSB0b05vZGUg55uu5qCH54K5XHJcbiAgICAgKiBAcGFyYW0gbW92ZVR5cGUg56e75Yqo57G75Z6L77yM5b2x5ZON5Y+v56m/6LaK5Zyw5b2iXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgZmluZFBhdGgoZnJvbU5vZGU6IElNYXBOb2RlLCB0b05vZGU6IElNYXBOb2RlLCBtb3ZlVHlwZTogbW92ZV90eXBlKTogSU1hcE5vZGVbXSB7XHJcbiAgICAgICAgaWYgKGZyb21Ob2RlID09IHRvTm9kZSB8fCAobW92ZVR5cGUgYXMgbnVtYmVyKSA8IHRvTm9kZS50ZXJyYWluKSByZXR1cm4gW2Zyb21Ob2RlXTtcclxuICAgICAgICBmcm9tTm9kZS5wYXJlbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMub3Blbkxpc3QubGVuZ3RoID0gdGhpcy5jbG9zZUxpc3QubGVuZ3RoID0gMDtcclxuICAgICAgICB0aGlzLm9wZW5MaXN0LnB1c2goZnJvbU5vZGUpO1xyXG4gICAgICAgIGZyb21Ob2RlLkcgPSAwO1xyXG4gICAgICAgIGxldCBnOiBudW1iZXI7XHJcbiAgICAgICAgbGV0IGluZGV4OiBudW1iZXI7XHJcbiAgICAgICAgd2hpbGUgKGZyb21Ob2RlID0gdGhpcy5vcGVuTGlzdC5wb3AoKSkge1xyXG4gICAgICAgICAgICBsZXQgYXJvdW5kID0gdGhpcy5nZXRBcm91bmROb2RlKGZyb21Ob2RlKTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZUxpc3QucHVzaChmcm9tTm9kZSk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IG5vZGUgb2YgYXJvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAvL+aJvuWIsOebruagh1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUgPT0gdG9Ob2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQgPSBmcm9tTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVBhdGgobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbG9zZUxpc3QuaW5kZXhPZihub2RlKSA+PSAwIHx8IChtb3ZlVHlwZSBhcyBudW1iZXIpIDwgbm9kZS50ZXJyYWluKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGcgPSBmcm9tTm9kZS5HICsgdGhpcy5nZXRHKGZyb21Ob2RlLCBub2RlKTtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gdGhpcy5vcGVuTGlzdC5pbmRleE9mKG5vZGUpXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5MaXN0LnB1c2gobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQgPSBmcm9tTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLkggPSB0aGlzLm1hbmhhdHRhbihub2RlLCB0b05vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuRyA9IGc7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5GID0gbm9kZS5IICsgbm9kZS5HO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcGVuTGlzdFtpbmRleF0uRyA+IGcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5HID0gZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQgPSBmcm9tTm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5GID0gdGhpcy5vcGVuTGlzdFtpbmRleF0uRyArIHRoaXMub3Blbkxpc3RbaW5kZXhdLkg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMub3Blbkxpc3Quc29ydCgoYSwgYikgPT4gYi5GIC0gYS5GKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFt0b05vZGVdO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIHBhcnNlUGF0aChub2RlOiBJTWFwTm9kZSkge1xyXG4gICAgICAgIGxldCByZXM6IElNYXBOb2RlW10gPSBbXTtcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIHJlcy5wdXNoKG5vZGUpO1xyXG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XHJcbiAgICAgICAgfSB3aGlsZSAobm9kZSlcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElNYXBOb2RlIHtcclxuICAgIHdpZHRoOiBudW1iZXJcclxuICAgIGhlaWdodDogbnVtYmVyXHJcbiAgICB4OiBudW1iZXJcclxuICAgIHk6IG51bWJlclxyXG4gICAgLyoq5Zyw5b2i5raI6ICXKOmihOeVmSkgKi9cclxuICAgIGNvc3Q/OiBudW1iZXJcclxuICAgIC8qKuWcsOW9ou+8iOmihOeVme+8iSAqL1xyXG4gICAgdGVycmFpbj86IHRlcnJhaW5fdHlwZVxyXG4gICAgcGFyZW50PzogSU1hcE5vZGVcclxuICAgIEc/OiBudW1iZXJcclxuICAgIEg/OiBudW1iZXJcclxuICAgIEY/OiBudW1iZXJcclxufVxyXG5cclxuLyoq5oyJ5aSn5bCP6aG65bqP77yM6LaK5aSn5raI6ICX6LaK6auYICovXHJcbmV4cG9ydCBlbnVtIHRlcnJhaW5fdHlwZSB7XHJcbiAgICB3YXRlcixcclxuICAgIG5vcm1hbCxcclxuICAgIGZseSxcclxuICAgIHVud2Fsa1xyXG59XHJcblxyXG4vKirlj6/ku6Xnp7vliqjnmoTmlrnlvI8gKi9cclxuZXhwb3J0IGVudW0gbW92ZV90eXBlIHtcclxuICAgIHdhbGsgPSB0ZXJyYWluX3R5cGUubm9ybWFsLFxyXG4gICAgZmx5ID0gdGVycmFpbl90eXBlLmZseVxyXG59IiwiaW1wb3J0IHsgSU1hcE5vZGUgfSBmcm9tIFwiLi9BU3RhclwiO1xyXG4vKirlnLDlm77oioLngrnmlbDmja4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwTm9kZSBpbXBsZW1lbnRzIElNYXBOb2RlIHtcclxuICAgIHdpZHRoOiBudW1iZXJcclxuICAgIGhlaWdodDogbnVtYmVyXHJcbiAgICB4OiBudW1iZXJcclxuICAgIHk6IG51bWJlclxyXG4gICAgcGFyZW50PzogSU1hcE5vZGVcclxuICAgIEc/OiBudW1iZXJcclxuICAgIEg/OiBudW1iZXJcclxuICAgIEY/OiBudW1iZXJcclxuXHJcblxyXG4gICAgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5oZWlnaHQgPSB0aGlzLnggPSB0aGlzLnkgPVxyXG4gICAgICAgICAgICB0aGlzLkcgPSB0aGlzLkggPSB0aGlzLkYgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRvKHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQVN0YXIsIHsgSU1hcE5vZGUsIHRlcnJhaW5fdHlwZSwgbW92ZV90eXBlIH0gZnJvbSBcIi4uL0FTdGFyXCJcclxuaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi4vLi4vLi4vdWkvbGF5YU1heFVJXCI7XHJcbmltcG9ydCBJVmlldyBmcm9tIFwiLi4vLi4vLi4vdmlldy9iYXNlL0lWaWV3XCI7XHJcbmxldCAgc3RhcnRQb2ludDpJTWFwTm9kZT0gdW5kZWZpbmVkLGVuZFBvaW50OklNYXBOb2RlID0gdW5kZWZpbmVkXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFzdGFyVGVzdCBleHRlbmRzIHVpLnRlc3QuQXN0YXJVSSBpbXBsZW1lbnRzIElWaWV3IHtcclxuICAgIG9wZW4oLi4uYXJnczogYW55W10pOiB2b2lkIHsgfVxyXG4gICAgY2xvc2UoKTogdm9pZCB7IH1cclxuICAgXHJcbiAgICBtYXA6e1trZXk6c3RyaW5nXTpTcE5vZGV9ID0ge31cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICBsZXQgYXJyID0gW11cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDMwOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHJvbCA9IFtdXHJcbiAgICAgICAgICAgIGFyci5wdXNoKHJvbClcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzMDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IG5ldyBtYXBOb2RlO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwID0gbmV3IFNwTm9kZShub2RlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXBbYCR7an1fJHtpfWBdID0gc3A7XHJcbiAgICAgICAgICAgICAgICBzcC50ZXJyYWluID0gdGVycmFpbl90eXBlLndhdGVyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2hpbGQoc3ApXHJcbiAgICAgICAgICAgICAgICBzcC54ID0gaiAqIDE1XHJcbiAgICAgICAgICAgICAgICBzcC55ID0gaSAqIDE1XHJcbiAgICAgICAgICAgICAgICBub2RlLnggPSBqXHJcbiAgICAgICAgICAgICAgICBub2RlLnkgPSBpXHJcbiAgICAgICAgICAgICAgICBub2RlLndpZHRoID0gMTBcclxuICAgICAgICAgICAgICAgIG5vZGUuaGVpZ2h0ID0gMTBcclxuICAgICAgICAgICAgICAgIHJvbC5wdXNoKG5vZGUpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgQVN0YXIuaW5zLmluaXQoYXJyKTtcclxuICAgICAgICB0aGlzLnN0YXJCdG4ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57XHJcbiAgICAgICAgICAgIHN0YXJ0UG9pbnQgPSBudWxsXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLmVuZEJ0bi5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKCk9PntcclxuICAgICAgICAgICAgZW5kUG9pbnQgPSBudWxsXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLnNlYXJjaEJ0bi5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKCk9PntcclxuICAgICAgICAgICAgbGV0IHJlcyA9IEFTdGFyLmlucy5maW5kUGF0aChzdGFydFBvaW50LGVuZFBvaW50LG1vdmVfdHlwZS53YWxrKVxyXG4gICAgICAgICAgICBjb25zdCBmbiA9ICgpPT57XHJcbiAgICAgICAgICAgICAgICBpZighcmVzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLGZuKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IHJlcy5wb3AoKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXBbYCR7bm9kZS54fV8ke25vZGUueX1gXS5ncmFwaGljcy5jbGVhcigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgTGF5YS50aW1lci5sb29wKDMwMCx0aGlzLGZuKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIG1hcE5vZGUgaW1wbGVtZW50cyBJTWFwTm9kZSB7XHJcbiAgICB3aWR0aDogbnVtYmVyXHJcbiAgICBoZWlnaHQ6IG51bWJlclxyXG4gICAgeDogbnVtYmVyXHJcbiAgICB5OiBudW1iZXJcclxuICAgIGNvc3Q/OiBudW1iZXJcclxuICAgIHRlcnJhaW4/OiB0ZXJyYWluX3R5cGVcclxuICAgIGZsYWc/OiBudW1iZXJcclxuICAgIHBhcmVudD86IElNYXBOb2RlXHJcbiAgICBHPzogbnVtYmVyXHJcbiAgICBIPzogbnVtYmVyXHJcbiAgICBGPzogbnVtYmVyXHJcbn1cclxuXHJcbmNsYXNzIFNwTm9kZSBleHRlbmRzIExheWEuQm94IHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBub2RlOiBJTWFwTm9kZSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuaGVpZ2h0ID0gMTBcclxuICAgICAgICB0aGlzLm9uKExheWEuRXZlbnQuUklHSFRfQ0xJQ0ssdGhpcywoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLnRlcnJhaW4gPSAzO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKHN0YXJ0UG9pbnQgPT09IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgc3RhcnRQb2ludCA9IHRoaXMubm9kZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5ncmFwaGljcy5jbGVhcigpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihlbmRQb2ludCA9PT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICBlbmRQb2ludCA9IHRoaXMubm9kZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5ncmFwaGljcy5jbGVhcigpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fdGVycmFpbiA+PSB0ZXJyYWluX3R5cGUudW53YWxrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXJyYWluID0gMDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RlcnJhaW4rKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRlcnJhaW4gPSB0aGlzLl90ZXJyYWluO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBfdGVycmFpbjogdGVycmFpbl90eXBlO1xyXG4gICAgc2V0IHRlcnJhaW4odHlwZTogdGVycmFpbl90eXBlKSB7XHJcbiAgICAgICAgdGhpcy5fdGVycmFpbiA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5ub2RlLnRlcnJhaW4gPSB0eXBlO1xyXG4gICAgICAgIGxldCBjb2xvcjogc3RyaW5nO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIHRlcnJhaW5fdHlwZS53YXRlcjpcclxuICAgICAgICAgICAgICAgIGNvbG9yID0gXCIjMTYyOGVmXCJcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgdGVycmFpbl90eXBlLm5vcm1hbDpcclxuICAgICAgICAgICAgICAgIGNvbG9yID0gXCIjN2E4MGNkXCJcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgdGVycmFpbl90eXBlLmZseTpcclxuICAgICAgICAgICAgICAgIGNvbG9yID0gXCIjYzM3YWNkXCJcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgdGVycmFpbl90eXBlLnVud2FsazpcclxuICAgICAgICAgICAgICAgIGNvbG9yID0gXCIjZWUwZTNiXCJcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzID0gdGhpcy5ncmFwaGljcztcclxuICAgICAgICBzLmNsZWFyKClcclxuICAgICAgICBzLmRyYXdDaXJjbGUoMCwgMCwgNSwgY29sb3IpXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBHcmlkIGV4dGVuZHMgTGF5YS5JbWFnZXtcclxuICAgIHJlbGVhc2UoKTp2b2lke1xyXG4gICAgICAgIHRoaXMuc2tpbiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVTZWxmKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgU3ByaXRlID0gTGF5YS5TcHJpdGU7XHJcblxyXG5pbXBvcnQgQm94ID0gTGF5YS5Cb3g7XHJcbmltcG9ydCBNYXBHcmlkIGZyb20gXCIuL01hcEdyaWRcIjtcclxuaW1wb3J0IFBvb2xVdGlsIGZyb20gXCIuLi8uLi8uLi91dGlscy9wb29sL1Bvb2xVdGlsXCI7XHJcbi8qKlvot6/lvoTvvIzmsLTlubPkuKrmlbDvvIznq5bnm7TkuKrmlbDvvIzmoLzlrZDlpKflsI9dICovXHJcbmNvbnN0IG1hcENmZyA9IHtcclxuICAgIDE6IFtcIi4vYXNzZXQvbWFwLzgwMDAxL1wiLCA4LCA2LCAyNTZdLFxyXG59XHJcbi8qKuWcsOWbvuaYvuekuuWxgiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBTY2VuZSBleHRlbmRzIFNwcml0ZSB7XHJcbiAgICBtYXBMYXllcjogQm94O1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgaW5pdCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMubWFwTGF5ZXIgPSBuZXcgQm94KTtcclxuICAgICAgICB0aGlzLm1hcExheWVyLnRvcCA9IHRoaXMubWFwTGF5ZXIubGVmdCA9IHRoaXMubWFwTGF5ZXIucmlnaHQgPSB0aGlzLm1hcExheWVyLmJvdHRvbSA9IDBcclxuICAgICAgICB0aGlzLkNoYW5nZU1hcCgxKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgQ2hhbmdlTWFwKGlkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBsZXQgY2ZnID0gbWFwQ2ZnW2lkXTtcclxuICAgICAgICB0aGlzLnJlbGVhc2VNYXAoKTtcclxuICAgICAgICBsZXQgbm9kZTogTWFwR3JpZDtcclxuICAgICAgICBsZXQgaW5kZXggPSAxO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2ZnWzJdOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjZmdbMV07IGorKykge1xyXG4gICAgICAgICAgICAgICAgbm9kZSA9IFBvb2xVdGlsLk1hcEdyaWQuY3JlYXRlKGNmZ1swXSArIGluZGV4ICsgXCIuanBnXCIpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgIG5vZGUueSA9IGNmZ1szXSAqIGk7XHJcbiAgICAgICAgICAgICAgICBub2RlLnggPSBjZmdbM10gKiBqO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXBMYXllci5hZGRDaGlsZChub2RlKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IExheWEuc3RhZ2Uud2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBMYXlhLnN0YWdlLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBcclxuXHJcbiAgICByZWxlYXNlTWFwKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBub2RlOiBNYXBHcmlkO1xyXG4gICAgICAgIHdoaWxlICh0aGlzLm1hcExheWVyLm51bUNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIG5vZGUgPSB0aGlzLmdldENoaWxkQXQoMCkgYXMgTWFwR3JpZDtcclxuICAgICAgICAgICAgUG9vbFV0aWwuTWFwR3JpZC5yZWxlYXNlKG5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuIiwiaW1wb3J0IHsgQXJyYXlVdGlscyB9IGZyb20gXCIuLi91dGlscy9BcnJheVV0aWxzXCI7XHJcbmltcG9ydCB7IE1hcFN0cnVjdCB9IGZyb20gXCIuLi91dGlscy9NYXBTdHJ1Y3RcIjtcclxuXHJcbi8qKlxyXG4gKiDnuqLngrnnrqHnkIZcclxuICog5YiG56a75pi+56S65ZKM5pWw5o2u77yM5q+P5Liq6IqC54K56YO95pyJ5LiA5Liq54q25oCB77yM5Y+v5Lul5oqK57qi54K55a6e5L6L5LiO5Lu75oSP6IqC54K557uR5a6aL+ino+e7kVxyXG4gKiDoioLngrnlj6/ku6Xnu5HlrppoYW5kbGXmiJbogIXpgJrov4flhbPns7vlhbbku5boioLngrnlrp7njrDmm7TmlrDvvIzmm7TmlrDmmK/oh6rliqjnmoTvvIzlkIzml7blpoLmnpzmnInnu5Hlrprlrp7kvovvvIzlrp7kvovnmoTnirbmgIHkuZ/kvJroh6rliqjmm7TmlrBcclxuICogXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWRUaXBCYXNlIGV4dGVuZHMgTGF5YS5FdmVudERpc3BhdGNoZXIge1xyXG4gICAgcHJpdmF0ZSB0ZW1wOiBSZWRUaXBCYXNlO1xyXG4gICAgcHJpdmF0ZSB0ZW1wVGFyZ2V0OiBzdHJpbmdbXTtcclxuICAgIC8vIHByaXZhdGUgdGVtcE5hbWU6c3RyaW5nO1xyXG4gICAgLyoq5YWz5b+D5YiX6KGoICovXHJcbiAgICBwcml2YXRlIGNhcmVNYXA6IE1hcFN0cnVjdDxzdHJpbmcsIFtSZWRUaXBCYXNlLCBzdHJpbmdbXV1bXT4gPSBuZXcgTWFwU3RydWN0O1xyXG4gICAgLyoq57qi54K554q25oCB57yT5a2YICovXHJcbiAgICBwcml2YXRlIHN0YXRlTWFwOiBNYXBTdHJ1Y3Q8c3RyaW5nLCBib29sZWFuPiA9IG5ldyBNYXBTdHJ1Y3Q7XHJcbiAgICAvKirnu5HlrprnuqLngrnlrp7kvosgKi9cclxuICAgIHByaXZhdGUgYmluZFJlZFRpcDogTWFwU3RydWN0PHN0cmluZywgTGF5YS5TcHJpdGVbXT4gPSBuZXcgTWFwU3RydWN0O1xyXG4gICAgLyoq6IqC54K55LiOaGFuZGxl5pig5bCEICovXHJcbiAgICBwcml2YXRlIHJlZ2lzdGVyTWFwOiBNYXBTdHJ1Y3Q8c3RyaW5nLCBbRnVuY3Rpb24sIGFueV0+ID0gbmV3IE1hcFN0cnVjdDtcclxuICAgIHN0YXRpYyBnZXQgaW5zKCk6IFJlZFRpcEJhc2Uge1xyXG4gICAgICAgIGxldCBzOiBhbnkgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBzW1wiX2luc19cIl0gfHwgKHNbXCJfaW5zX1wiXSA9IG5ldyBzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgX2luaXQoKTp2b2lke1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBpbml0KCk6dm9pZHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCLlnKhpbml05pa55rOV5Lit57uR5a6a6Kem5Y+R54K55oiW6ICF5YWz57O76IqC54K5XCIpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDms6jlhozoioLngrnmm7TmlrBoYW5kbGUs5rKh5rOo5YaM5Lmf5LiN5b2x5ZON77yM5Y+v5Lul5Y+q5YWz5b+D5YW25LuW6IqC54K577yM6IqC54K555qE5Yib5bu65piv5Lu75oSP55qEXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBcclxuICAgICAqIEBwYXJhbSBjYWxsIFxyXG4gICAgICogQHBhcmFtIGNhbGxlciBcclxuICAgICAqL1xyXG4gICAgcmVnaXN0ZXIobmFtZTogc3RyaW5nLCBmbjogKCkgPT4gYm9vbGVhbiwgY2FsbGVyOiBhbnkpIHtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyTWFwLnNldChuYW1lLCBbZm4sIGNhbGxlcl0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJpbmRIYW5kbGUuYmluZCh0aGlzLG5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog57uR5a6a5aSW6YOo6Kem5Y+R54K577yM5q+U5aaC5ri45oiP5qih5Z2X5pWw5o2u5bGC5pu05paw5pWw5o2u77yM57uR5a6a57qi54K56Kem5Y+R77yM5Zyo6LCD55So5a6McmVnaXN0ZXLlkI7pnaLnm7TmjqXosIPnlKhcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBiaW5kSGFuZGxlKG5hbWU6c3RyaW5nLGV2ZW50TmFtZTpzdHJpbmcsZGlzcGF0Y2hlcjpMYXlhLkV2ZW50RGlzcGF0Y2hlcil7XHJcbiAgICAgICAgZGlzcGF0Y2hlci5vbihldmVudE5hbWUsdGhpcyx0aGlzLmVtaXQsW25hbWVdKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5iaW5kSGFuZGxlLmJpbmQodGhpcyxuYW1lKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnu5HlrprlhbPlv4PoioLngrlcclxuICAgICAqIEBwYXJhbSB0IFxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIHRha2VjYXJlKHQ6IFJlZFRpcEJhc2UpIHtcclxuICAgICAgICB0aGlzLnRlbXAgPSB0O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDnu5HlrprmnKznuqLngrnnrqHnkIblmajnmoTnuqLngrnoioLngrlcclxuICAgICAqL1xyXG4gICAgYmluZE5hbWUoLi4uZmxhZ3M6IHN0cmluZ1tdKSB7XHJcbiAgICAgICAgdGhpcy50ZW1wVGFyZ2V0ID0gZmxhZ3M7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlhbPlv4PoioLngrnnmoTnuqLngrnoioLngrnlkI1cclxuICAgICAqL1xyXG4gICAgY2FyZSguLi5mbGFnczogc3RyaW5nW10pIHtcclxuICAgICAgICAvL+S4uuWFs+ezu+iKgueCuea3u+WKoOaUueWPmOinpuWPkWhhbmRsZVxyXG4gICAgICAgIGZvciAobGV0IGYgb2YgZmxhZ3MpIHtcclxuICAgICAgICAgICAgdGhpcy50ZW1wLm9uKGYsIHRoaXMsIHRoaXMuY2hpbGRyZW5DaGFuZ2UsIFt0aGlzLnRlbXBUYXJnZXRdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgayBvZiB0aGlzLnRlbXBUYXJnZXQpIHtcclxuICAgICAgICAgICAgbGV0IGxzID0gdGhpcy5jYXJlTWFwLmdldChrKTtcclxuICAgICAgICAgICAgaWYgKGxzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gQXJyYXlVdGlscy5maW5kKGxzLCAodikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2WzBdID09IHRoaXMudGVtcDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WzFdID0gQXJyYXlVdGlscy51bmlxdWUodGFyZ2V0WzFdLmNvbmNhdChmbGFncykpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxzLnB1c2goW3RoaXMudGVtcCwgZmxhZ3NdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FyZU1hcC5zZXQoaywgW1t0aGlzLnRlbXAsIGZsYWdzXV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6Kem5Y+R57qi54K56K6h566XXHJcbiAgICAgKiBAcGFyYW0gZmxhZyBcclxuICAgICAqL1xyXG4gICAgZW1pdChmbGFnOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNoYW5nZShmbGFnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOS4uue6oueCuee7keWumuaJp+ihjGhhbmRsZVxyXG4gICAgICogQHBhcmFtIG5hbWUg57qi54K55ZCNXHJcbiAgICAgKiBAcGFyYW0gcmVkVGlwIOe6oueCueWunuS+i1xyXG4gICAgICovXHJcbiAgICBiaW5kUmVkKG5hbWU6IHN0cmluZywgcmVkVGlwOiBMYXlhLlNwcml0ZSk6IHZvaWQge1xyXG4gICAgICAgIGxldCBscyA9IHRoaXMuYmluZFJlZFRpcC5nZXQobmFtZSk7XHJcbiAgICAgICAgaWYgKCFscykge1xyXG4gICAgICAgICAgICB0aGlzLmJpbmRSZWRUaXAuc2V0KG5hbWUsIFtyZWRUaXBdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAobHMuaW5kZXhPZihyZWRUaXApID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBscy5wdXNoKHJlZFRpcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVkVGlwLnZpc2libGUgPSB0aGlzLmdldFN0YXR1cyhuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOino+e7kee6oueCue+8jOWPquaYr+ino+e7kee6oueCueaYvuekuu+8jOaVsOaNruWxguS7jeS8muiuoeeul1xyXG4gICAgICogQHBhcmFtIG5hbWUgXHJcbiAgICAgKiBAcGFyYW0gcmVkVGlwIFxyXG4gICAgICovXHJcbiAgICB1bkJpbmRSZWQobmFtZTogc3RyaW5nLCByZWRUaXA6IExheWEuU3ByaXRlKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGxzID0gdGhpcy5iaW5kUmVkVGlwLmdldChuYW1lKTtcclxuICAgICAgICBpZiAobHMpIHtcclxuICAgICAgICAgICAgbHMuc3BsaWNlKGxzLmluZGV4T2YocmVkVGlwKSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W57qi54K56IqC54K554q25oCBXHJcbiAgICAgKi9cclxuICAgIGdldFN0YXR1cyhmbGFnOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgcmVzID0gISF0aGlzLnN0YXRlTWFwLmdldChmbGFnKTtcclxuICAgICAgICBpZiAocmVzKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICBsZXQgbWFwID0gdGhpcy5jYXJlTWFwLmdldChmbGFnKTtcclxuICAgICAgICBpZiAobWFwKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHQgb2YgbWFwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrIG9mIHRbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodFswXS5nZXRTdGF0dXMoaykpIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIHByaXZhdGUgc2V0UmVkVGlwKGZsYWc6IHN0cmluZywgc3RhdGU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBsZXQgbHMgPSB0aGlzLmJpbmRSZWRUaXAuZ2V0KGZsYWcpO1xyXG4gICAgICAgIGlmIChscykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpIG9mIGxzKSB7XHJcbiAgICAgICAgICAgICAgICBpLnZpc2libGUgPSBzdGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoq5a2Q6IqC54K554q25oCB5pS55Y+Y77yM5LiN5Lya6Kem5Y+R5paw6K6h566X77yM5ou/57yT5a2YICovXHJcbiAgICBwcml2YXRlIGNoaWxkcmVuQ2hhbmdlKHRhcmdlckZsYWdzOiBzdHJpbmdbXSwgc3RhdHVzOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHZhbHVlOiBib29sZWFuID0gc3RhdHVzO1xyXG4gICAgICAgIGZvciAobGV0IGsgb2YgdGFyZ2VyRmxhZ3MpIHtcclxuICAgICAgICAgICAgc3RhdHVzID0gdmFsdWUgfHwgdGhpcy5nZXRTdGF0dXMoayk7XHJcbiAgICAgICAgICAgIC8v6K6+572u57qi54K55a6e5L6LXHJcbiAgICAgICAgICAgIHRoaXMuc2V0UmVkVGlwKGssIHN0YXR1cyk7XHJcbiAgICAgICAgICAgIC8v6YCa55+l54i26IqC54K5XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnQoaywgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKirmnKzoioLngrnnirbmgIHmlLnlj5ggKi9cclxuICAgIHByaXZhdGUgY2hhbmdlKGZsYWc6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGxldCBzdGF0dXMgPSB0aGlzLmNhbGN1bGF0ZShmbGFnKTtcclxuICAgICAgICB0aGlzLnN0YXRlTWFwLnNldChmbGFnLCBzdGF0dXMpO1xyXG4gICAgICAgIHN0YXR1cyA9IHN0YXR1cyB8fCB0aGlzLmdldFN0YXR1cyhmbGFnKVxyXG4gICAgICAgIC8v5pu05paw6KeG5Zu+XHJcbiAgICAgICAgdGhpcy5zZXRSZWRUaXAoZmxhZywgc3RhdHVzKTtcclxuICAgICAgICAvL+mAmuefpeeItuiKgueCuVxyXG4gICAgICAgIHRoaXMuZXZlbnQoZmxhZywgc3RhdHVzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKirph43mlrDorqHnrpcgKi9cclxuICAgIHByaXZhdGUgY2FsY3VsYXRlKGZsYWc6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5yZWdpc3Rlck1hcC5oYXMoZmxhZykpIHtcclxuICAgICAgICAgICAgbGV0IFtmbiwgY2FsbGVyXSA9IHRoaXMucmVnaXN0ZXJNYXAuZ2V0KGZsYWcpO1xyXG4gICAgICAgICAgICBsZXQgcmVzID0gZm4uY2FsbChjYWxsZXIpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLnN0YXRlTWFwLnNldChmbGFnLCByZXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybihg57qi54K56ZKp5a2QJHtmbGFnfeacqua3u+WKoOWkhOeQhuWHveaVsGApO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFJlZFRpcEJhc2UgZnJvbSBcIi4vUmVkVGlwQmFzZVwiO1xyXG5pbXBvcnQge3JlZDEscmVkMn0gZnJvbSBcIi4vUmVkVGlwVGVzdFwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlZFRpcE1ncntcclxuICAgIHByaXZhdGUgcmVkQXJyYXk6UmVkVGlwQmFzZVtdID0gW11cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0KCk6dm9pZHtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyKCk7XHJcbiAgICAgICAgZm9yKGxldCBpIG9mIHRoaXMucmVkQXJyYXkpe1xyXG4gICAgICAgICAgICBpLl9pbml0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVnaXN0ZXIoKTp2b2lke1xyXG4gICAgICAgIHRoaXMucmVkQXJyYXkgPSBbXHJcbiAgICAgICAgICAgIHJlZDEuaW5zLFxyXG4gICAgICAgICAgICByZWQyLmlucyxcclxuICAgICAgICBdXHJcblxyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCB7IHVpIH0gZnJvbSBcIi4uL3VpL2xheWFNYXhVSVwiO1xyXG5pbXBvcnQgSVZpZXcgZnJvbSBcIi4uL3ZpZXcvYmFzZS9JVmlld1wiO1xyXG5pbXBvcnQgUmVkVGlwQmFzZSBmcm9tIFwiLi9SZWRUaXBCYXNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWRUaXBUZXN0IGV4dGVuZHMgdWkudGVzdC5WaWV3VGVzdFVJIGltcGxlbWVudHMgSVZpZXd7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5sb29wKClcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCk6dm9pZHtcclxuICAgICAgICBsZXQgaW1nID0gbmV3IExheWEuSW1hZ2U7XHJcbiAgICAgICAgaW1nLnNraW4gPSBcImNvbXAvaW1hZ2UucG5nXCJcclxuICAgICAgICB0aGlzLmFkZENoaWxkKGltZylcclxuICAgIH1cclxuXHJcblxyXG4gICAgY3JlYXRlVmlldyh2aWV3OmFueSl7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlVmlldyh2aWV3KVxyXG4gICAgICAgIHJlZDEuaW5zLmJpbmRSZWQoXCJBMVwiLHRoaXMuQTEpXHJcbiAgICAgICAgcmVkMS5pbnMuYmluZFJlZChcIkEyXCIsdGhpcy5BMilcclxuICAgICAgICByZWQxLmlucy5iaW5kUmVkKFwiQTNcIix0aGlzLkEzKVxyXG4gICAgICAgIHJlZDIuaW5zLmJpbmRSZWQoXCJCMVwiLHRoaXMuQjEpXHJcbiAgICAgICAgcmVkMi5pbnMuYmluZFJlZChcIkIyXCIsdGhpcy5CMilcclxuICAgIH1cclxuXHJcbiAgICBsb29wKCl7XHJcblxyXG4gICAgICAgIExheWEudGltZXIubG9vcCg1MDAsdGhpcywoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHJlZDEuaW5zLmVtaXQoXCJBMlwiKVxyXG4gICAgICAgICAgICAvLyByZWQxLmlucy5lbWl0KFwiQTFcIilcclxuICAgICAgICAgICAgLy8gcmVkMS5pbnMuZW1pdChcIkEzXCIpXHJcbiAgICAgICAgICAgIC8vIHJlZDIuaW5zLmVtaXQoXCJCMVwiKVxyXG4gICAgICAgICAgICAvLyByZWQyLmlucy5lbWl0KFwiQjJcIilcclxuICAgICAgICAgICAgVGVzdE1EbC5pbnMuZXZlbnQoXCJVUERBVEVfSU5GT1wiKVxyXG4gICAgICAgICAgICBUZXN0TURsLmlucy5ldmVudChcIlVQREFURV9MVlwiKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyByZWQxIGV4dGVuZHMgUmVkVGlwQmFzZXtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKTp2b2lke1xyXG4gICAgICAgIC8v57uR5a6aaGFuZGxl77yM6Kem5Y+R54K5XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcihcIkEyXCIsdGhpcy5BMix0aGlzKShcIlVQREFURV9JTkZPXCIsVGVzdE1EbC5pbnMpKFwiVVBEQVRFX0xWXCIsVGVzdE1EbC5pbnMpXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcihcIkEzXCIsdGhpcy5BMyx0aGlzKShcIlVQREFURV9MVlwiLFRlc3RNRGwuaW5zKVxyXG4gICAgICAgIC8v5p6E5bu65YWz5b+D5YiX6KGoXHJcbiAgICAgICAgdGhpcy50YWtlY2FyZShyZWQyLmlucykuYmluZE5hbWUoXCJBMlwiKS5jYXJlKFwiQjFcIixcIkIyXCIpXHJcbiAgICAgICAgdGhpcy50YWtlY2FyZShyZWQyLmlucykuYmluZE5hbWUoXCJBMVwiKS5jYXJlKFwiQjFcIixcIkIyXCIpXHJcbiAgICB9XHJcbiAgICBBMSgpe1xyXG4gICAgICAgIGxldCBhID0gMDtcclxuICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCAxMDAwMDtpKyspe1xyXG4gICAgICAgICAgICBhKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpID4gMC41O1xyXG4gICAgfVxyXG5cclxuICAgIEEyKCl7XHJcbiAgICAgICAgbGV0IGEgPSAwO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7aSA8IDEwMDAwO2krKyl7XHJcbiAgICAgICAgICAgIGErKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgPiAwLjU7XHJcbiAgICB9XHJcblxyXG4gICAgQTMoKXtcclxuICAgICAgICBsZXQgYSA9IDA7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDtpIDwgMTAwMDA7aSsrKXtcclxuICAgICAgICAgICAgYSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSA+IDAuNTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIHJlZDIgZXh0ZW5kcyBSZWRUaXBCYXNle1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpXHJcblxyXG4gICAgfVxyXG4gICAgaW5pdCgpe1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXIoXCJCMVwiLHRoaXMuQjEsdGhpcykoXCJVUERBVEVfTFZcIixUZXN0TURsLmlucylcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyKFwiQjJcIix0aGlzLkIyLHRoaXMpKFwiVVBEQVRFX0lORk9cIixUZXN0TURsLmlucylcclxuICAgIH1cclxuICAgIEIxKCl7XHJcbiAgICAgICAgbGV0IGEgPSAwO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7aSA8IDEwMDAwO2krKyl7XHJcbiAgICAgICAgICAgIGErKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgPiAwLjU7XHJcbiAgICB9XHJcbiAgICBCMigpe1xyXG4gICAgICAgIGxldCBhID0gMDtcclxuICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCAxMDAwMDtpKyspe1xyXG4gICAgICAgICAgICBhKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpID4gMC41O1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBUZXN0TURsIGV4dGVuZHMgTGF5YS5FdmVudERpc3BhdGNoZXJ7XHJcbiAgICBzdGF0aWMgZ2V0IGlucygpOlRlc3RNRGx7XHJcbiAgICAgICAgcmV0dXJuIFRlc3RNRGxbXCJfaW5zXCJdIHx8IChUZXN0TURsW1wiX2luc1wiXSA9IG5ldyBUZXN0TURsKVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG4iLCIvKipcclxuICog5a2Q5by56ISa5pys77yM5a6e546w5a2Q5by56aOe6KGM6YC76L6R5Y+K5a+56LGh5rGg5Zue5pS25py65Yi2XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWxsZXQgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8v6K6+572u5Yid5aeL6YCf5bqmXHJcbiAgICAgICAgdmFyIHJpZzogTGF5YS5SaWdpZEJvZHkgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XHJcbiAgICAgICAgcmlnLnNldFZlbG9jaXR5KHsgeDogMCwgeTogLTEwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVHJpZ2dlckVudGVyKG90aGVyOiBhbnksIHNlbGY6IGFueSwgY29udGFjdDogYW55KTogdm9pZCB7XHJcbiAgICAgICAgLy/lpoLmnpzooqvnorDliLDvvIzliJnnp7vpmaTlrZDlvLlcclxuICAgICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICAvL+WmguaenOWtkOW8uei2heWHuuWxj+W5le+8jOWImeenu+mZpOWtkOW8uVxyXG4gICAgICAgIGlmICgodGhpcy5vd25lciBhcyBMYXlhLlNwcml0ZSkueSA8IC0xMCkge1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8v5a2Q5by56KKr56e76Zmk5pe277yM5Zue5pS25a2Q5by55Yiw5a+56LGh5rGg77yM5pa55L6/5LiL5qyh5aSN55So77yM5YeP5bCR5a+56LGh5Yib5bu65byA6ZSAXHJcbiAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJidWxsZXRcIiwgdGhpcy5vd25lcik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgR2FtZVVJIGZyb20gXCIuL0dhbWVVSVwiO1xyXG4vKipcclxuICog5o6J6JC955uS5a2Q6ISa5pys77yM5a6e546w55uS5a2Q56Kw5pKe5Y+K5Zue5pS25rWB56iLXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEcm9wQm94IGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgLyoq55uS5a2Q562J57qnICovXHJcbiAgICBsZXZlbDogbnVtYmVyID0gMTtcclxuICAgIC8qKuetiee6p+aWh+acrOWvueixoeW8leeUqCAqL1xyXG4gICAgcHJpdmF0ZSBfdGV4dDogTGF5YS5UZXh0O1xyXG4gICAgLyoq5Yia5L2T5a+56LGh5byV55SoICovXHJcbiAgICBwcml2YXRlIF9yaWc6IExheWEuUmlnaWRCb2R5XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8qKuiOt+W+l+e7hOS7tuW8leeUqO+8jOmBv+WFjeavj+asoeiOt+WPlue7hOS7tuW4puadpeS4jeW/heimgeeahOafpeivouW8gOmUgCAqL1xyXG4gICAgICAgIHRoaXMuX3JpZyA9IHRoaXMub3duZXIuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRCb2R5KTtcclxuICAgICAgICB0aGlzLmxldmVsID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNSkgKyAxO1xyXG4gICAgICAgIHRoaXMuX3RleHQgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwibGV2ZWxUeHRcIikgYXMgTGF5YS5UZXh0O1xyXG4gICAgICAgIHRoaXMuX3RleHQudGV4dCA9IHRoaXMubGV2ZWwgKyBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIC8v6K6p5oyB57ut55uS5a2Q5peL6L2sXHJcbiAgICAgICAgKHRoaXMub3duZXIgYXMgTGF5YS5TcHJpdGUpLnJvdGF0aW9uKys7XHJcbiAgICB9XHJcblxyXG4gICAgb25UcmlnZ2VyRW50ZXIob3RoZXI6IGFueSwgc2VsZjogYW55LCBjb250YWN0OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB2YXIgb3duZXI6IExheWEuU3ByaXRlID0gdGhpcy5vd25lciBhcyBMYXlhLlNwcml0ZTtcclxuICAgICAgICBpZiAob3RoZXIubGFiZWwgPT09IFwiYnV0dGxlXCIpIHtcclxuICAgICAgICAgICAgLy/norDmkp7liLDlrZDlvLnlkI7vvIzlop7liqDnp6/liIbvvIzmkq3mlL7lo7Dpn7PnibnmlYhcclxuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWwgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsLS07XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0LmNoYW5nZVRleHQodGhpcy5sZXZlbCArIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgb3duZXIuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRCb2R5KS5zZXRWZWxvY2l0eSh7IHg6IDAsIHk6IC0xMCB9KTtcclxuICAgICAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZChcInNvdW5kL2hpdC53YXZcIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3duZXIucGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVmZmVjdDogTGF5YS5BbmltYXRpb24gPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiZWZmZWN0XCIsIHRoaXMuY3JlYXRlRWZmZWN0LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3QucG9zKG93bmVyLngsIG93bmVyLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIG93bmVyLnBhcmVudC5hZGRDaGlsZChlZmZlY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdC5wbGF5KDAsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoXCJzb3VuZC9kZXN0cm95LndhdlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBHYW1lVUkuaW5zdGFuY2UuYWRkU2NvcmUoMSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvdGhlci5sYWJlbCA9PT0gXCJncm91bmRcIikge1xyXG4gICAgICAgICAgICAvL+WPquimgeacieS4gOS4quebkuWtkOeisOWIsOWcsOadv++8jOWImeWBnOatoua4uOaIj1xyXG4gICAgICAgICAgICBvd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgIEdhbWVVSS5pbnN0YW5jZS5zdG9wR2FtZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKirkvb/nlKjlr7nosaHmsaDliJvlu7rniIbngrjliqjnlLsgKi9cclxuICAgIGNyZWF0ZUVmZmVjdCgpOiBMYXlhLkFuaW1hdGlvbiB7XHJcbiAgICAgICAgbGV0IGFuaTogTGF5YS5BbmltYXRpb24gPSBuZXcgTGF5YS5BbmltYXRpb24oKTtcclxuICAgICAgICBhbmkubG9hZEFuaW1hdGlvbihcInRlc3QvVGVzdEFuaS5hbmlcIik7XHJcbiAgICAgICAgYW5pLm9uKExheWEuRXZlbnQuQ09NUExFVEUsIG51bGwsIHJlY292ZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlY292ZXIoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGFuaS5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwiZWZmZWN0XCIsIGFuaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhbmk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8v55uS5a2Q6KKr56e76Zmk5pe277yM5Zue5pS255uS5a2Q5Yiw5a+56LGh5rGg77yM5pa55L6/5LiL5qyh5aSN55So77yM5YeP5bCR5a+56LGh5Yib5bu65byA6ZSA44CCXHJcbiAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJkcm9wQm94XCIsIHRoaXMub3duZXIpO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCBEcm9wQm94IGZyb20gXCIuL0Ryb3BCb3hcIjtcclxuaW1wb3J0IEJ1bGxldCBmcm9tIFwiLi9CdWxsZXRcIjtcclxuLyoqXHJcbiAqIOa4uOaIj+aOp+WItuiEmuacrOOAguWumuS5ieS6huWHoOS4qmRyb3BCb3jvvIxidWxsZXTvvIxjcmVhdGVCb3hJbnRlcnZhbOetieWPmOmHj++8jOiDveWkn+WcqElEReaYvuekuuWPiuiuvue9ruivpeWPmOmHj1xyXG4gKiDmm7TlpJrnsbvlnovlrprkuYnvvIzor7flj4LogIPlrpjmlrnmlofmoaNcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb250cm9sIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmRyb3BCb3gsdGlwczpcIuaOieiQveWuueWZqOmihOWItuS9k+WvueixoVwiLHR5cGU6UHJlZmFifSovXHJcbiAgICBkcm9wQm94OiBMYXlhLlByZWZhYjtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpidWxsZXQsdGlwczpcIuWtkOW8uemihOWItuS9k+WvueixoVwiLHR5cGU6UHJlZmFifSovXHJcbiAgICBidWxsZXQ6IExheWEuUHJlZmFiO1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmNyZWF0ZUJveEludGVydmFsLHRpcHM6XCLpl7TpmpTlpJrlsJHmr6vnp5LliJvlu7rkuIDkuKrkuIvot4znmoTlrrnlmahcIix0eXBlOmludCxkZWZhdWx0OjEwMDB9Ki9cclxuICAgIGNyZWF0ZUJveEludGVydmFsOiBudW1iZXIgPSAxMDAwO1xyXG4gICAgLyoq5byA5aeL5pe26Ze0Ki9cclxuICAgIHByaXZhdGUgX3RpbWU6IG51bWJlciA9IDA7XHJcbiAgICAvKirmmK/lkKblt7Lnu4/lvIDlp4vmuLjmiI8gKi9cclxuICAgIHByaXZhdGUgX3N0YXJ0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIC8qKuWtkOW8ueWSjOebkuWtkOaJgOWcqOeahOWuueWZqOWvueixoSAqL1xyXG4gICAgcHJpdmF0ZSBfZ2FtZUJveDogTGF5YS5TcHJpdGU7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl90aW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB0aGlzLl9nYW1lQm94ID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImdhbWVCb3hcIikgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVCb3goKTtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICAvL+avj+mXtOmalOS4gOauteaXtumXtOWIm+W7uuS4gOS4quebkuWtkFxyXG4gICAgICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGlmIChub3cgLSB0aGlzLl90aW1lID4gdGhpcy5jcmVhdGVCb3hJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lID0gbm93O1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJveCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVCb3goKTogdm9pZCB7XHJcbiAgICAgICAgLy/kvb/nlKjlr7nosaHmsaDliJvlu7rnm5LlrZBcclxuICAgICAgICBsZXQgYm94OiBMYXlhLlNwcml0ZSA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJkcm9wQm94XCIsIHRoaXMuZHJvcEJveC5jcmVhdGUsIHRoaXMuZHJvcEJveCk7XHJcbiAgICAgICAgYm94LnBvcyhNYXRoLnJhbmRvbSgpICogKExheWEuc3RhZ2Uud2lkdGggLSAxMDApLCAtMTAwKTtcclxuICAgICAgICB0aGlzLl9nYW1lQm94LmFkZENoaWxkKGJveCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25TdGFnZUNsaWNrKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAvL+WBnOatouS6i+S7tuWGkuazoe+8jOaPkOmrmOaAp+iDve+8jOW9k+eEtuS5n+WPr+S7peS4jeimgVxyXG4gICAgICAgIC8vIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgLy/oiJ7lj7Dooqvngrnlh7vlkI7vvIzkvb/nlKjlr7nosaHmsaDliJvlu7rlrZDlvLlcclxuICAgICAgICBsZXQgZmx5ZXI6IExheWEuU3ByaXRlID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bihcImJ1bGxldFwiLCB0aGlzLmJ1bGxldC5jcmVhdGUsIHRoaXMuYnVsbGV0KTtcclxuICAgICAgICBmbHllci5wb3MoTGF5YS5zdGFnZS5tb3VzZVgsIExheWEuc3RhZ2UubW91c2VZKTtcclxuICAgICAgICB0aGlzLl9nYW1lQm94LmFkZENoaWxkKGZseWVyKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImNsaWNrXCIpXHJcbiAgICB9XHJcblxyXG4gICAgLyoq5byA5aeL5ri45oiP77yM6YCa6L+H5r+A5rS75pys6ISa5pys5pa55byP5byA5aeL5ri45oiPKi9cclxuICAgIHN0YXJ0R2FtZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3N0YXJ0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKue7k+adn+a4uOaIj++8jOmAmui/h+mdnua/gOa0u+acrOiEmuacrOWBnOatoua4uOaIjyAqL1xyXG4gICAgc3RvcEdhbWUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQm94SW50ZXJ2YWwgPSAxMDAwO1xyXG4gICAgICAgIHRoaXMuX2dhbWVCb3gucmVtb3ZlQ2hpbGRyZW4oKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IHVpIH0gZnJvbSBcIi4vLi4vdWkvbGF5YU1heFVJXCI7XHJcbmltcG9ydCBHYW1lQ29udHJvbCBmcm9tIFwiLi9HYW1lQ29udHJvbFwiXHJcbi8qKlxyXG4gKiDmnKznpLrkvovph4fnlKjpnZ7ohJrmnKznmoTmlrnlvI/lrp7njrDvvIzogIzkvb/nlKjnu6fmib/pobXpnaLln7rnsbvvvIzlrp7njrDpobXpnaLpgLvovpHjgILlnKhJREXph4zpnaLorr7nva7lnLrmma/nmoRSdW50aW1l5bGe5oCn5Y2z5Y+v5ZKM5Zy65pmv6L+b6KGM5YWz6IGUXHJcbiAqIOebuOavlOiEmuacrOaWueW8j++8jOe7p+aJv+W8j+mhtemdouexu++8jOWPr+S7peebtOaOpeS9v+eUqOmhtemdouWumuS5ieeahOWxnuaAp++8iOmAmui/h0lEReWGhXZhcuWxnuaAp+WumuS5ie+8ie+8jOavlOWmgnRoaXMudGlwTGJsbO+8jHRoaXMuc2NvcmVMYmzvvIzlhbfmnInku6PnoIHmj5DnpLrmlYjmnpxcclxuICog5bu66K6u77ya5aaC5p6c5piv6aG16Z2i57qn55qE6YC76L6R77yM6ZyA6KaB6aKR57mB6K6/6Zeu6aG16Z2i5YaF5aSa5Liq5YWD57Sg77yM5L2/55So57un5om/5byP5YaZ5rOV77yM5aaC5p6c5piv54us56uL5bCP5qih5Z2X77yM5Yqf6IO95Y2V5LiA77yM5bu66K6u55So6ISa5pys5pa55byP5a6e546w77yM5q+U5aaC5a2Q5by56ISa5pys44CCXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lVUkgZXh0ZW5kcyB1aS50ZXN0LlRlc3RTY2VuZVVJIHtcclxuICAgIC8qKuiuvue9ruWNleS+i+eahOW8leeUqOaWueW8j++8jOaWueS+v+WFtuS7luexu+W8leeUqCAqL1xyXG4gICAgc3RhdGljIGluc3RhbmNlOiBHYW1lVUk7XHJcbiAgICAvKirlvZPliY3muLjmiI/np6/liIblrZfmrrUgKi9cclxuICAgIHByaXZhdGUgX3Njb3JlOiBudW1iZXI7XHJcbiAgICAvKirmuLjmiI/mjqfliLbohJrmnKzlvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmgKfog73lvIDplIAgKi9cclxuICAgIHByaXZhdGUgX2NvbnRyb2w6IEdhbWVDb250cm9sO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgR2FtZVVJLmluc3RhbmNlID0gdGhpcztcclxuICAgICAgICAvL+WFs+mXreWkmueCueinpuaOp++8jOWQpuWImeWwseaXoOaVjOS6hlxyXG4gICAgICAgIExheWEuTW91c2VNYW5hZ2VyLm11bHRpVG91Y2hFbmFibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fY29udHJvbCA9IHRoaXMuZ2V0Q29tcG9uZW50KEdhbWVDb250cm9sKTtcclxuICAgICAgICAvL+eCueWHu+aPkOekuuaWh+Wtl++8jOW8gOWni+a4uOaIj1xyXG4gICAgICAgIHRoaXMudGlwTGJsbC5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uVGlwQ2xpY2spO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVGlwQ2xpY2soZTogTGF5YS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGlwTGJsbC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fc2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVMYmwudGV4dCA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5fY29udHJvbC5zdGFydEdhbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKirlop7liqDliIbmlbAgKi9cclxuICAgIGFkZFNjb3JlKHZhbHVlOiBudW1iZXIgPSAxKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fc2NvcmUgKz0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5zY29yZUxibC5jaGFuZ2VUZXh0KFwi5YiG5pWw77yaXCIgKyB0aGlzLl9zY29yZSk7XHJcbiAgICAgICAgLy/pmo/nnYDliIbmlbDotorpq5jvvIzpmr7luqblop7lpKdcclxuICAgICAgICBpZiAodGhpcy5fY29udHJvbC5jcmVhdGVCb3hJbnRlcnZhbCA+IDYwMCAmJiB0aGlzLl9zY29yZSAlIDIwID09IDApIHRoaXMuX2NvbnRyb2wuY3JlYXRlQm94SW50ZXJ2YWwgLT0gMjA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5YGc5q2i5ri45oiPICovXHJcbiAgICBzdG9wR2FtZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRpcExibGwudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy50aXBMYmxsLnRleHQgPSBcIua4uOaIj+e7k+adn+S6hu+8jOeCueWHu+Wxj+W5lemHjeaWsOW8gOWni1wiO1xyXG4gICAgICAgIHRoaXMuX2NvbnRyb2wuc3RvcEdhbWUoKTtcclxuICAgIH1cclxufSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xuaW1wb3J0IFZpZXc9TGF5YS5WaWV3O1xyXG5pbXBvcnQgRGlhbG9nPUxheWEuRGlhbG9nO1xyXG5pbXBvcnQgU2NlbmU9TGF5YS5TY2VuZTtcbmV4cG9ydCBtb2R1bGUgdWkudGVzdCB7XHJcbiAgICBleHBvcnQgY2xhc3MgQXN0YXJVSSBleHRlbmRzIExheWEuVmlldyB7XHJcblx0XHRwdWJsaWMgY29udGFpbmVyOkxheWEuQm94O1xuXHRcdHB1YmxpYyBzdGFyQnRuOkxheWEuQnV0dG9uO1xuXHRcdHB1YmxpYyBlbmRCdG46TGF5YS5CdXR0b247XG5cdFx0cHVibGljIHNlYXJjaEJ0bjpMYXlhLkJ1dHRvbjtcbiAgICAgICAgcHVibGljIHN0YXRpYyAgdWlWaWV3OmFueSA9e1widHlwZVwiOlwiVmlld1wiLFwicHJvcHNcIjp7XCJ3aWR0aFwiOjExMzYsXCJoZWlnaHRcIjo2NDB9LFwiY29tcElkXCI6MixcImNoaWxkXCI6W3tcInR5cGVcIjpcIkJveFwiLFwicHJvcHNcIjp7XCJ2YXJcIjpcImNvbnRhaW5lclwiLFwidG9wXCI6MCxcInJpZ2h0XCI6MCxcImxlZnRcIjowLFwiYm90dG9tXCI6MH0sXCJjb21wSWRcIjo0fSx7XCJ0eXBlXCI6XCJCdXR0b25cIixcInByb3BzXCI6e1wieVwiOjcwLFwieFwiOjM1MCxcInZhclwiOlwic3RhckJ0blwiLFwic2tpblwiOlwiY29tcC9idXR0b24ucG5nXCIsXCJsYWJlbFwiOlwic3RhcnRcIn0sXCJjb21wSWRcIjo2fSx7XCJ0eXBlXCI6XCJCdXR0b25cIixcInByb3BzXCI6e1wieVwiOjcwLFwieFwiOjQ4MixcInZhclwiOlwiZW5kQnRuXCIsXCJza2luXCI6XCJjb21wL2J1dHRvbi5wbmdcIixcImxhYmVsXCI6XCJlbmRCdG5cIn0sXCJjb21wSWRcIjo3fSx7XCJ0eXBlXCI6XCJCdXR0b25cIixcInByb3BzXCI6e1wieVwiOjcwLFwieFwiOjYwMyxcInZhclwiOlwic2VhcmNoQnRuXCIsXCJza2luXCI6XCJjb21wL2J1dHRvbi5wbmdcIixcImxhYmVsXCI6XCJzZWFyY2hcIn0sXCJjb21wSWRcIjo4fV0sXCJsb2FkTGlzdFwiOltcImNvbXAvYnV0dG9uLnBuZ1wiXSxcImxvYWRMaXN0M0RcIjpbXX07XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVZpZXcoQXN0YXJVSS51aVZpZXcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGV4cG9ydCBjbGFzcyBUZXN0U2NlbmVVSSBleHRlbmRzIExheWEuU2NlbmUge1xyXG5cdFx0cHVibGljIHNjb3JlTGJsOkxheWEuTGFiZWw7XG5cdFx0cHVibGljIHRpcExibGw6TGF5YS5MYWJlbDtcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcInRlc3QvVGVzdFNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGV4cG9ydCBjbGFzcyBWaWV3VGVzdFVJIGV4dGVuZHMgTGF5YS5WaWV3IHtcclxuXHRcdHB1YmxpYyBBMTpMYXlhLlJhZGlvO1xuXHRcdHB1YmxpYyBBMjpMYXlhLlJhZGlvO1xuXHRcdHB1YmxpYyBBMzpMYXlhLlJhZGlvO1xuXHRcdHB1YmxpYyBCMTpMYXlhLlJhZGlvO1xuXHRcdHB1YmxpYyBCMjpMYXlhLlJhZGlvO1xuICAgICAgICBwdWJsaWMgc3RhdGljICB1aVZpZXc6YW55ID17XCJ0eXBlXCI6XCJWaWV3XCIsXCJwcm9wc1wiOntcIndpZHRoXCI6MTEzNixcImhlaWdodFwiOjY0MH0sXCJjb21wSWRcIjoyLFwiY2hpbGRcIjpbe1widHlwZVwiOlwiUmFkaW9cIixcInByb3BzXCI6e1wieVwiOjEyNixcInhcIjoxNzAsXCJ2YXJcIjpcIkExXCIsXCJza2luXCI6XCJjb21wL3JhZGlvLnBuZ1wiLFwibGFiZWxcIjpcIkExXCJ9LFwiY29tcElkXCI6OH0se1widHlwZVwiOlwiUmFkaW9cIixcInByb3BzXCI6e1wieVwiOjE1NCxcInhcIjoxNzAsXCJ2YXJcIjpcIkEyXCIsXCJza2luXCI6XCJjb21wL3JhZGlvLnBuZ1wiLFwibGFiZWxcIjpcIkEyXCJ9LFwiY29tcElkXCI6OX0se1widHlwZVwiOlwiUmFkaW9cIixcInByb3BzXCI6e1wieVwiOjE5MCxcInhcIjoxNzAsXCJ2YXJcIjpcIkEzXCIsXCJza2luXCI6XCJjb21wL3JhZGlvLnBuZ1wiLFwibGFiZWxcIjpcIkEzXCJ9LFwiY29tcElkXCI6MTB9LHtcInR5cGVcIjpcIlJhZGlvXCIsXCJwcm9wc1wiOntcInlcIjoxMjYsXCJ4XCI6MjMzLFwidmFyXCI6XCJCMVwiLFwic2tpblwiOlwiY29tcC9yYWRpby5wbmdcIixcImxhYmVsXCI6XCJCMVwifSxcImNvbXBJZFwiOjExfSx7XCJ0eXBlXCI6XCJSYWRpb1wiLFwicHJvcHNcIjp7XCJ5XCI6MTU0LFwieFwiOjIzMyxcInZhclwiOlwiQjJcIixcInNraW5cIjpcImNvbXAvcmFkaW8ucG5nXCIsXCJsYWJlbFwiOlwiQjJcIn0sXCJjb21wSWRcIjoxM31dLFwibG9hZExpc3RcIjpbXCJjb21wL3JhZGlvLnBuZ1wiXSxcImxvYWRMaXN0M0RcIjpbXX07XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVZpZXcoVmlld1Rlc3RVSS51aVZpZXcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyIiwiZXhwb3J0IGNsYXNzIEFycmF5VXRpbHN7XHJcbiAgICBzdGF0aWMgZmluZDx2PihhcnI6dltdLGNiOihlbGU6dik9PmJvb2xlYW4pOnZ8bnVsbHtcclxuICAgICAgICBmb3IobGV0IGkgb2YgYXJyKXtcclxuICAgICAgICAgICAgaWYoY2IoaSkpIHJldHVybiBpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKirpmaTph40gKi9cclxuICAgIHN0YXRpYyB1bmlxdWUoYXJyOmFueVtdKTphbnlbXXtcclxuICAgICAgICBsZXQgbGVmdDpudW1iZXIgPSAwLHJpZ2h0Om51bWJlciA9IDA7XHJcbiAgICAgICAgd2hpbGUobGVmdCA8IGFyci5sZW5ndGgpe1xyXG4gICAgICAgICAgICByaWdodCA9IGFyci5sYXN0SW5kZXhPZihhcnJbbGVmdF0sbGVmdClcclxuICAgICAgICAgICAgd2hpbGUobGVmdCAhPSByaWdodCl7XHJcbiAgICAgICAgICAgICAgICBhcnIuc3BsaWNlKHJpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHJpZ2h0ID0gYXJyLmxhc3RJbmRleE9mKGFycltsZWZ0XSxsZWZ0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZWZ0Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnI7XHJcbiAgICB9XHJcblxyXG59IiwiXHJcblxyXG5leHBvcnQgY2xhc3MgTWFwU3RydWN0IDxLLCBWPntcclxuICAgIHByaXZhdGUga2V5czogS1tdID0gW11cclxuICAgIHByaXZhdGUgdmFsdWVzOiBWW10gPSBbXVxyXG4gICAgcHJpdmF0ZSBfc2l6ZSA9IDA7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmtleXMubGVuZ3RoID0gdGhpcy52YWx1ZXMubGVuZ3RoID0gdGhpcy5fc2l6ZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlKGtleTogSyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBpZHggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xyXG4gICAgICAgIGlmIChpZHggPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmtleXMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgdGhpcy52YWx1ZXMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgdGhpcy5fc2l6ZS0tO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZm9yRWFjaChjYWxsYmFja2ZuOiAodmFsdWU6IFYsIGtleTogSywgbWFwOiB0aGlzKSA9PiB2b2lkLCB0aGlzQXJnPzogYW55KTogdm9pZCB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMua2V5cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBjYWxsYmFja2ZuKHRoaXMudmFsdWVzW2ldLCB0aGlzLmtleXNbaV0sIHRoaXMpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0KGtleTogSyk6IFYgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGxldCBpZHggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1tpZHhdO1xyXG4gICAgfVxyXG4gICAgaGFzKGtleTogSyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmtleXMuaW5kZXhPZihrZXkpID49IDA7XHJcbiAgICB9XHJcbiAgICBzZXQoa2V5OiBLLCB2YWx1ZTogVik6IHRoaXMge1xyXG4gICAgICAgIGxldCBpZHggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xyXG4gICAgICAgIGlmIChpZHggPj0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlc1tpZHhdID0gdmFsdWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5rZXlzLnB1c2goa2V5KVxyXG4gICAgICAgICAgICB0aGlzLnZhbHVlcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5fc2l6ZSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIGdldCBzaXplKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XHJcbiAgICB9XHJcbn0iLCJcclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFBvb2xCYXNlPFQ+e1xyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyBfaW5zOiBhbnk7XHJcbiAgICBwcm90ZWN0ZWQgcG9vbDogVFtdID0gW11cclxuICAgIHN0YXRpYyBnZXQgaW5zKCkge1xyXG4gICAgICAgIGxldCB0OiBhbnkgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdFtcIl9pbnNcIl0pIHRbXCJfaW5zXCJdID0gbmV3IHQ7XHJcbiAgICAgICAgcmV0dXJuIHRbXCJfaW5zXCJdO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSguLi5hcmdzKTogYW55IHsgfVxyXG4gICAgcmVsZWFzZShub2RlOiBUKTogdm9pZCB7IH1cclxufSIsImltcG9ydCBNYXBOb2RlUG9vbCBmcm9tIFwiLi9pdGVtL01hcE5vZGVQb29sXCI7XHJcbmltcG9ydCBNYXBHcmlkUG9vbCBmcm9tIFwiLi9pdGVtL01hcEdyaWRQb29sXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb29sVXRpbCB7XHJcbiAgICBzdGF0aWMgZ2V0IE1hcE5vZGUoKTogTWFwTm9kZVBvb2wge1xyXG4gICAgICAgIHJldHVybiBNYXBOb2RlUG9vbC5pbnM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBNYXBHcmlkKCk6IE1hcEdyaWRQb29sIHtcclxuICAgICAgICByZXR1cm4gTWFwR3JpZFBvb2wuaW5zO1xyXG4gICAgfVxyXG59XHJcbiIsIlxyXG5pbXBvcnQgTWFwR3JpZCBmcm9tIFwiLi4vLi4vLi4vYmF0dGxlL21hcC92aWV3L01hcEdyaWRcIjtcclxuaW1wb3J0IHsgUG9vbEJhc2UgfSBmcm9tIFwiLi4vUG9vbEJhc2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcEdyaWRQb29sIGV4dGVuZHMgUG9vbEJhc2U8TWFwR3JpZD4ge1xyXG4gICAgY3JlYXRlKHNraW46IHN0cmluZyk6IE1hcEdyaWQge1xyXG4gICAgICAgIGxldCBub2RlID0gdGhpcy5wb29sLnBvcCgpIHx8IG5ldyBNYXBHcmlkO1xyXG4gICAgICAgIG5vZGUuc2tpbiA9IHNraW47XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVsZWFzZShub2RlOiBNYXBHcmlkKTogdm9pZCB7XHJcbiAgICAgICAgbm9kZS5yZWxlYXNlKCk7XHJcbiAgICAgICAgdGhpcy5wb29sLnB1c2gobm9kZSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJTWFwTm9kZSB9IGZyb20gXCIuLi8uLi8uLi9iYXR0bGUvbWFwL0FTdGFyXCI7XHJcbmltcG9ydCBNYXBOb2RlIGZyb20gXCIuLi8uLi8uLi9iYXR0bGUvbWFwL01hcE5vZGVcIjtcclxuaW1wb3J0IHsgUG9vbEJhc2UgfSBmcm9tIFwiLi4vUG9vbEJhc2VcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBOb2RlUG9vbCBleHRlbmRzIFBvb2xCYXNlPE1hcE5vZGU+e1xyXG4gICAgY3JlYXRlKHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IE1hcE5vZGUge1xyXG4gICAgICAgIGxldCBub2RlOiBNYXBOb2RlID0gdGhpcy5wb29sLnBvcCgpIHx8IG5ldyBNYXBOb2RlO1xyXG4gICAgICAgIG5vZGUuc2V0VG8oeCwgeSwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVsZWFzZShub2RlOk1hcE5vZGUpOnZvaWR7XHJcbiAgICAgICAgbm9kZS5yZWxlYXNlKCk7XHJcbiAgICAgICAgdGhpcy5wb29sLnB1c2gobm9kZSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3MSBleHRlbmRzIExheWEuVmlld3tcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIGxldCBsYWIgPSBuZXcgTGF5YS5MYWJlbFxyXG4gICAgICAgIGxhYi50ZXh0ID0gXCJoZWxsb1wiXHJcbiAgICAgICAgbGFiLmNvbG9yID0gXCIjRkYwMDAwXCJcclxuICAgICAgICB0aGlzLmFkZENoaWxkKGxhYik7XHJcbiAgICAgICAgbGV0IGltZyA9IG5ldyBMYXlhLkltYWdlXHJcbiAgICAgICAgaW1nLnNraW4gPSBcImNvbXAvaW1hZ2UucG5nXCIvL1widGVzdC9jMS5wbmdcIlxyXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoaW1nKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVmlldzIgZXh0ZW5kcyBMYXlhLlZpZXd7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgIH1cclxufSIsImltcG9ydCBSZWRUaXBUZXN0IGZyb20gXCIuLi8uLi9yZWRUaXAvUmVkVGlwVGVzdFwiO1xyXG5pbXBvcnQgSVZpZXcgZnJvbSBcIi4vSVZpZXdcIjtcclxuaW1wb3J0IFZpZXcxLCB7IFZpZXcyIH0gZnJvbSBcIi4uL1ZpZXcxXCI7XHJcbmltcG9ydCBBc3RhclRlc3QgZnJvbSBcIi4uLy4uL2JhdHRsZS9tYXAvdGVzdC9Bc3RhclRlc3RcIjtcclxubGV0IGlkOiBudW1iZXIgPSAxO1xyXG5jb25zdCBtYXA6IHsgW2tleTogbnVtYmVyXTogW25ldyAoKSA9PiBJVmlldywgc3RyaW5nW10sIHN0cmluZ1tdLCBwYW5lbExheWVyXSB9ID0ge307XHJcbmNvbnN0IHBhbmVsSW5zdGFuY2VNYXA6IHsgW2lkOiBudW1iZXJdOiBJVmlldyB9ID0ge307XHJcbi8qKlxyXG4gKiBcclxuICogQHBhcmFtIHZpZXcg5rOo5YaM6Z2i5p2/XHJcbiAqIEBwYXJhbSBkZXBlbmR0ZW5jZUF0bGFzIOS+nei1luWbvumbhlxyXG4gKiBAcGFyYW0gZGVwZW5kdGVuY2VDZmdzIOS+nei1lumFjee9rlxyXG4gKiBAcmV0dXJucyDpnaLmnb9pZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyUGFuZWwodmlldzogbmV3ICgpID0+IElWaWV3LCBsYXllcjogcGFuZWxMYXllciwgZGVwZW5kdGVuY2VBdGxhcz86IHN0cmluZ1tdLCBkZXBlbmR0ZW5jZUNmZ3M/OiBzdHJpbmdbXSk6IG51bWJlciB7XHJcbiAgICBsZXQga2V5ID0gaWQrKztcclxuICAgIG1hcFtrZXldID0gW3ZpZXcsIGRlcGVuZHRlbmNlQXRsYXMsIGRlcGVuZHRlbmNlQ2ZncywgbGF5ZXJdO1xyXG4gICAgcmV0dXJuIGtleTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNhY2hlUGFuZWwoaWQ6IG51bWJlciwgcGFuZWw6IElWaWV3KTogdm9pZCB7XHJcbiAgICBwYW5lbEluc3RhbmNlTWFwW2lkXSA9IHBhbmVsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJQYW5lbChpZDpudW1iZXIpOnZvaWR7XHJcbiAgICBkZWxldGUgcGFuZWxJbnN0YW5jZU1hcFtpZF07XHJcbn1cclxuXHJcbi8qKumdouadv+WunuS+iyAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFuZWwoaWQ6IG51bWJlcik6IElWaWV3IHwgbnVsbCB7XHJcbiAgICByZXR1cm4gcGFuZWxJbnN0YW5jZU1hcFtpZF1cclxufVxyXG5cclxuLyoq6Z2i5p2/6YWN572uICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQYW5lbFZvKGlkOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBtYXBbaWRdO1xyXG59XHJcblxyXG5cclxuXHJcbmV4cG9ydCBlbnVtIHBhbmVsTGF5ZXIge1xyXG4gICAgYmFzZSwgbWlkZGxlLCB0b3BcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUGFuZWxSZWdpc3RlciB7XHJcbiAgICBQQU5FTDEgPSByZWdpc3RlclBhbmVsKFJlZFRpcFRlc3QsIHBhbmVsTGF5ZXIuYmFzZSwgW1wicmVzL2F0bGFzL2NvbXAuYXRsYXNcIl0pLFxyXG4gICAgUEFORUwyID0gcmVnaXN0ZXJQYW5lbChWaWV3MSxwYW5lbExheWVyLmJhc2UsW1wicmVzL2F0bGFzL3Rlc3QuYXRsYXNcIl0pLFxyXG4gICAgUEFORUwzID0gcmVnaXN0ZXJQYW5lbChWaWV3MixwYW5lbExheWVyLmJhc2UpLFxyXG4gICAgUEFORUw0ID0gcmVnaXN0ZXJQYW5lbChBc3RhclRlc3QscGFuZWxMYXllci5iYXNlLFtcInJlcy9hdGxhcy9jb21wLmF0bGFzXCJdKVxyXG59XHJcbiIsImltcG9ydCBSZXNvdXJjZU1nciBmcm9tIFwiLi4vLi4vUmVzb3VyY2VNZ3JcIjtcclxuaW1wb3J0IElWaWV3IGZyb20gXCIuL0lWaWV3XCI7XHJcbmltcG9ydCB7IGNhY2hlUGFuZWwsIGdldFBhbmVsLCBnZXRQYW5lbFZvLCBwYW5lbExheWVyLCBQYW5lbFJlZ2lzdGVyLCBjbGVhclBhbmVsIH0gZnJvbSBcIi4vUGFuZWxSZWdpc3RlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlld01nciBleHRlbmRzIExheWEuRXZlbnREaXNwYXRjaGVyIHtcclxuICAgIHByaXZhdGUgcGFuZWxMYXllcjogTGF5YS5Cb3hcclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnM6IFZpZXdNZ3I7XHJcbiAgICBwcml2YXRlIGN1cnJlbnRQYW5lbE1hcDogeyBbbGF5ZXI6IG51bWJlcl06IG51bWJlciB9ID0ge307Ly/lkITkuKrlsYLnuqfmiZPlvIDnmoTpnaLmnb9cclxuICAgIHByaXZhdGUgY2FjaGVQYW5lbDogUGFuZWxSZWdpc3RlcltdID0gW107Ly/nvJPlrZjpnaLmnb9cclxuICAgIHJlYWRvbmx5IG1heENhY2hlTnVtOiBudW1iZXIgPSAwOy8v57yT5a2Y6aG16Z2i5pWw6YePXHJcbiAgICAvLyBwcml2YXRlIGhpc3RvcnlBcnI6IElWaWV3W10gPSBbXTtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZCh0aGlzLnBhbmVsTGF5ZXIgPSBuZXcgTGF5YS5Cb3gpXHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZ2V0IGlucygpOiBWaWV3TWdyIHtcclxuICAgICAgICByZXR1cm4gVmlld01nci5faW5zIHx8IChWaWV3TWdyLl9pbnMgPSBuZXcgVmlld01ncilcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaJk+W8gOmdouadv1xyXG4gICAgICogQHBhcmFtIGlkIOazqOWGjOmdouadv1xyXG4gICAgICogQHBhcmFtIGFyZ3Mg6Z2i5p2/b3BlbuaWueazleiwg+eUqOWPguaVsFxyXG4gICAgICovXHJcbiAgICBvcGVuUGFuZWwoaWQ6IFBhbmVsUmVnaXN0ZXIsIC4uLmFyZ3M6IGFueVtdKSB7XHJcbiAgICAgICAgbGV0IHZvID0gZ2V0UGFuZWxWbyhpZCk7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhbmVsTWFwW3ZvWzNdXSA9PT0gaWQpIHJldHVybjtcclxuICAgICAgICB0aGlzLmNsb3NlUGFuZWwodGhpcy5jdXJyZW50UGFuZWxNYXBbdm9bM11dKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQYW5lbE1hcFt2b1szXV0gPSBpZDtcclxuICAgICAgICBsZXQgZGVwZW5kZW5jZUFycjogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBpZiAodm9bMV0pIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgdXJsIG9mIHZvWzFdKSB7XHJcbiAgICAgICAgICAgICAgICBSZXNvdXJjZU1nci5pbnMuYWRkQXRsYXNSZWZyZW5jZSh1cmwpOy8v5re75Yqg5Zu+6ZuG5byV55So6K6h5pWwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVwZW5kZW5jZUFyciA9IGRlcGVuZGVuY2VBcnIuY29uY2F0KHZvWzFdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdm9bMl0gJiYgKGRlcGVuZGVuY2VBcnIgPSBkZXBlbmRlbmNlQXJyLmNvbmNhdCh2b1syXSkpO1xyXG4gICAgICAgIGlmIChkZXBlbmRlbmNlQXJyLmxlbmd0aClcclxuICAgICAgICAgICAgTGF5YS5sb2FkZXIubG9hZChkZXBlbmRlbmNlQXJyLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMubG9hZENvbXBsZXRlLCBbaWQsIC4uLmFyZ3NdKSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLmxvYWRDb21wbGV0ZShpZCwgLi4uYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlhbPpl63pnaLmnb9cclxuICAgICAqIEBwYXJhbSBpZCDms6jlhozpnaLmnb9pZFxyXG4gICAgICovXHJcbiAgICBjbG9zZVBhbmVsKGlkOiBQYW5lbFJlZ2lzdGVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFpZCkgcmV0dXJuO1xyXG4gICAgICAgIGxldCB2byA9IGdldFBhbmVsVm8oaWQpO1xyXG4gICAgICAgIGlmICghdm8pIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihg5pyq5rOo5YaM6Z2i5p2/OiR7aWR9YClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0aGlzLmNsZWFyUGFuZWxEZXBlbmRlbmNlKGlkKTtcclxuICAgICAgICAvL+WKoOWFpee8k+WtmOmYn+WIl1xyXG4gICAgICAgIGxldCBpZHggPSB0aGlzLmNhY2hlUGFuZWwuaW5kZXhPZihpZCk7XHJcbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FjaGVQYW5lbC5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYWNoZVBhbmVsLnB1c2goaWQpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBhbmVsTWFwW3ZvWzNdXSA9IG51bGw7XHJcbiAgICAgICAgbGV0IHBhbmVsID0gZ2V0UGFuZWwoaWQpO1xyXG4gICAgICAgIGlmIChwYW5lbCkge1xyXG4gICAgICAgICAgICBwYW5lbC5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgIHBhbmVsLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5bCd6K+V6ZSA5q+B6Z2i5p2/XHJcbiAgICAgKiBAcGFyYW0gY291bnQg6ZSA5q+B5pWw6YePXHJcbiAgICAgKi9cclxuICAgIHRyeURlc3RvcnlQYW5lbChjb3VudDogbnVtYmVyID0gMSk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmNhY2hlUGFuZWwubGVuZ3RoIDw9IHRoaXMubWF4Q2FjaGVOdW0pIHJldHVybjtcclxuICAgICAgICBsZXQgcGFuZWxzOiBQYW5lbFJlZ2lzdGVyW10gPSB0aGlzLmNhY2hlUGFuZWwuc3BsaWNlKDAsIHRoaXMuY2FjaGVQYW5lbC5sZW5ndGggLSB0aGlzLm1heENhY2hlTnVtIDw9IGNvdW50ID8gdGhpcy5jYWNoZVBhbmVsLmxlbmd0aCAtIHRoaXMubWF4Q2FjaGVOdW0gOiBjb3VudClcclxuICAgICAgICB3aGlsZSAocGFuZWxzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBsZXQgaWQ6IFBhbmVsUmVnaXN0ZXIgPSBwYW5lbHMucG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJQYW5lbERlcGVuZGVuY2UoaWQpO1xyXG4gICAgICAgICAgICBpZiAoZ2V0UGFuZWwoaWQpKVxyXG4gICAgICAgICAgICAgICAgZ2V0UGFuZWwoaWQpLmRlc3Ryb3kodHJ1ZSk7XHJcbiAgICAgICAgICAgIGNsZWFyUGFuZWwoaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNsZWFyUGFuZWxEZXBlbmRlbmNlKGlkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBsZXQgdm8gPSBnZXRQYW5lbFZvKGlkKTtcclxuICAgICAgICBpZiAodm9bMV0pIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgayBvZiB2b1sxXSkge1xyXG4gICAgICAgICAgICAgICAgUmVzb3VyY2VNZ3IuaW5zLnJlbW92ZUF0bGFzUmVmcmVuY2UoaywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgbG9hZENvbXBsZXRlKGlkOiBudW1iZXIsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHBhbmVsID0gZ2V0UGFuZWwoaWQpO1xyXG4gICAgICAgIGlmICghcGFuZWwpIHtcclxuICAgICAgICAgICAgcGFuZWwgPSBuZXcgKGdldFBhbmVsVm8oaWQpWzBdKTtcclxuICAgICAgICAgICAgY2FjaGVQYW5lbChpZCwgcGFuZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYW5lbC5vcGVuKC4uLmFyZ3MpXHJcbiAgICAgICAgbGV0IHZvID0gZ2V0UGFuZWxWbyhpZCk7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhbmVsTWFwW3ZvWzNdXSA9PT0gaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbExheWVyLmFkZENoaWxkKHBhbmVsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXX0=
