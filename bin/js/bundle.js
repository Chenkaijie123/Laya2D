var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
const GameUI_1 = require("./script/GameUI");
const GameControl_1 = require("./script/GameControl");
const Bullet_1 = require("./script/Bullet");
const DropBox_1 = require("./script/DropBox");
/*
* 游戏初始化配置;
*/
class GameConfig {
    constructor() { }
    static init() {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameUI.ts", GameUI_1.default);
        reg("script/GameControl.ts", GameControl_1.default);
        reg("script/Bullet.ts", Bullet_1.default);
        reg("script/DropBox.ts", DropBox_1.default);
    }
}
GameConfig.width = 640;
GameConfig.height = 1136;
GameConfig.scaleMode = "fixedwidth";
GameConfig.screenMode = "none";
GameConfig.alignV = "top";
GameConfig.alignH = "left";
GameConfig.startScene = "test/ViewTest.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = false;
GameConfig.physicsDebug = false;
GameConfig.exportSceneToJson = true;
exports.default = GameConfig;
GameConfig.init();
},{"./script/Bullet":7,"./script/DropBox":8,"./script/GameControl":9,"./script/GameUI":10}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const GameConfig_1 = require("./GameConfig");
const RedTipMgr_1 = require("./redTip/RedTipMgr");
const ResourceMgr_1 = require("./ResourceMgr");
const PanelRegister_1 = require("./view/base/PanelRegister");
const ViewMgr_1 = require("./view/base/ViewMgr");
class Main {
    constructor() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    onVersionLoaded() {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        // Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
        this.onConfigLoaded();
        ResourceMgr_1.default.ins.startCheck();
    }
    onConfigLoaded() {
        //加载IDE指定的场景
        // GameConfig.startScene && Laya.Scene.open(GameConfig.startScene,true,null,Laya.Handler.create(this,this.openScene));
        ViewMgr_1.default.ins;
        this.createBtn(["btn1", () => { ViewMgr_1.default.ins.openPanel(PanelRegister_1.PanelRegister.PANEL1); }], ["btn2", () => { ViewMgr_1.default.ins.openPanel(PanelRegister_1.PanelRegister.PANEL2); }], ["btn3", () => { ViewMgr_1.default.ins.openPanel(PanelRegister_1.PanelRegister.PANEL3); }]);
        new RedTipMgr_1.default;
    }
    createBtn(...btns) {
        let _x = 0;
        for (let arr of btns) {
            let lab = new Laya.Label;
            lab.color = "#fff";
            lab.text = arr[0];
            Laya.stage.addChild(lab);
            lab.x = _x;
            lab.fontSize = 30;
            _x += 100;
            lab.on(Laya.Event.CLICK, this, arr[1]);
        }
    }
    openScene(sence) {
    }
}
//激活启动类
new Main();
},{"./GameConfig":1,"./ResourceMgr":3,"./redTip/RedTipMgr":5,"./view/base/PanelRegister":15,"./view/base/ViewMgr":16}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ViewMgr_1 = require("./view/base/ViewMgr");
class ResourceMgr {
    constructor() {
        this.clearAtlasQueue = [];
        this.clearQueue = [];
        //大图集引用计数
        this.atlasMap = {};
    }
    static get ins() {
        return ResourceMgr._ins || (ResourceMgr._ins = new ResourceMgr);
    }
    startCheck() {
        Laya.timer.loop(ResourceMgr.checkClearTime, this, this.loopCheckTexture);
        Laya.timer.frameLoop(1, this, this.loopDestroyTexture);
    }
    stopCheck() {
        Laya.timer.clear(this, this.loopCheckTexture);
        Laya.timer.clear(this, this.loopDestroyTexture);
    }
    /**
     * 检测图片资源，如果引用计数为0则添加到销毁队列
     */
    loopCheckTexture() {
        if (this.clearQueue.length)
            return;
        let temp;
        for (let k in Laya.Loader.loadedMap) {
            temp = Laya.Loader.loadedMap[k];
            if (!temp.bitmap)
                continue;
            if (temp["_referenceCount"] == 0 && temp.bitmap["_referenceCount"] == 0) {
                /**简易判断如果是图集就自动不清理（忽略只有一张图片的图集） */
                if (temp.bitmap.width == temp.width
                    && temp.bitmap.height == temp.height) {
                    //压入销毁队列
                    this.clearQueue.push(temp);
                }
            }
        }
    }
    /**
     * 批量销毁图片
     */
    loopDestroyTexture() {
        ViewMgr_1.default.ins.tryDestoryPanel();
        let idx = 0;
        let texture = this.clearQueue.shift();
        while (texture) {
            /**重新判断是否有被引用，避免等待销毁过程中又被引用造成误删 */
            if (texture.bitmap && texture.bitmap["_referenceCount"] == 0) {
                if (texture.url) {
                    // Laya.loader.clearRes(texture.url);
                    this.clearEngineCache(texture.bitmap);
                    idx++;
                }
            }
            if (idx >= ResourceMgr.frameClearCount)
                break;
            texture = this.clearQueue.shift();
        }
        //清理一个大图集
        this.clearOneAtlas();
    }
    //---------------------------------图集---------------------------
    addAtlasRefrence(url) {
        if (this.atlasMap[url]) {
            this.atlasMap[url] = this.atlasMap[url] + 1;
        }
        else {
            this.atlasMap[url] = 1;
        }
    }
    removeAtlasRefrence(url, autoClear = false) {
        if (!this.atlasMap[url]) {
            console.error("图集引用计数逻辑有问题");
        }
        else {
            this.atlasMap[url] = this.atlasMap[url] - 1;
            if (!this.atlasMap[url] && autoClear) {
                this.pushDestoryAtlasQueue(url);
            }
        }
    }
    /**添加清理队列 */
    pushDestoryAtlasQueue(atlas) {
        if (this.clearAtlasQueue.indexOf(atlas) == -1) {
            this.clearAtlasQueue.push(atlas);
        }
    }
    /**执行清理大图集 */
    clearOneAtlas() {
        if (!this.clearAtlasQueue.length)
            return;
        let url;
        //大图集添加引用计数有可能图集还没加载，如果没有资源表示还没加载
        for (let i = 0, len = this.clearAtlasQueue.length; i < len; i++) {
            if (Laya.loader.getRes(this.clearAtlasQueue[i])) {
                url = this.clearAtlasQueue.splice(i, 1)[0];
                break;
            }
        }
        if (url && !this.atlasMap[url]) {
            delete this.atlasMap[url];
            Laya.loader.clearRes(url);
            url = Laya.URL.formatURL(url.substring(0, url.lastIndexOf(".")) + ".png");
            this.clearEngineCache(Laya.loader.getRes(url));
        }
    }
    /**清理引擎的缓存 (彻底清理)*/
    clearEngineCache(texture) {
        if (texture) {
            Laya.Loader.clearRes(texture.url);
            let resource = Laya.Resource.getResourceByID(texture["id"]);
            resource && resource.destroy();
        }
    }
}
//每帧销毁资源最大数量
ResourceMgr.frameClearCount = 2;
ResourceMgr.checkClearTime = 1000;
exports.default = ResourceMgr;
},{"./view/base/ViewMgr":16}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ArrayUtils_1 = require("../utils/ArrayUtils");
const MapStruct_1 = require("../utils/MapStruct");
/**
 * 红点管理
 * 分离显示和数据，每个节点都有一个状态，可以把红点实例与任意节点绑定/解绑
 * 节点可以绑定handle或者通过关系其他节点实现更新，更新是自动的，同时如果有绑定实例，实例的状态也会自动更新
 *
 */
class RedTipBase extends Laya.EventDispatcher {
    constructor() {
        super(...arguments);
        // private tempName:string;
        /**关心列表 */
        this.careMap = new MapStruct_1.MapStruct;
        /**红点状态缓存 */
        this.stateMap = new MapStruct_1.MapStruct;
        /**绑定红点实例 */
        this.bindRedTip = new MapStruct_1.MapStruct;
        /**节点与handle映射 */
        this.registerMap = new MapStruct_1.MapStruct;
    }
    static get ins() {
        let s = this;
        return s["_ins_"] || (s["_ins_"] = new s);
    }
    _init() {
        this.init();
    }
    init() {
        throw new Error("在init方法中绑定触发点或者关系节点");
    }
    /**
     * 注册节点更新handle,没注册也不影响，可以只关心其他节点，节点的创建是任意的
     * @param name
     * @param call
     * @param caller
     */
    register(name, fn, caller) {
        this.registerMap.set(name, [fn, caller]);
        return this.bindHandle.bind(this, name);
    }
    /**
     * 绑定外部触发点，比如游戏模块数据层更新数据，绑定红点触发，在调用完register后面直接调用
     */
    bindHandle(name, eventName, dispatcher) {
        dispatcher.on(eventName, this, this.emit, [name]);
        return this.bindHandle.bind(this, name);
    }
    /**
     * 绑定关心节点
     * @param t
     * @returns
     */
    takecare(t) {
        this.temp = t;
        return this;
    }
    /**
     * 绑定本红点管理器的红点节点
     */
    bindName(...flags) {
        this.tempTarget = flags;
        return this;
    }
    /**
     * 关心节点的红点节点名
     */
    care(...flags) {
        //为关系节点添加改变触发handle
        for (let f of flags) {
            this.temp.on(f, this, this.childrenChange, [this.tempTarget]);
        }
        for (let k of this.tempTarget) {
            let ls = this.careMap.get(k);
            if (ls) {
                let target = ArrayUtils_1.ArrayUtils.find(ls, (v) => {
                    return v[0] == this.temp;
                });
                if (target) {
                    target[1] = ArrayUtils_1.ArrayUtils.unique(target[1].concat(flags));
                }
                else {
                    ls.push([this.temp, flags]);
                }
            }
            else {
                this.careMap.set(k, [[this.temp, flags]]);
            }
        }
    }
    /**
     * 触发红点计算
     * @param flag
     */
    emit(flag) {
        this.change(flag);
    }
    /**
     * 为红点绑定执行handle
     * @param name 红点名
     * @param redTip 红点实例
     */
    bindRed(name, redTip) {
        let ls = this.bindRedTip.get(name);
        if (!ls) {
            this.bindRedTip.set(name, [redTip]);
        }
        else {
            if (ls.indexOf(redTip) == -1) {
                ls.push(redTip);
            }
        }
        redTip.visible = this.getStatus(name);
    }
    /**
     * 解绑红点，只是解绑红点显示，数据层仍会计算
     * @param name
     * @param redTip
     */
    unBindRed(name, redTip) {
        let ls = this.bindRedTip.get(name);
        if (ls) {
            ls.splice(ls.indexOf(redTip), 1);
        }
    }
    /**
     * 获取红点节点状态
     */
    getStatus(flag) {
        let res = !!this.stateMap.get(flag);
        if (res)
            return true;
        let map = this.careMap.get(flag);
        if (map) {
            for (let t of map) {
                for (let k of t[1]) {
                    if (t[0].getStatus(k))
                        return true;
                }
            }
        }
        return false;
    }
    setRedTip(flag, state) {
        let ls = this.bindRedTip.get(flag);
        if (ls) {
            for (let i of ls) {
                i.visible = state;
            }
        }
    }
    /**子节点状态改变，不会触发新计算，拿缓存 */
    childrenChange(targerFlags, status) {
        let value = status;
        for (let k of targerFlags) {
            status = value || this.getStatus(k);
            //设置红点实例
            this.setRedTip(k, status);
            //通知父节点
            this.event(k, value);
        }
    }
    /**本节点状态改变 */
    change(flag) {
        let status = this.calculate(flag);
        this.stateMap.set(flag, status);
        status = status || this.getStatus(flag);
        //更新视图
        this.setRedTip(flag, status);
        //通知父节点
        this.event(flag, status);
    }
    /**重新计算 */
    calculate(flag) {
        if (this.registerMap.has(flag)) {
            let [fn, caller] = this.registerMap.get(flag);
            let res = fn.call(caller);
            // this.stateMap.set(flag, res);
            return res;
        }
        else {
            console.warn(`红点钩子${flag}未添加处理函数`);
            return false;
        }
    }
}
exports.default = RedTipBase;
},{"../utils/ArrayUtils":12,"../utils/MapStruct":13}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const RedTipTest_1 = require("./RedTipTest");
class RedTipMgr {
    constructor() {
        this.redArray = [];
        this.init();
    }
    init() {
        this.register();
        for (let i of this.redArray) {
            i._init();
        }
    }
    register() {
        this.redArray = [
            RedTipTest_1.red1.ins,
            RedTipTest_1.red2.ins,
        ];
    }
}
exports.default = RedTipMgr;
},{"./RedTipTest":6}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const layaMaxUI_1 = require("../ui/layaMaxUI");
const RedTipBase_1 = require("./RedTipBase");
class RedTipTest extends layaMaxUI_1.ui.test.ViewTestUI {
    constructor() {
        super();
        this.loop();
    }
    open() {
        let img = new Laya.Image;
        img.skin = "comp/image.png";
        this.addChild(img);
    }
    createView(view) {
        super.createView(view);
        red1.ins.bindRed("A1", this.A1);
        red1.ins.bindRed("A2", this.A2);
        red1.ins.bindRed("A3", this.A3);
        red2.ins.bindRed("B1", this.B1);
        red2.ins.bindRed("B2", this.B2);
    }
    loop() {
        Laya.timer.loop(500, this, () => {
            // red1.ins.emit("A2")
            // red1.ins.emit("A1")
            // red1.ins.emit("A3")
            // red2.ins.emit("B1")
            // red2.ins.emit("B2")
            TestMDl.ins.event("UPDATE_INFO");
            TestMDl.ins.event("UPDATE_LV");
        });
    }
}
exports.default = RedTipTest;
class red1 extends RedTipBase_1.default {
    constructor() {
        super();
    }
    init() {
        //绑定handle，触发点
        this.register("A2", this.A2, this)("UPDATE_INFO", TestMDl.ins)("UPDATE_LV", TestMDl.ins);
        this.register("A3", this.A3, this)("UPDATE_LV", TestMDl.ins);
        //构建关心列表
        this.takecare(red2.ins).bindName("A2").care("B1", "B2");
        this.takecare(red2.ins).bindName("A1").care("B1", "B2");
    }
    A1() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
    A2() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
    A3() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
}
exports.red1 = red1;
class red2 extends RedTipBase_1.default {
    constructor() {
        super();
    }
    init() {
        this.register("B1", this.B1, this)("UPDATE_LV", TestMDl.ins);
        this.register("B2", this.B2, this)("UPDATE_INFO", TestMDl.ins);
    }
    B1() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
    B2() {
        let a = 0;
        for (let i = 0; i < 10000; i++) {
            a++;
        }
        return Math.random() > 0.5;
    }
}
exports.red2 = red2;
class TestMDl extends Laya.EventDispatcher {
    static get ins() {
        return TestMDl["_ins"] || (TestMDl["_ins"] = new TestMDl);
    }
}
},{"../ui/layaMaxUI":11,"./RedTipBase":4}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 子弹脚本，实现子弹飞行逻辑及对象池回收机制
 */
class Bullet extends Laya.Script {
    constructor() { super(); }
    onEnable() {
        //设置初始速度
        var rig = this.owner.getComponent(Laya.RigidBody);
        rig.setVelocity({ x: 0, y: -10 });
    }
    onTriggerEnter(other, self, contact) {
        //如果被碰到，则移除子弹
        this.owner.removeSelf();
    }
    onUpdate() {
        //如果子弹超出屏幕，则移除子弹
        if (this.owner.y < -10) {
            this.owner.removeSelf();
        }
    }
    onDisable() {
        //子弹被移除时，回收子弹到对象池，方便下次复用，减少对象创建开销
        Laya.Pool.recover("bullet", this.owner);
    }
}
exports.default = Bullet;
},{}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const GameUI_1 = require("./GameUI");
/**
 * 掉落盒子脚本，实现盒子碰撞及回收流程
 */
class DropBox extends Laya.Script {
    constructor() {
        super();
        /**盒子等级 */
        this.level = 1;
    }
    onEnable() {
        /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
        this._rig = this.owner.getComponent(Laya.RigidBody);
        this.level = Math.round(Math.random() * 5) + 1;
        this._text = this.owner.getChildByName("levelTxt");
        this._text.text = this.level + "";
    }
    onUpdate() {
        //让持续盒子旋转
        this.owner.rotation++;
    }
    onTriggerEnter(other, self, contact) {
        var owner = this.owner;
        if (other.label === "buttle") {
            //碰撞到子弹后，增加积分，播放声音特效
            if (this.level > 1) {
                this.level--;
                this._text.changeText(this.level + "");
                owner.getComponent(Laya.RigidBody).setVelocity({ x: 0, y: -10 });
                Laya.SoundManager.playSound("sound/hit.wav");
            }
            else {
                if (owner.parent) {
                    let effect = Laya.Pool.getItemByCreateFun("effect", this.createEffect, this);
                    effect.pos(owner.x, owner.y);
                    owner.parent.addChild(effect);
                    effect.play(0, true);
                    owner.removeSelf();
                    Laya.SoundManager.playSound("sound/destroy.wav");
                }
            }
            GameUI_1.default.instance.addScore(1);
        }
        else if (other.label === "ground") {
            //只要有一个盒子碰到地板，则停止游戏
            owner.removeSelf();
            GameUI_1.default.instance.stopGame();
        }
    }
    /**使用对象池创建爆炸动画 */
    createEffect() {
        let ani = new Laya.Animation();
        ani.loadAnimation("test/TestAni.ani");
        ani.on(Laya.Event.COMPLETE, null, recover);
        function recover() {
            ani.removeSelf();
            Laya.Pool.recover("effect", ani);
        }
        return ani;
    }
    onDisable() {
        //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
        Laya.Pool.recover("dropBox", this.owner);
    }
}
exports.default = DropBox;
},{"./GameUI":10}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 游戏控制脚本。定义了几个dropBox，bullet，createBoxInterval等变量，能够在IDE显示及设置该变量
 * 更多类型定义，请参考官方文档
 */
class GameControl extends Laya.Script {
    constructor() {
        super();
        /** @prop {name:createBoxInterval,tips:"间隔多少毫秒创建一个下跌的容器",type:int,default:1000}*/
        this.createBoxInterval = 1000;
        /**开始时间*/
        this._time = 0;
        /**是否已经开始游戏 */
        this._started = false;
    }
    onEnable() {
        this._time = Date.now();
        this._gameBox = this.owner.getChildByName("gameBox");
        this.createBox();
    }
    onUpdate() {
        //每间隔一段时间创建一个盒子
        let now = Date.now();
        if (now - this._time > this.createBoxInterval) {
            this._time = now;
            this.createBox();
        }
    }
    createBox() {
        //使用对象池创建盒子
        let box = Laya.Pool.getItemByCreateFun("dropBox", this.dropBox.create, this.dropBox);
        box.pos(Math.random() * (Laya.stage.width - 100), -100);
        this._gameBox.addChild(box);
    }
    onStageClick(e) {
        //停止事件冒泡，提高性能，当然也可以不要
        // e.stopPropagation();
        //舞台被点击后，使用对象池创建子弹
        let flyer = Laya.Pool.getItemByCreateFun("bullet", this.bullet.create, this.bullet);
        flyer.pos(Laya.stage.mouseX, Laya.stage.mouseY);
        this._gameBox.addChild(flyer);
        console.log("click");
    }
    /**开始游戏，通过激活本脚本方式开始游戏*/
    startGame() {
        if (!this._started) {
            this._started = true;
            this.enabled = true;
        }
    }
    /**结束游戏，通过非激活本脚本停止游戏 */
    stopGame() {
        this._started = false;
        this.enabled = false;
        this.createBoxInterval = 1000;
        this._gameBox.removeChildren();
    }
}
exports.default = GameControl;
},{}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const layaMaxUI_1 = require("./../ui/layaMaxUI");
const GameControl_1 = require("./GameControl");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
class GameUI extends layaMaxUI_1.ui.test.TestSceneUI {
    constructor() {
        super();
        GameUI.instance = this;
        //关闭多点触控，否则就无敌了
        Laya.MouseManager.multiTouchEnabled = false;
    }
    onEnable() {
        this._control = this.getComponent(GameControl_1.default);
        //点击提示文字，开始游戏
        this.tipLbll.on(Laya.Event.CLICK, this, this.onTipClick);
    }
    onTipClick(e) {
        this.tipLbll.visible = false;
        this._score = 0;
        this.scoreLbl.text = "";
        this._control.startGame();
    }
    /**增加分数 */
    addScore(value = 1) {
        this._score += value;
        this.scoreLbl.changeText("分数：" + this._score);
        //随着分数越高，难度增大
        if (this._control.createBoxInterval > 600 && this._score % 20 == 0)
            this._control.createBoxInterval -= 20;
    }
    /**停止游戏 */
    stopGame() {
        this.tipLbll.visible = true;
        this.tipLbll.text = "游戏结束了，点击屏幕重新开始";
        this._control.stopGame();
    }
}
exports.default = GameUI;
},{"./../ui/layaMaxUI":11,"./GameControl":9}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ui;
(function (ui) {
    var test;
    (function (test) {
        class TestSceneUI extends Laya.Scene {
            constructor() { super(); }
            createChildren() {
                super.createChildren();
                this.loadScene("test/TestScene");
            }
        }
        test.TestSceneUI = TestSceneUI;
        class ViewTestUI extends Laya.View {
            constructor() { super(); }
            createChildren() {
                super.createChildren();
                this.createView(ViewTestUI.uiView);
            }
        }
        ViewTestUI.uiView = { "type": "View", "props": { "width": 1136, "height": 640 }, "compId": 2, "child": [{ "type": "Radio", "props": { "y": 126, "x": 170, "var": "A1", "skin": "comp/radio.png", "label": "A1" }, "compId": 8 }, { "type": "Radio", "props": { "y": 154, "x": 170, "var": "A2", "skin": "comp/radio.png", "label": "A2" }, "compId": 9 }, { "type": "Radio", "props": { "y": 190, "x": 170, "var": "A3", "skin": "comp/radio.png", "label": "A3" }, "compId": 10 }, { "type": "Radio", "props": { "y": 126, "x": 233, "var": "B1", "skin": "comp/radio.png", "label": "B1" }, "compId": 11 }, { "type": "Radio", "props": { "y": 154, "x": 233, "var": "B2", "skin": "comp/radio.png", "label": "B2" }, "compId": 13 }], "loadList": ["comp/radio.png"], "loadList3D": [] };
        test.ViewTestUI = ViewTestUI;
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class ArrayUtils {
    static find(arr, cb) {
        for (let i of arr) {
            if (cb(i))
                return i;
        }
        return null;
    }
    /**除重 */
    static unique(arr) {
        let left = 0, right = 0;
        while (left < arr.length) {
            right = arr.lastIndexOf(arr[left], left);
            while (left != right) {
                arr.splice(right);
                right = arr.lastIndexOf(arr[left], left);
            }
            left++;
        }
        return arr;
    }
}
exports.ArrayUtils = ArrayUtils;
},{}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class MapStruct {
    constructor() {
        this.keys = [];
        this.values = [];
        this._size = 0;
    }
    clear() {
        this.keys.length = this.values.length = this._size = 0;
    }
    delete(key) {
        let idx = this.keys.indexOf(key);
        if (idx == -1) {
            return false;
        }
        this.keys.splice(idx, 1);
        this.values.splice(idx, 1);
        this._size--;
        return true;
    }
    forEach(callbackfn, thisArg) {
        for (let i = 0, len = this.keys.length; i < len; i++) {
            callbackfn(this.values[i], this.keys[i], this);
        }
    }
    get(key) {
        let idx = this.keys.indexOf(key);
        return this.values[idx];
    }
    has(key) {
        return this.keys.indexOf(key) >= 0;
    }
    set(key, value) {
        let idx = this.keys.indexOf(key);
        if (idx >= 0) {
            this.values[idx] = value;
        }
        else {
            this.keys.push(key);
            this.values.push(value);
            this._size++;
        }
        return this;
    }
    get size() {
        return this._size;
    }
}
exports.MapStruct = MapStruct;
},{}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class View1 extends Laya.View {
    constructor() {
        super();
        let lab = new Laya.Label;
        lab.text = "hello";
        lab.color = "#FF0000";
        this.addChild(lab);
        let img = new Laya.Image;
        img.skin = "comp/image.png"; //"test/c1.png"
        this.addChild(img);
    }
}
exports.default = View1;
class View2 extends Laya.View {
    constructor() {
        super();
    }
}
exports.View2 = View2;
},{}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const RedTipTest_1 = require("../../redTip/RedTipTest");
const View1_1 = require("../View1");
let id = 1;
const map = {};
const panelInstanceMap = {};
/**
 *
 * @param view 注册面板
 * @param dependtenceAtlas 依赖图集
 * @param dependtenceCfgs 依赖配置
 * @returns 面板id
 */
function registerPanel(view, layer, dependtenceAtlas, dependtenceCfgs) {
    let key = id++;
    map[key] = [view, dependtenceAtlas, dependtenceCfgs, layer];
    return key;
}
exports.registerPanel = registerPanel;
function cachePanel(id, panel) {
    panelInstanceMap[id] = panel;
}
exports.cachePanel = cachePanel;
function clearPanel(id) {
    delete panelInstanceMap[id];
}
exports.clearPanel = clearPanel;
/**面板实例 */
function getPanel(id) {
    return panelInstanceMap[id];
}
exports.getPanel = getPanel;
/**面板配置 */
function getPanelVo(id) {
    return map[id];
}
exports.getPanelVo = getPanelVo;
var panelLayer;
(function (panelLayer) {
    panelLayer[panelLayer["base"] = 0] = "base";
    panelLayer[panelLayer["middle"] = 1] = "middle";
    panelLayer[panelLayer["top"] = 2] = "top";
})(panelLayer = exports.panelLayer || (exports.panelLayer = {}));
var PanelRegister;
(function (PanelRegister) {
    PanelRegister[PanelRegister["PANEL1"] = registerPanel(RedTipTest_1.default, panelLayer.base, ["res/atlas/comp.atlas"])] = "PANEL1";
    PanelRegister[PanelRegister["PANEL2"] = registerPanel(View1_1.default, panelLayer.base, ["res/atlas/test.atlas"])] = "PANEL2";
    PanelRegister[PanelRegister["PANEL3"] = registerPanel(View1_1.View2, panelLayer.base)] = "PANEL3";
})(PanelRegister = exports.PanelRegister || (exports.PanelRegister = {}));
},{"../../redTip/RedTipTest":6,"../View1":14}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ResourceMgr_1 = require("../../ResourceMgr");
const PanelRegister_1 = require("./PanelRegister");
class ViewMgr extends Laya.EventDispatcher {
    // private historyArr: IView[] = [];
    constructor() {
        super();
        this.currentPanelMap = {}; //各个层级打开的面板
        this.cachePanel = []; //缓存面板
        this.maxCacheNum = 0; //缓存页面数量
        Laya.stage.addChild(this.panelLayer = new Laya.Box);
    }
    static get ins() {
        return ViewMgr._ins || (ViewMgr._ins = new ViewMgr);
    }
    /**
     * 打开面板
     * @param id 注册面板
     * @param args 面板open方法调用参数
     */
    openPanel(id, ...args) {
        let vo = PanelRegister_1.getPanelVo(id);
        if (this.currentPanelMap[vo[3]] === id)
            return;
        this.closePanel(this.currentPanelMap[vo[3]]);
        this.currentPanelMap[vo[3]] = id;
        let dependenceArr = [];
        if (vo[1]) {
            for (let url of vo[1]) {
                ResourceMgr_1.default.ins.addAtlasRefrence(url); //添加图集引用计数
            }
            dependenceArr = dependenceArr.concat(vo[1]);
        }
        vo[2] && (dependenceArr = dependenceArr.concat(vo[2]));
        if (dependenceArr.length)
            Laya.loader.load(dependenceArr, Laya.Handler.create(this, this.loadComplete, [id, ...args]));
        else
            this.loadComplete(id, ...args);
    }
    /**
     * 关闭面板
     * @param id 注册面板id
     */
    closePanel(id) {
        if (!id)
            return;
        let vo = PanelRegister_1.getPanelVo(id);
        if (!vo) {
            console.error(`未注册面板:${id}`);
            return;
        }
        // this.clearPanelDependence(id);
        //加入缓存队列
        let idx = this.cachePanel.indexOf(id);
        if (idx >= 0) {
            this.cachePanel.splice(idx, 1);
        }
        this.cachePanel.push(id);
        this.currentPanelMap[vo[3]] = null;
        let panel = PanelRegister_1.getPanel(id);
        if (panel) {
            panel.removeSelf();
            panel.close();
        }
    }
    /**
     * 尝试销毁面板
     * @param count 销毁数量
     */
    tryDestoryPanel(count = 1) {
        if (this.cachePanel.length <= this.maxCacheNum)
            return;
        let panels = this.cachePanel.splice(0, this.cachePanel.length - this.maxCacheNum <= count ? this.cachePanel.length - this.maxCacheNum : count);
        while (panels.length) {
            let id = panels.pop();
            this.clearPanelDependence(id);
            if (PanelRegister_1.getPanel(id))
                PanelRegister_1.getPanel(id).destroy(true);
            PanelRegister_1.clearPanel(id);
        }
    }
    clearPanelDependence(id) {
        let vo = PanelRegister_1.getPanelVo(id);
        if (vo[1]) {
            for (let k of vo[1]) {
                ResourceMgr_1.default.ins.removeAtlasRefrence(k, true);
            }
        }
    }
    loadComplete(id, ...args) {
        let panel = PanelRegister_1.getPanel(id);
        if (!panel) {
            panel = new (PanelRegister_1.getPanelVo(id)[0]);
            PanelRegister_1.cachePanel(id, panel);
        }
        panel.open(...args);
        let vo = PanelRegister_1.getPanelVo(id);
        if (this.currentPanelMap[vo[3]] === id) {
            this.panelLayer.addChild(panel);
        }
    }
}
exports.default = ViewMgr;
},{"../../ResourceMgr":3,"./PanelRegister":15}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NvZnRXYXJlL2xheWFJREUvcmVzb3VyY2VzL2FwcC9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL0dhbWVDb25maWcudHMiLCJzcmMvTWFpbi50cyIsInNyYy9SZXNvdXJjZU1nci50cyIsInNyYy9yZWRUaXAvUmVkVGlwQmFzZS50cyIsInNyYy9yZWRUaXAvUmVkVGlwTWdyLnRzIiwic3JjL3JlZFRpcC9SZWRUaXBUZXN0LnRzIiwic3JjL3NjcmlwdC9CdWxsZXQudHMiLCJzcmMvc2NyaXB0L0Ryb3BCb3gudHMiLCJzcmMvc2NyaXB0L0dhbWVDb250cm9sLnRzIiwic3JjL3NjcmlwdC9HYW1lVUkudHMiLCJzcmMvdWkvbGF5YU1heFVJLnRzIiwic3JjL3V0aWxzL0FycmF5VXRpbHMudHMiLCJzcmMvdXRpbHMvTWFwU3RydWN0LnRzIiwic3JjL3ZpZXcvVmlldzEudHMiLCJzcmMvdmlldy9iYXNlL1BhbmVsUmVnaXN0ZXIudHMiLCJzcmMvdmlldy9iYXNlL1ZpZXdNZ3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDVkEsZ0dBQWdHO0FBQ2hHLDRDQUFvQztBQUNwQyxzREFBOEM7QUFDOUMsNENBQW9DO0FBQ3BDLDhDQUFzQztBQUN0Qzs7RUFFRTtBQUNGO0lBYUksZ0JBQWMsQ0FBQztJQUNmLE1BQU0sQ0FBQyxJQUFJO1FBQ1AsSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7UUFDN0MsR0FBRyxDQUFDLGtCQUFrQixFQUFDLGdCQUFNLENBQUMsQ0FBQztRQUMvQixHQUFHLENBQUMsdUJBQXVCLEVBQUMscUJBQVcsQ0FBQyxDQUFDO1FBQ3pDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxnQkFBTSxDQUFDLENBQUM7UUFDL0IsR0FBRyxDQUFDLG1CQUFtQixFQUFDLGlC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RSxDQUFDO2dCQUN2QixJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN2QyxDQUFDOztRQUxjLGlCQUFNLEdBQU0sRUFBQyxNQUFNLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxFQUFDLE9BQU8sRUFBQyxJQUFJLEVBQUMsUUFBUSxFQUFDLEdBQUcsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsSUFBSSxFQUFDLE1BQU0sRUFBQyxnQkFBZ0IsRUFBQyxPQUFPLEVBQUMsSUFBSSxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsS0FBSyxFQUFDLElBQUksRUFBQyxNQUFNLEVBQUMsZ0JBQWdCLEVBQUMsT0FBTyxFQUFDLElBQUksRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEtBQUssRUFBQyxJQUFJLEVBQUMsTUFBTSxFQUFDLGdCQUFnQixFQUFDLE9BQU8sRUFBQyxJQUFJLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUMsSUFBSSxFQUFDLE1BQU0sRUFBQyxnQkFBZ0IsRUFBQyxPQUFPLEVBQUMsSUFBSSxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLEVBQUMs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QyxLQUFLLEVBQUUsRUFBRTtZQUNwQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNuQztJQUNMLENBQUM7Q0FDSjtBQXZHRCwwQkF1R0MiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbmltcG9ydCBHYW1lVUkgZnJvbSBcIi4vc2NyaXB0L0dhbWVVSVwiXG5pbXBvcnQgR2FtZUNvbnRyb2wgZnJvbSBcIi4vc2NyaXB0L0dhbWVDb250cm9sXCJcbmltcG9ydCBCdWxsZXQgZnJvbSBcIi4vc2NyaXB0L0J1bGxldFwiXG5pbXBvcnQgRHJvcEJveCBmcm9tIFwiLi9zY3JpcHQvRHJvcEJveFwiXHJcbi8qXHJcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj02NDA7XHJcbiAgICBzdGF0aWMgaGVpZ2h0Om51bWJlcj0xMTM2O1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJmaXhlZHdpZHRoXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJub25lXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cInRvcFwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJsZWZ0XCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJ0ZXN0L1ZpZXdUZXN0LnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZVVJLnRzXCIsR2FtZVVJKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0dhbWVDb250cm9sLnRzXCIsR2FtZUNvbnRyb2wpO1xuICAgICAgICByZWcoXCJzY3JpcHQvQnVsbGV0LnRzXCIsQnVsbGV0KTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0Ryb3BCb3gudHNcIixEcm9wQm94KTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmltcG9ydCBSZWRUaXBNZ3IgZnJvbSBcIi4vcmVkVGlwL1JlZFRpcE1nclwiO1xyXG5pbXBvcnQgUmVkVGlwVGVzdCBmcm9tIFwiLi9yZWRUaXAvUmVkVGlwVGVzdFwiO1xyXG5pbXBvcnQgUmVzb3VyY2VNZ3IgZnJvbSBcIi4vUmVzb3VyY2VNZ3JcIjtcclxuaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi91aS9sYXlhTWF4VUlcIjtcclxuaW1wb3J0IHsgUGFuZWxSZWdpc3RlciB9IGZyb20gXCIuL3ZpZXcvYmFzZS9QYW5lbFJlZ2lzdGVyXCI7XHJcbmltcG9ydCBWaWV3TWdyIGZyb20gXCIuL3ZpZXcvYmFzZS9WaWV3TWdyXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHQvLyBMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdFx0dGhpcy5vbkNvbmZpZ0xvYWRlZCgpXHJcblx0XHRSZXNvdXJjZU1nci5pbnMuc3RhcnRDaGVjaygpXHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHQvLyBHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSx0cnVlLG51bGwsTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLHRoaXMub3BlblNjZW5lKSk7XHJcblx0XHRWaWV3TWdyLmlucztcclxuXHRcdHRoaXMuY3JlYXRlQnRuKFxyXG5cdFx0W1wiYnRuMVwiLCgpPT57Vmlld01nci5pbnMub3BlblBhbmVsKFBhbmVsUmVnaXN0ZXIuUEFORUwxKX1dLFxyXG5cdFx0W1wiYnRuMlwiLCgpPT57Vmlld01nci5pbnMub3BlblBhbmVsKFBhbmVsUmVnaXN0ZXIuUEFORUwyKX1dLFxyXG5cdFx0W1wiYnRuM1wiLCgpPT57Vmlld01nci5pbnMub3BlblBhbmVsKFBhbmVsUmVnaXN0ZXIuUEFORUwzKX1dXHJcblx0XHQpO1xyXG5cclxuXHRcdG5ldyBSZWRUaXBNZ3I7XHJcblx0fVxyXG5cclxuXHRjcmVhdGVCdG4oLi4uYnRuczpbc3RyaW5nLEZ1bmN0aW9uXVtdKTp2b2lke1xyXG5cdFx0bGV0IF94ID0gMDtcclxuXHRcdGZvcihsZXQgYXJyIG9mIGJ0bnMpe1xyXG5cdFx0XHRsZXQgbGFiID0gbmV3IExheWEuTGFiZWw7XHJcblx0XHRcdGxhYi5jb2xvciA9IFwiI2ZmZlwiXHJcblx0XHRcdGxhYi50ZXh0ID0gYXJyWzBdXHJcblx0XHRcdExheWEuc3RhZ2UuYWRkQ2hpbGQobGFiKVxyXG5cdFx0XHRsYWIueCA9IF94O1xyXG5cdFx0XHRsYWIuZm9udFNpemUgPSAzMFxyXG5cdFx0XHRfeCArPSAxMDBcclxuXHRcdFx0bGFiLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcyxhcnJbMV0pXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRvcGVuU2NlbmUoc2VuY2U6TGF5YS5TY2VuZSk6dm9pZHtcclxuXHJcblx0fVxyXG59XHJcblxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJpbXBvcnQgVmlld01nciBmcm9tIFwiLi92aWV3L2Jhc2UvVmlld01nclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzb3VyY2VNZ3Ige1xyXG4gICAgY2xlYXJBdGxhc1F1ZXVlOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgY2xlYXJRdWV1ZTogTGF5YS5UZXh0dXJlW10gPSBbXVxyXG4gICAgLy/lpKflm77pm4blvJXnlKjorqHmlbBcclxuICAgIGF0bGFzTWFwOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge31cclxuICAgIC8v5q+P5bin6ZSA5q+B6LWE5rqQ5pyA5aSn5pWw6YePXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgZnJhbWVDbGVhckNvdW50OiBudW1iZXIgPSAyO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IGNoZWNrQ2xlYXJUaW1lOiBudW1iZXIgPSAxMDAwO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luczogUmVzb3VyY2VNZ3I7XHJcbiAgICBzdGF0aWMgZ2V0IGlucygpOiBSZXNvdXJjZU1nciB7XHJcbiAgICAgICAgcmV0dXJuIFJlc291cmNlTWdyLl9pbnMgfHwgKFJlc291cmNlTWdyLl9pbnMgPSBuZXcgUmVzb3VyY2VNZ3IpXHJcbiAgICB9XHJcbiAgICBzdGFydENoZWNrKCk6IHZvaWQge1xyXG4gICAgICAgIExheWEudGltZXIubG9vcChSZXNvdXJjZU1nci5jaGVja0NsZWFyVGltZSwgdGhpcywgdGhpcy5sb29wQ2hlY2tUZXh0dXJlKTtcclxuICAgICAgICBMYXlhLnRpbWVyLmZyYW1lTG9vcCgxLCB0aGlzLCB0aGlzLmxvb3BEZXN0cm95VGV4dHVyZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcENoZWNrKCk6IHZvaWQge1xyXG4gICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcywgdGhpcy5sb29wQ2hlY2tUZXh0dXJlKTtcclxuICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsIHRoaXMubG9vcERlc3Ryb3lUZXh0dXJlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOajgOa1i+WbvueJh+i1hOa6kO+8jOWmguaenOW8leeUqOiuoeaVsOS4ujDliJnmt7vliqDliLDplIDmr4HpmJ/liJdcclxuICAgICAqL1xyXG4gICAgbG9vcENoZWNrVGV4dHVyZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5jbGVhclF1ZXVlLmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgICAgIGxldCB0ZW1wOiBMYXlhLlRleHR1cmU7XHJcbiAgICAgICAgZm9yIChsZXQgayBpbiBMYXlhLkxvYWRlci5sb2FkZWRNYXApIHtcclxuICAgICAgICAgICAgdGVtcCA9IExheWEuTG9hZGVyLmxvYWRlZE1hcFtrXTtcclxuICAgICAgICAgICAgaWYgKCF0ZW1wLmJpdG1hcCkgY29udGludWU7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wW1wiX3JlZmVyZW5jZUNvdW50XCJdID09IDAgJiYgdGVtcC5iaXRtYXBbXCJfcmVmZXJlbmNlQ291bnRcIl0gPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLyoq566A5piT5Yik5pat5aaC5p6c5piv5Zu+6ZuG5bCx6Ieq5Yqo5LiN5riF55CG77yI5b+955Wl5Y+q5pyJ5LiA5byg5Zu+54mH55qE5Zu+6ZuG77yJICovXHJcbiAgICAgICAgICAgICAgICBpZiAoKHRlbXAuYml0bWFwIGFzIExheWEuVGV4dHVyZTJEKS53aWR0aCA9PSB0ZW1wLndpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgKHRlbXAuYml0bWFwIGFzIExheWEuVGV4dHVyZTJEKS5oZWlnaHQgPT0gdGVtcC5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL+WOi+WFpemUgOavgemYn+WIl1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJRdWV1ZS5wdXNoKHRlbXApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5om56YeP6ZSA5q+B5Zu+54mHXHJcbiAgICAgKi9cclxuICAgIGxvb3BEZXN0cm95VGV4dHVyZSgpOiB2b2lkIHtcclxuICAgICAgICBWaWV3TWdyLmlucy50cnlEZXN0b3J5UGFuZWwoKTtcclxuICAgICAgICBsZXQgaWR4ID0gMDtcclxuICAgICAgICBsZXQgdGV4dHVyZTogTGF5YS5UZXh0dXJlID0gdGhpcy5jbGVhclF1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgICAgd2hpbGUgKHRleHR1cmUpIHtcclxuICAgICAgICAgICAgLyoq6YeN5paw5Yik5pat5piv5ZCm5pyJ6KKr5byV55So77yM6YG/5YWN562J5b6F6ZSA5q+B6L+H56iL5Lit5Y+I6KKr5byV55So6YCg5oiQ6K+v5YigICovXHJcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLmJpdG1hcCAmJiB0ZXh0dXJlLmJpdG1hcFtcIl9yZWZlcmVuY2VDb3VudFwiXSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dHVyZS51cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBMYXlhLmxvYWRlci5jbGVhclJlcyh0ZXh0dXJlLnVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckVuZ2luZUNhY2hlKHRleHR1cmUuYml0bWFwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZHgrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaWR4ID49IFJlc291cmNlTWdyLmZyYW1lQ2xlYXJDb3VudCkgYnJlYWs7XHJcbiAgICAgICAgICAgIHRleHR1cmUgPSB0aGlzLmNsZWFyUXVldWUuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/muIXnkIbkuIDkuKrlpKflm77pm4ZcclxuICAgICAgICB0aGlzLmNsZWFyT25lQXRsYXMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLeWbvumbhi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgYWRkQXRsYXNSZWZyZW5jZSh1cmw6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmF0bGFzTWFwW3VybF0pIHtcclxuICAgICAgICAgICAgdGhpcy5hdGxhc01hcFt1cmxdID0gdGhpcy5hdGxhc01hcFt1cmxdICsgMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmF0bGFzTWFwW3VybF0gPSAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVBdGxhc1JlZnJlbmNlKHVybDogc3RyaW5nLCBhdXRvQ2xlYXI6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5hdGxhc01hcFt1cmxdKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLlm77pm4blvJXnlKjorqHmlbDpgLvovpHmnInpl67pophcIilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmF0bGFzTWFwW3VybF0gPSB0aGlzLmF0bGFzTWFwW3VybF0gLSAxO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYXRsYXNNYXBbdXJsXSAmJiBhdXRvQ2xlYXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHVzaERlc3RvcnlBdGxhc1F1ZXVlKHVybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKua3u+WKoOa4heeQhumYn+WIlyAqL1xyXG4gICAgcHVzaERlc3RvcnlBdGxhc1F1ZXVlKGF0bGFzOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5jbGVhckF0bGFzUXVldWUuaW5kZXhPZihhdGxhcykgPT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckF0bGFzUXVldWUucHVzaChhdGxhcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKuaJp+ihjOa4heeQhuWkp+WbvumbhiAqL1xyXG4gICAgcHJpdmF0ZSBjbGVhck9uZUF0bGFzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5jbGVhckF0bGFzUXVldWUubGVuZ3RoKSByZXR1cm47XHJcbiAgICAgICAgbGV0IHVybDogc3RyaW5nO1xyXG4gICAgICAgIC8v5aSn5Zu+6ZuG5re75Yqg5byV55So6K6h5pWw5pyJ5Y+v6IO95Zu+6ZuG6L+Y5rKh5Yqg6L2977yM5aaC5p6c5rKh5pyJ6LWE5rqQ6KGo56S66L+Y5rKh5Yqg6L29XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuY2xlYXJBdGxhc1F1ZXVlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChMYXlhLmxvYWRlci5nZXRSZXModGhpcy5jbGVhckF0bGFzUXVldWVbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSB0aGlzLmNsZWFyQXRsYXNRdWV1ZS5zcGxpY2UoaSwgMSlbMF07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXJsICYmICF0aGlzLmF0bGFzTWFwW3VybF0pIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYXRsYXNNYXBbdXJsXTtcclxuICAgICAgICAgICAgTGF5YS5sb2FkZXIuY2xlYXJSZXModXJsKTtcclxuICAgICAgICAgICAgdXJsID0gTGF5YS5VUkwuZm9ybWF0VVJMKHVybC5zdWJzdHJpbmcoMCwgdXJsLmxhc3RJbmRleE9mKFwiLlwiKSkgKyBcIi5wbmdcIik7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJFbmdpbmVDYWNoZShMYXlhLmxvYWRlci5nZXRSZXModXJsKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKua4heeQhuW8leaTjueahOe8k+WtmCAo5b275bqV5riF55CGKSovXHJcbiAgICBwcml2YXRlIGNsZWFyRW5naW5lQ2FjaGUodGV4dHVyZTogTGF5YS5UZXh0dXJlMkQpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGV4dHVyZSkge1xyXG4gICAgICAgICAgICBMYXlhLkxvYWRlci5jbGVhclJlcyh0ZXh0dXJlLnVybCk7XHJcbiAgICAgICAgICAgIGxldCByZXNvdXJjZSA9IExheWEuUmVzb3VyY2UuZ2V0UmVzb3VyY2VCeUlEKHRleHR1cmVbXCJpZFwiXSlcclxuICAgICAgICAgICAgcmVzb3VyY2UgJiYgcmVzb3VyY2UuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBBcnJheVV0aWxzIH0gZnJvbSBcIi4uL3V0aWxzL0FycmF5VXRpbHNcIjtcclxuaW1wb3J0IHsgTWFwU3RydWN0IH0gZnJvbSBcIi4uL3V0aWxzL01hcFN0cnVjdFwiO1xyXG5cclxuLyoqXHJcbiAqIOe6oueCueeuoeeQhlxyXG4gKiDliIbnprvmmL7npLrlkozmlbDmja7vvIzmr4/kuKroioLngrnpg73mnInkuIDkuKrnirbmgIHvvIzlj6/ku6XmiornuqLngrnlrp7kvovkuI7ku7vmhI/oioLngrnnu5Hlrpov6Kej57uRXHJcbiAqIOiKgueCueWPr+S7pee7keWummhhbmRsZeaIluiAhemAmui/h+WFs+ezu+WFtuS7luiKgueCueWunueOsOabtOaWsO+8jOabtOaWsOaYr+iHquWKqOeahO+8jOWQjOaXtuWmguaenOaciee7keWumuWunuS+i++8jOWunuS+i+eahOeKtuaAgeS5n+S8muiHquWKqOabtOaWsFxyXG4gKiBcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlZFRpcEJhc2UgZXh0ZW5kcyBMYXlhLkV2ZW50RGlzcGF0Y2hlciB7XHJcbiAgICBwcml2YXRlIHRlbXA6IFJlZFRpcEJhc2U7XHJcbiAgICBwcml2YXRlIHRlbXBUYXJnZXQ6IHN0cmluZ1tdO1xyXG4gICAgLy8gcHJpdmF0ZSB0ZW1wTmFtZTpzdHJpbmc7XHJcbiAgICAvKirlhbPlv4PliJfooaggKi9cclxuICAgIHByaXZhdGUgY2FyZU1hcDogTWFwU3RydWN0PHN0cmluZywgW1JlZFRpcEJhc2UsIHN0cmluZ1tdXVtdPiA9IG5ldyBNYXBTdHJ1Y3Q7XHJcbiAgICAvKirnuqLngrnnirbmgIHnvJPlrZggKi9cclxuICAgIHByaXZhdGUgc3RhdGVNYXA6IE1hcFN0cnVjdDxzdHJpbmcsIGJvb2xlYW4+ID0gbmV3IE1hcFN0cnVjdDtcclxuICAgIC8qKue7keWumue6oueCueWunuS+iyAqL1xyXG4gICAgcHJpdmF0ZSBiaW5kUmVkVGlwOiBNYXBTdHJ1Y3Q8c3RyaW5nLCBMYXlhLlNwcml0ZVtdPiA9IG5ldyBNYXBTdHJ1Y3Q7XHJcbiAgICAvKiroioLngrnkuI5oYW5kbGXmmKDlsIQgKi9cclxuICAgIHByaXZhdGUgcmVnaXN0ZXJNYXA6IE1hcFN0cnVjdDxzdHJpbmcsIFtGdW5jdGlvbiwgYW55XT4gPSBuZXcgTWFwU3RydWN0O1xyXG4gICAgc3RhdGljIGdldCBpbnMoKTogUmVkVGlwQmFzZSB7XHJcbiAgICAgICAgbGV0IHM6IGFueSA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIHNbXCJfaW5zX1wiXSB8fCAoc1tcIl9pbnNfXCJdID0gbmV3IHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBfaW5pdCgpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGluaXQoKTp2b2lke1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIuWcqGluaXTmlrnms5XkuK3nu5Hlrprop6blj5HngrnmiJbogIXlhbPns7voioLngrlcIilcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOazqOWGjOiKgueCueabtOaWsGhhbmRsZSzmsqHms6jlhozkuZ/kuI3lvbHlk43vvIzlj6/ku6Xlj6rlhbPlv4Plhbbku5boioLngrnvvIzoioLngrnnmoTliJvlu7rmmK/ku7vmhI/nmoRcclxuICAgICAqIEBwYXJhbSBuYW1lIFxyXG4gICAgICogQHBhcmFtIGNhbGwgXHJcbiAgICAgKiBAcGFyYW0gY2FsbGVyIFxyXG4gICAgICovXHJcbiAgICByZWdpc3RlcihuYW1lOiBzdHJpbmcsIGZuOiAoKSA9PiBib29sZWFuLCBjYWxsZXI6IGFueSkge1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJNYXAuc2V0KG5hbWUsIFtmbiwgY2FsbGVyXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluZEhhbmRsZS5iaW5kKHRoaXMsbmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnu5HlrprlpJbpg6jop6blj5HngrnvvIzmr5TlpoLmuLjmiI/mqKHlnZfmlbDmja7lsYLmm7TmlrDmlbDmja7vvIznu5HlrprnuqLngrnop6blj5HvvIzlnKjosIPnlKjlroxyZWdpc3RlcuWQjumdouebtOaOpeiwg+eUqFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGJpbmRIYW5kbGUobmFtZTpzdHJpbmcsZXZlbnROYW1lOnN0cmluZyxkaXNwYXRjaGVyOkxheWEuRXZlbnREaXNwYXRjaGVyKXtcclxuICAgICAgICBkaXNwYXRjaGVyLm9uKGV2ZW50TmFtZSx0aGlzLHRoaXMuZW1pdCxbbmFtZV0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJpbmRIYW5kbGUuYmluZCh0aGlzLG5hbWUpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOe7keWumuWFs+W/g+iKgueCuVxyXG4gICAgICogQHBhcmFtIHQgXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgdGFrZWNhcmUodDogUmVkVGlwQmFzZSkge1xyXG4gICAgICAgIHRoaXMudGVtcCA9IHQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOe7keWumuacrOe6oueCueeuoeeQhuWZqOeahOe6oueCueiKgueCuVxyXG4gICAgICovXHJcbiAgICBiaW5kTmFtZSguLi5mbGFnczogc3RyaW5nW10pIHtcclxuICAgICAgICB0aGlzLnRlbXBUYXJnZXQgPSBmbGFncztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWFs+W/g+iKgueCueeahOe6oueCueiKgueCueWQjVxyXG4gICAgICovXHJcbiAgICBjYXJlKC4uLmZsYWdzOiBzdHJpbmdbXSkge1xyXG4gICAgICAgIC8v5Li65YWz57O76IqC54K55re75Yqg5pS55Y+Y6Kem5Y+RaGFuZGxlXHJcbiAgICAgICAgZm9yIChsZXQgZiBvZiBmbGFncykge1xyXG4gICAgICAgICAgICB0aGlzLnRlbXAub24oZiwgdGhpcywgdGhpcy5jaGlsZHJlbkNoYW5nZSwgW3RoaXMudGVtcFRhcmdldF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBrIG9mIHRoaXMudGVtcFRhcmdldCkge1xyXG4gICAgICAgICAgICBsZXQgbHMgPSB0aGlzLmNhcmVNYXAuZ2V0KGspO1xyXG4gICAgICAgICAgICBpZiAobHMpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBBcnJheVV0aWxzLmZpbmQobHMsICh2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZbMF0gPT0gdGhpcy50ZW1wO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRbMV0gPSBBcnJheVV0aWxzLnVuaXF1ZSh0YXJnZXRbMV0uY29uY2F0KGZsYWdzKSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbHMucHVzaChbdGhpcy50ZW1wLCBmbGFnc10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYXJlTWFwLnNldChrLCBbW3RoaXMudGVtcCwgZmxhZ3NdXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDop6blj5HnuqLngrnorqHnrpdcclxuICAgICAqIEBwYXJhbSBmbGFnIFxyXG4gICAgICovXHJcbiAgICBlbWl0KGZsYWc6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY2hhbmdlKGZsYWcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Li657qi54K557uR5a6a5omn6KGMaGFuZGxlXHJcbiAgICAgKiBAcGFyYW0gbmFtZSDnuqLngrnlkI1cclxuICAgICAqIEBwYXJhbSByZWRUaXAg57qi54K55a6e5L6LXHJcbiAgICAgKi9cclxuICAgIGJpbmRSZWQobmFtZTogc3RyaW5nLCByZWRUaXA6IExheWEuU3ByaXRlKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGxzID0gdGhpcy5iaW5kUmVkVGlwLmdldChuYW1lKTtcclxuICAgICAgICBpZiAoIWxzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmluZFJlZFRpcC5zZXQobmFtZSwgW3JlZFRpcF0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChscy5pbmRleE9mKHJlZFRpcCkgPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGxzLnB1c2gocmVkVGlwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZWRUaXAudmlzaWJsZSA9IHRoaXMuZ2V0U3RhdHVzKG5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6Kej57uR57qi54K577yM5Y+q5piv6Kej57uR57qi54K55pi+56S677yM5pWw5o2u5bGC5LuN5Lya6K6h566XXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBcclxuICAgICAqIEBwYXJhbSByZWRUaXAgXHJcbiAgICAgKi9cclxuICAgIHVuQmluZFJlZChuYW1lOiBzdHJpbmcsIHJlZFRpcDogTGF5YS5TcHJpdGUpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbHMgPSB0aGlzLmJpbmRSZWRUaXAuZ2V0KG5hbWUpO1xyXG4gICAgICAgIGlmIChscykge1xyXG4gICAgICAgICAgICBscy5zcGxpY2UobHMuaW5kZXhPZihyZWRUaXApLCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bnuqLngrnoioLngrnnirbmgIFcclxuICAgICAqL1xyXG4gICAgZ2V0U3RhdHVzKGZsYWc6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCByZXMgPSAhIXRoaXMuc3RhdGVNYXAuZ2V0KGZsYWcpO1xyXG4gICAgICAgIGlmIChyZXMpIHJldHVybiB0cnVlO1xyXG4gICAgICAgIGxldCBtYXAgPSB0aGlzLmNhcmVNYXAuZ2V0KGZsYWcpO1xyXG4gICAgICAgIGlmIChtYXApIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgdCBvZiBtYXApIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgb2YgdFsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzBdLmdldFN0YXR1cyhrKSkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBzZXRSZWRUaXAoZmxhZzogc3RyaW5nLCBzdGF0ZTogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIGxldCBscyA9IHRoaXMuYmluZFJlZFRpcC5nZXQoZmxhZyk7XHJcbiAgICAgICAgaWYgKGxzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgb2YgbHMpIHtcclxuICAgICAgICAgICAgICAgIGkudmlzaWJsZSA9IHN0YXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKirlrZDoioLngrnnirbmgIHmlLnlj5jvvIzkuI3kvJrop6blj5HmlrDorqHnrpfvvIzmi7/nvJPlrZggKi9cclxuICAgIHByaXZhdGUgY2hpbGRyZW5DaGFuZ2UodGFyZ2VyRmxhZ3M6IHN0cmluZ1tdLCBzdGF0dXM6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBsZXQgdmFsdWU6IGJvb2xlYW4gPSBzdGF0dXM7XHJcbiAgICAgICAgZm9yIChsZXQgayBvZiB0YXJnZXJGbGFncykge1xyXG4gICAgICAgICAgICBzdGF0dXMgPSB2YWx1ZSB8fCB0aGlzLmdldFN0YXR1cyhrKTtcclxuICAgICAgICAgICAgLy/orr7nva7nuqLngrnlrp7kvotcclxuICAgICAgICAgICAgdGhpcy5zZXRSZWRUaXAoaywgc3RhdHVzKTtcclxuICAgICAgICAgICAgLy/pgJrnn6XniLboioLngrlcclxuICAgICAgICAgICAgdGhpcy5ldmVudChrLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKuacrOiKgueCueeKtuaAgeaUueWPmCAqL1xyXG4gICAgcHJpdmF0ZSBjaGFuZ2UoZmxhZzogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHN0YXR1cyA9IHRoaXMuY2FsY3VsYXRlKGZsYWcpO1xyXG4gICAgICAgIHRoaXMuc3RhdGVNYXAuc2V0KGZsYWcsIHN0YXR1cyk7XHJcbiAgICAgICAgc3RhdHVzID0gc3RhdHVzIHx8IHRoaXMuZ2V0U3RhdHVzKGZsYWcpXHJcbiAgICAgICAgLy/mm7TmlrDop4blm75cclxuICAgICAgICB0aGlzLnNldFJlZFRpcChmbGFnLCBzdGF0dXMpO1xyXG4gICAgICAgIC8v6YCa55+l54i26IqC54K5XHJcbiAgICAgICAgdGhpcy5ldmVudChmbGFnLCBzdGF0dXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKumHjeaWsOiuoeeulyAqL1xyXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGUoZmxhZzogc3RyaW5nKTogYm9vbGVhbiB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnJlZ2lzdGVyTWFwLmhhcyhmbGFnKSkge1xyXG4gICAgICAgICAgICBsZXQgW2ZuLCBjYWxsZXJdID0gdGhpcy5yZWdpc3Rlck1hcC5nZXQoZmxhZyk7XHJcbiAgICAgICAgICAgIGxldCByZXMgPSBmbi5jYWxsKGNhbGxlcik7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuc3RhdGVNYXAuc2V0KGZsYWcsIHJlcyk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGDnuqLngrnpkqnlrZAke2ZsYWd95pyq5re75Yqg5aSE55CG5Ye95pWwYCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUmVkVGlwQmFzZSBmcm9tIFwiLi9SZWRUaXBCYXNlXCI7XHJcbmltcG9ydCB7cmVkMSxyZWQyfSBmcm9tIFwiLi9SZWRUaXBUZXN0XCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVkVGlwTWdye1xyXG4gICAgcHJpdmF0ZSByZWRBcnJheTpSZWRUaXBCYXNlW10gPSBbXVxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluaXQoKTp2b2lke1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXIoKTtcclxuICAgICAgICBmb3IobGV0IGkgb2YgdGhpcy5yZWRBcnJheSl7XHJcbiAgICAgICAgICAgIGkuX2luaXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWdpc3RlcigpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5yZWRBcnJheSA9IFtcclxuICAgICAgICAgICAgcmVkMS5pbnMsXHJcbiAgICAgICAgICAgIHJlZDIuaW5zLFxyXG4gICAgICAgIF1cclxuXHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi4vdWkvbGF5YU1heFVJXCI7XHJcbmltcG9ydCBJVmlldyBmcm9tIFwiLi4vdmlldy9iYXNlL0lWaWV3XCI7XHJcbmltcG9ydCBSZWRUaXBCYXNlIGZyb20gXCIuL1JlZFRpcEJhc2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlZFRpcFRlc3QgZXh0ZW5kcyB1aS50ZXN0LlZpZXdUZXN0VUkgaW1wbGVtZW50cyBJVmlld3tcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmxvb3AoKVxyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKTp2b2lke1xyXG4gICAgICAgIGxldCBpbWcgPSBuZXcgTGF5YS5JbWFnZTtcclxuICAgICAgICBpbWcuc2tpbiA9IFwiY29tcC9pbWFnZS5wbmdcIlxyXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoaW1nKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjcmVhdGVWaWV3KHZpZXc6YW55KXtcclxuICAgICAgICBzdXBlci5jcmVhdGVWaWV3KHZpZXcpXHJcbiAgICAgICAgcmVkMS5pbnMuYmluZFJlZChcIkExXCIsdGhpcy5BMSlcclxuICAgICAgICByZWQxLmlucy5iaW5kUmVkKFwiQTJcIix0aGlzLkEyKVxyXG4gICAgICAgIHJlZDEuaW5zLmJpbmRSZWQoXCJBM1wiLHRoaXMuQTMpXHJcbiAgICAgICAgcmVkMi5pbnMuYmluZFJlZChcIkIxXCIsdGhpcy5CMSlcclxuICAgICAgICByZWQyLmlucy5iaW5kUmVkKFwiQjJcIix0aGlzLkIyKVxyXG4gICAgfVxyXG5cclxuICAgIGxvb3AoKXtcclxuXHJcbiAgICAgICAgTGF5YS50aW1lci5sb29wKDUwMCx0aGlzLCgpID0+IHtcclxuICAgICAgICAgICAgLy8gcmVkMS5pbnMuZW1pdChcIkEyXCIpXHJcbiAgICAgICAgICAgIC8vIHJlZDEuaW5zLmVtaXQoXCJBMVwiKVxyXG4gICAgICAgICAgICAvLyByZWQxLmlucy5lbWl0KFwiQTNcIilcclxuICAgICAgICAgICAgLy8gcmVkMi5pbnMuZW1pdChcIkIxXCIpXHJcbiAgICAgICAgICAgIC8vIHJlZDIuaW5zLmVtaXQoXCJCMlwiKVxyXG4gICAgICAgICAgICBUZXN0TURsLmlucy5ldmVudChcIlVQREFURV9JTkZPXCIpXHJcbiAgICAgICAgICAgIFRlc3RNRGwuaW5zLmV2ZW50KFwiVVBEQVRFX0xWXCIpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIHJlZDEgZXh0ZW5kcyBSZWRUaXBCYXNle1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpOnZvaWR7XHJcbiAgICAgICAgLy/nu5HlrppoYW5kbGXvvIzop6blj5HngrlcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyKFwiQTJcIix0aGlzLkEyLHRoaXMpKFwiVVBEQVRFX0lORk9cIixUZXN0TURsLmlucykoXCJVUERBVEVfTFZcIixUZXN0TURsLmlucylcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyKFwiQTNcIix0aGlzLkEzLHRoaXMpKFwiVVBEQVRFX0xWXCIsVGVzdE1EbC5pbnMpXHJcbiAgICAgICAgLy/mnoTlu7rlhbPlv4PliJfooahcclxuICAgICAgICB0aGlzLnRha2VjYXJlKHJlZDIuaW5zKS5iaW5kTmFtZShcIkEyXCIpLmNhcmUoXCJCMVwiLFwiQjJcIilcclxuICAgICAgICB0aGlzLnRha2VjYXJlKHJlZDIuaW5zKS5iaW5kTmFtZShcIkExXCIpLmNhcmUoXCJCMVwiLFwiQjJcIilcclxuICAgIH1cclxuICAgIEExKCl7XHJcbiAgICAgICAgbGV0IGEgPSAwO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7aSA8IDEwMDAwO2krKyl7XHJcbiAgICAgICAgICAgIGErKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgPiAwLjU7XHJcbiAgICB9XHJcblxyXG4gICAgQTIoKXtcclxuICAgICAgICBsZXQgYSA9IDA7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDtpIDwgMTAwMDA7aSsrKXtcclxuICAgICAgICAgICAgYSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSA+IDAuNTtcclxuICAgIH1cclxuXHJcbiAgICBBMygpe1xyXG4gICAgICAgIGxldCBhID0gMDtcclxuICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCAxMDAwMDtpKyspe1xyXG4gICAgICAgICAgICBhKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpID4gMC41O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgcmVkMiBleHRlbmRzIFJlZFRpcEJhc2V7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKClcclxuXHJcbiAgICB9XHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcihcIkIxXCIsdGhpcy5CMSx0aGlzKShcIlVQREFURV9MVlwiLFRlc3RNRGwuaW5zKVxyXG4gICAgICAgIHRoaXMucmVnaXN0ZXIoXCJCMlwiLHRoaXMuQjIsdGhpcykoXCJVUERBVEVfSU5GT1wiLFRlc3RNRGwuaW5zKVxyXG4gICAgfVxyXG4gICAgQjEoKXtcclxuICAgICAgICBsZXQgYSA9IDA7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDtpIDwgMTAwMDA7aSsrKXtcclxuICAgICAgICAgICAgYSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSA+IDAuNTtcclxuICAgIH1cclxuICAgIEIyKCl7XHJcbiAgICAgICAgbGV0IGEgPSAwO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7aSA8IDEwMDAwO2krKyl7XHJcbiAgICAgICAgICAgIGErKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgPiAwLjU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFRlc3RNRGwgZXh0ZW5kcyBMYXlhLkV2ZW50RGlzcGF0Y2hlcntcclxuICAgIHN0YXRpYyBnZXQgaW5zKCk6VGVzdE1EbHtcclxuICAgICAgICByZXR1cm4gVGVzdE1EbFtcIl9pbnNcIl0gfHwgKFRlc3RNRGxbXCJfaW5zXCJdID0gbmV3IFRlc3RNRGwpXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbiIsIi8qKlxyXG4gKiDlrZDlvLnohJrmnKzvvIzlrp7njrDlrZDlvLnpo57ooYzpgLvovpHlj4rlr7nosaHmsaDlm57mlLbmnLrliLZcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy/orr7nva7liJ3lp4vpgJ/luqZcclxuICAgICAgICB2YXIgcmlnOiBMYXlhLlJpZ2lkQm9keSA9IHRoaXMub3duZXIuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRCb2R5KTtcclxuICAgICAgICByaWcuc2V0VmVsb2NpdHkoeyB4OiAwLCB5OiAtMTAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25UcmlnZ2VyRW50ZXIob3RoZXI6IGFueSwgc2VsZjogYW55LCBjb250YWN0OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICAvL+WmguaenOiiq+eisOWIsO+8jOWImeenu+mZpOWtkOW8uVxyXG4gICAgICAgIHRoaXMub3duZXIucmVtb3ZlU2VsZigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIC8v5aaC5p6c5a2Q5by56LaF5Ye65bGP5bmV77yM5YiZ56e76Zmk5a2Q5by5XHJcbiAgICAgICAgaWYgKCh0aGlzLm93bmVyIGFzIExheWEuU3ByaXRlKS55IDwgLTEwKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy/lrZDlvLnooqvnp7vpmaTml7bvvIzlm57mlLblrZDlvLnliLDlr7nosaHmsaDvvIzmlrnkvr/kuIvmrKHlpI3nlKjvvIzlh4/lsJHlr7nosaHliJvlu7rlvIDplIBcclxuICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcImJ1bGxldFwiLCB0aGlzLm93bmVyKTtcclxuICAgIH1cclxufSIsImltcG9ydCBHYW1lVUkgZnJvbSBcIi4vR2FtZVVJXCI7XHJcbi8qKlxyXG4gKiDmjonokL3nm5LlrZDohJrmnKzvvIzlrp7njrDnm5LlrZDnorDmkp7lj4rlm57mlLbmtYHnqItcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyb3BCb3ggZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICAvKirnm5LlrZDnrYnnuqcgKi9cclxuICAgIGxldmVsOiBudW1iZXIgPSAxO1xyXG4gICAgLyoq562J57qn5paH5pys5a+56LGh5byV55SoICovXHJcbiAgICBwcml2YXRlIF90ZXh0OiBMYXlhLlRleHQ7XHJcbiAgICAvKirliJrkvZPlr7nosaHlvJXnlKggKi9cclxuICAgIHByaXZhdGUgX3JpZzogTGF5YS5SaWdpZEJvZHlcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLyoq6I635b6X57uE5Lu25byV55So77yM6YG/5YWN5q+P5qyh6I635Y+W57uE5Lu25bim5p2l5LiN5b+F6KaB55qE5p+l6K+i5byA6ZSAICovXHJcbiAgICAgICAgdGhpcy5fcmlnID0gdGhpcy5vd25lci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpO1xyXG4gICAgICAgIHRoaXMubGV2ZWwgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA1KSArIDE7XHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJsZXZlbFR4dFwiKSBhcyBMYXlhLlRleHQ7XHJcbiAgICAgICAgdGhpcy5fdGV4dC50ZXh0ID0gdGhpcy5sZXZlbCArIFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy/orqnmjIHnu63nm5LlrZDml4vovaxcclxuICAgICAgICAodGhpcy5vd25lciBhcyBMYXlhLlNwcml0ZSkucm90YXRpb24rKztcclxuICAgIH1cclxuXHJcbiAgICBvblRyaWdnZXJFbnRlcihvdGhlcjogYW55LCBzZWxmOiBhbnksIGNvbnRhY3Q6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHZhciBvd25lcjogTGF5YS5TcHJpdGUgPSB0aGlzLm93bmVyIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgIGlmIChvdGhlci5sYWJlbCA9PT0gXCJidXR0bGVcIikge1xyXG4gICAgICAgICAgICAvL+eisOaSnuWIsOWtkOW8ueWQju+8jOWinuWKoOenr+WIhu+8jOaSreaUvuWjsOmfs+eJueaViFxyXG4gICAgICAgICAgICBpZiAodGhpcy5sZXZlbCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWwtLTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RleHQuY2hhbmdlVGV4dCh0aGlzLmxldmVsICsgXCJcIik7XHJcbiAgICAgICAgICAgICAgICBvd25lci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpLnNldFZlbG9jaXR5KHsgeDogMCwgeTogLTEwIH0pO1xyXG4gICAgICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKFwic291bmQvaGl0LndhdlwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChvd25lci5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZWZmZWN0OiBMYXlhLkFuaW1hdGlvbiA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJlZmZlY3RcIiwgdGhpcy5jcmVhdGVFZmZlY3QsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdC5wb3Mob3duZXIueCwgb3duZXIueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3duZXIucGFyZW50LmFkZENoaWxkKGVmZmVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0LnBsYXkoMCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3duZXIucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICAgICAgICAgIExheWEuU291bmRNYW5hZ2VyLnBsYXlTb3VuZChcInNvdW5kL2Rlc3Ryb3kud2F2XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEdhbWVVSS5pbnN0YW5jZS5hZGRTY29yZSgxKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG90aGVyLmxhYmVsID09PSBcImdyb3VuZFwiKSB7XHJcbiAgICAgICAgICAgIC8v5Y+q6KaB5pyJ5LiA5Liq55uS5a2Q56Kw5Yiw5Zyw5p2/77yM5YiZ5YGc5q2i5ri45oiPXHJcbiAgICAgICAgICAgIG93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgR2FtZVVJLmluc3RhbmNlLnN0b3BHYW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKuS9v+eUqOWvueixoeaxoOWIm+W7uueIhueCuOWKqOeUuyAqL1xyXG4gICAgY3JlYXRlRWZmZWN0KCk6IExheWEuQW5pbWF0aW9uIHtcclxuICAgICAgICBsZXQgYW5pOiBMYXlhLkFuaW1hdGlvbiA9IG5ldyBMYXlhLkFuaW1hdGlvbigpO1xyXG4gICAgICAgIGFuaS5sb2FkQW5pbWF0aW9uKFwidGVzdC9UZXN0QW5pLmFuaVwiKTtcclxuICAgICAgICBhbmkub24oTGF5YS5FdmVudC5DT01QTEVURSwgbnVsbCwgcmVjb3Zlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gcmVjb3ZlcigpOiB2b2lkIHtcclxuICAgICAgICAgICAgYW5pLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJlZmZlY3RcIiwgYW5pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFuaTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy/nm5LlrZDooqvnp7vpmaTml7bvvIzlm57mlLbnm5LlrZDliLDlr7nosaHmsaDvvIzmlrnkvr/kuIvmrKHlpI3nlKjvvIzlh4/lsJHlr7nosaHliJvlu7rlvIDplIDjgIJcclxuICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcImRyb3BCb3hcIiwgdGhpcy5vd25lcik7XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IERyb3BCb3ggZnJvbSBcIi4vRHJvcEJveFwiO1xyXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuL0J1bGxldFwiO1xyXG4vKipcclxuICog5ri45oiP5o6n5Yi26ISa5pys44CC5a6a5LmJ5LqG5Yeg5LiqZHJvcEJveO+8jGJ1bGxldO+8jGNyZWF0ZUJveEludGVydmFs562J5Y+Y6YeP77yM6IO95aSf5ZyoSURF5pi+56S65Y+K6K6+572u6K+l5Y+Y6YePXHJcbiAqIOabtOWkmuexu+Wei+WumuS5ie+8jOivt+WPguiAg+WumOaWueaWh+aho1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbnRyb2wgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICAvKiogQHByb3Age25hbWU6ZHJvcEJveCx0aXBzOlwi5o6J6JC95a655Zmo6aKE5Yi25L2T5a+56LGhXCIsdHlwZTpQcmVmYWJ9Ki9cclxuICAgIGRyb3BCb3g6IExheWEuUHJlZmFiO1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmJ1bGxldCx0aXBzOlwi5a2Q5by56aKE5Yi25L2T5a+56LGhXCIsdHlwZTpQcmVmYWJ9Ki9cclxuICAgIGJ1bGxldDogTGF5YS5QcmVmYWI7XHJcbiAgICAvKiogQHByb3Age25hbWU6Y3JlYXRlQm94SW50ZXJ2YWwsdGlwczpcIumXtOmalOWkmuWwkeavq+enkuWIm+W7uuS4gOS4quS4i+i3jOeahOWuueWZqFwiLHR5cGU6aW50LGRlZmF1bHQ6MTAwMH0qL1xyXG4gICAgY3JlYXRlQm94SW50ZXJ2YWw6IG51bWJlciA9IDEwMDA7XHJcbiAgICAvKirlvIDlp4vml7bpl7QqL1xyXG4gICAgcHJpdmF0ZSBfdGltZTogbnVtYmVyID0gMDtcclxuICAgIC8qKuaYr+WQpuW3sue7j+W8gOWni+a4uOaIjyAqL1xyXG4gICAgcHJpdmF0ZSBfc3RhcnRlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgLyoq5a2Q5by55ZKM55uS5a2Q5omA5Zyo55qE5a655Zmo5a+56LGhICovXHJcbiAgICBwcml2YXRlIF9nYW1lQm94OiBMYXlhLlNwcml0ZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX3RpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMuX2dhbWVCb3ggPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiZ2FtZUJveFwiKSBhcyBMYXlhLlNwcml0ZTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUJveCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIC8v5q+P6Ze06ZqU5LiA5q615pe26Ze05Yib5bu65LiA5Liq55uS5a2QXHJcbiAgICAgICAgbGV0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgaWYgKG5vdyAtIHRoaXMuX3RpbWUgPiB0aGlzLmNyZWF0ZUJveEludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RpbWUgPSBub3c7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQm94KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUJveCgpOiB2b2lkIHtcclxuICAgICAgICAvL+S9v+eUqOWvueixoeaxoOWIm+W7uuebkuWtkFxyXG4gICAgICAgIGxldCBib3g6IExheWEuU3ByaXRlID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bihcImRyb3BCb3hcIiwgdGhpcy5kcm9wQm94LmNyZWF0ZSwgdGhpcy5kcm9wQm94KTtcclxuICAgICAgICBib3gucG9zKE1hdGgucmFuZG9tKCkgKiAoTGF5YS5zdGFnZS53aWR0aCAtIDEwMCksIC0xMDApO1xyXG4gICAgICAgIHRoaXMuX2dhbWVCb3guYWRkQ2hpbGQoYm94KTtcclxuICAgIH1cclxuXHJcbiAgICBvblN0YWdlQ2xpY2soZTogTGF5YS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8v5YGc5q2i5LqL5Lu25YaS5rOh77yM5o+Q6auY5oCn6IO977yM5b2T54S25Lmf5Y+v5Lul5LiN6KaBXHJcbiAgICAgICAgLy8gZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAvL+iInuWPsOiiq+eCueWHu+WQju+8jOS9v+eUqOWvueixoeaxoOWIm+W7uuWtkOW8uVxyXG4gICAgICAgIGxldCBmbHllcjogTGF5YS5TcHJpdGUgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiYnVsbGV0XCIsIHRoaXMuYnVsbGV0LmNyZWF0ZSwgdGhpcy5idWxsZXQpO1xyXG4gICAgICAgIGZseWVyLnBvcyhMYXlhLnN0YWdlLm1vdXNlWCwgTGF5YS5zdGFnZS5tb3VzZVkpO1xyXG4gICAgICAgIHRoaXMuX2dhbWVCb3guYWRkQ2hpbGQoZmx5ZXIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2xpY2tcIilcclxuICAgIH1cclxuXHJcbiAgICAvKirlvIDlp4vmuLjmiI/vvIzpgJrov4fmv4DmtLvmnKzohJrmnKzmlrnlvI/lvIDlp4vmuLjmiI8qL1xyXG4gICAgc3RhcnRHYW1lKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5fc3RhcnRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFydGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoq57uT5p2f5ri45oiP77yM6YCa6L+H6Z2e5r+A5rS75pys6ISa5pys5YGc5q2i5ri45oiPICovXHJcbiAgICBzdG9wR2FtZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9zdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVCb3hJbnRlcnZhbCA9IDEwMDA7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveC5yZW1vdmVDaGlsZHJlbigpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi8uLi91aS9sYXlhTWF4VUlcIjtcclxuaW1wb3J0IEdhbWVDb250cm9sIGZyb20gXCIuL0dhbWVDb250cm9sXCJcclxuLyoqXHJcbiAqIOacrOekuuS+i+mHh+eUqOmdnuiEmuacrOeahOaWueW8j+WunueOsO+8jOiAjOS9v+eUqOe7p+aJv+mhtemdouWfuuexu++8jOWunueOsOmhtemdoumAu+i+keOAguWcqElERemHjOmdouiuvue9ruWcuuaZr+eahFJ1bnRpbWXlsZ7mgKfljbPlj6/lkozlnLrmma/ov5vooYzlhbPogZRcclxuICog55u45q+U6ISa5pys5pa55byP77yM57un5om/5byP6aG16Z2i57G777yM5Y+v5Lul55u05o6l5L2/55So6aG16Z2i5a6a5LmJ55qE5bGe5oCn77yI6YCa6L+HSURF5YaFdmFy5bGe5oCn5a6a5LmJ77yJ77yM5q+U5aaCdGhpcy50aXBMYmxs77yMdGhpcy5zY29yZUxibO+8jOWFt+acieS7o+eggeaPkOekuuaViOaenFxyXG4gKiDlu7rorq7vvJrlpoLmnpzmmK/pobXpnaLnuqfnmoTpgLvovpHvvIzpnIDopoHpopHnuYHorr/pl67pobXpnaLlhoXlpJrkuKrlhYPntKDvvIzkvb/nlKjnu6fmib/lvI/lhpnms5XvvIzlpoLmnpzmmK/ni6znq4vlsI/mqKHlnZfvvIzlip/og73ljZXkuIDvvIzlu7rorq7nlKjohJrmnKzmlrnlvI/lrp7njrDvvIzmr5TlpoLlrZDlvLnohJrmnKzjgIJcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVVSSBleHRlbmRzIHVpLnRlc3QuVGVzdFNjZW5lVUkge1xyXG4gICAgLyoq6K6+572u5Y2V5L6L55qE5byV55So5pa55byP77yM5pa55L6/5YW25LuW57G75byV55SoICovXHJcbiAgICBzdGF0aWMgaW5zdGFuY2U6IEdhbWVVSTtcclxuICAgIC8qKuW9k+WJjea4uOaIj+enr+WIhuWtl+autSAqL1xyXG4gICAgcHJpdmF0ZSBfc2NvcmU6IG51bWJlcjtcclxuICAgIC8qKua4uOaIj+aOp+WItuiEmuacrOW8leeUqO+8jOmBv+WFjeavj+asoeiOt+WPlue7hOS7tuW4puadpeS4jeW/heimgeeahOaAp+iDveW8gOmUgCAqL1xyXG4gICAgcHJpdmF0ZSBfY29udHJvbDogR2FtZUNvbnRyb2w7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBHYW1lVUkuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgIC8v5YWz6Zet5aSa54K56Kem5o6n77yM5ZCm5YiZ5bCx5peg5pWM5LqGXHJcbiAgICAgICAgTGF5YS5Nb3VzZU1hbmFnZXIubXVsdGlUb3VjaEVuYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9jb250cm9sID0gdGhpcy5nZXRDb21wb25lbnQoR2FtZUNvbnRyb2wpO1xyXG4gICAgICAgIC8v54K55Ye75o+Q56S65paH5a2X77yM5byA5aeL5ri45oiPXHJcbiAgICAgICAgdGhpcy50aXBMYmxsLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMub25UaXBDbGljayk7XHJcbiAgICB9XHJcblxyXG4gICAgb25UaXBDbGljayhlOiBMYXlhLkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50aXBMYmxsLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9zY29yZSA9IDA7XHJcbiAgICAgICAgdGhpcy5zY29yZUxibC50ZXh0ID0gXCJcIjtcclxuICAgICAgICB0aGlzLl9jb250cm9sLnN0YXJ0R2FtZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKuWinuWKoOWIhuaVsCAqL1xyXG4gICAgYWRkU2NvcmUodmFsdWU6IG51bWJlciA9IDEpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9zY29yZSArPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnNjb3JlTGJsLmNoYW5nZVRleHQoXCLliIbmlbDvvJpcIiArIHRoaXMuX3Njb3JlKTtcclxuICAgICAgICAvL+maj+edgOWIhuaVsOi2iumrmO+8jOmavuW6puWinuWkp1xyXG4gICAgICAgIGlmICh0aGlzLl9jb250cm9sLmNyZWF0ZUJveEludGVydmFsID4gNjAwICYmIHRoaXMuX3Njb3JlICUgMjAgPT0gMCkgdGhpcy5fY29udHJvbC5jcmVhdGVCb3hJbnRlcnZhbCAtPSAyMDtcclxuICAgIH1cclxuXHJcbiAgICAvKirlgZzmraLmuLjmiI8gKi9cclxuICAgIHN0b3BHYW1lKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGlwTGJsbC52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRpcExibGwudGV4dCA9IFwi5ri45oiP57uT5p2f5LqG77yM54K55Ye75bGP5bmV6YeN5paw5byA5aeLXCI7XHJcbiAgICAgICAgdGhpcy5fY29udHJvbC5zdG9wR2FtZSgpO1xyXG4gICAgfVxyXG59IiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXG5pbXBvcnQgVmlldz1MYXlhLlZpZXc7XHJcbmltcG9ydCBEaWFsb2c9TGF5YS5EaWFsb2c7XHJcbmltcG9ydCBTY2VuZT1MYXlhLlNjZW5lO1xuZXhwb3J0IG1vZHVsZSB1aS50ZXN0IHtcclxuICAgIGV4cG9ydCBjbGFzcyBUZXN0U2NlbmVVSSBleHRlbmRzIExheWEuU2NlbmUge1xyXG5cdFx0cHVibGljIHNjb3JlTGJsOkxheWEuTGFiZWw7XG5cdFx0cHVibGljIHRpcExibGw6TGF5YS5MYWJlbDtcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcInRlc3QvVGVzdFNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGV4cG9ydCBjbGFzcyBWaWV3VGVzdFVJIGV4dGVuZHMgTGF5YS5WaWV3IHtcclxuXHRcdHB1YmxpYyBBMTpMYXlhLlJhZGlvO1xuXHRcdHB1YmxpYyBBMjpMYXlhLlJhZGlvO1xuXHRcdHB1YmxpYyBBMzpMYXlhLlJhZGlvO1xuXHRcdHB1YmxpYyBCMTpMYXlhLlJhZGlvO1xuXHRcdHB1YmxpYyBCMjpMYXlhLlJhZGlvO1xuICAgICAgICBwdWJsaWMgc3RhdGljICB1aVZpZXc6YW55ID17XCJ0eXBlXCI6XCJWaWV3XCIsXCJwcm9wc1wiOntcIndpZHRoXCI6MTEzNixcImhlaWdodFwiOjY0MH0sXCJjb21wSWRcIjoyLFwiY2hpbGRcIjpbe1widHlwZVwiOlwiUmFkaW9cIixcInByb3BzXCI6e1wieVwiOjEyNixcInhcIjoxNzAsXCJ2YXJcIjpcIkExXCIsXCJza2luXCI6XCJjb21wL3JhZGlvLnBuZ1wiLFwibGFiZWxcIjpcIkExXCJ9LFwiY29tcElkXCI6OH0se1widHlwZVwiOlwiUmFkaW9cIixcInByb3BzXCI6e1wieVwiOjE1NCxcInhcIjoxNzAsXCJ2YXJcIjpcIkEyXCIsXCJza2luXCI6XCJjb21wL3JhZGlvLnBuZ1wiLFwibGFiZWxcIjpcIkEyXCJ9LFwiY29tcElkXCI6OX0se1widHlwZVwiOlwiUmFkaW9cIixcInByb3BzXCI6e1wieVwiOjE5MCxcInhcIjoxNzAsXCJ2YXJcIjpcIkEzXCIsXCJza2luXCI6XCJjb21wL3JhZGlvLnBuZ1wiLFwibGFiZWxcIjpcIkEzXCJ9LFwiY29tcElkXCI6MTB9LHtcInR5cGVcIjpcIlJhZGlvXCIsXCJwcm9wc1wiOntcInlcIjoxMjYsXCJ4XCI6MjMzLFwidmFyXCI6XCJCMVwiLFwic2tpblwiOlwiY29tcC9yYWRpby5wbmdcIixcImxhYmVsXCI6XCJCMVwifSxcImNvbXBJZFwiOjExfSx7XCJ0eXBlXCI6XCJSYWRpb1wiLFwicHJvcHNcIjp7XCJ5XCI6MTU0LFwieFwiOjIzMyxcInZhclwiOlwiQjJcIixcInNraW5cIjpcImNvbXAvcmFkaW8ucG5nXCIsXCJsYWJlbFwiOlwiQjJcIn0sXCJjb21wSWRcIjoxM31dLFwibG9hZExpc3RcIjpbXCJjb21wL3JhZGlvLnBuZ1wiXSxcImxvYWRMaXN0M0RcIjpbXX07XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVZpZXcoVmlld1Rlc3RVSS51aVZpZXcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyIiwiZXhwb3J0IGNsYXNzIEFycmF5VXRpbHN7XHJcbiAgICBzdGF0aWMgZmluZDx2PihhcnI6dltdLGNiOihlbGU6dik9PmJvb2xlYW4pOnZ8bnVsbHtcclxuICAgICAgICBmb3IobGV0IGkgb2YgYXJyKXtcclxuICAgICAgICAgICAgaWYoY2IoaSkpIHJldHVybiBpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKirpmaTph40gKi9cclxuICAgIHN0YXRpYyB1bmlxdWUoYXJyOmFueVtdKTphbnlbXXtcclxuICAgICAgICBsZXQgbGVmdDpudW1iZXIgPSAwLHJpZ2h0Om51bWJlciA9IDA7XHJcbiAgICAgICAgd2hpbGUobGVmdCA8IGFyci5sZW5ndGgpe1xyXG4gICAgICAgICAgICByaWdodCA9IGFyci5sYXN0SW5kZXhPZihhcnJbbGVmdF0sbGVmdClcclxuICAgICAgICAgICAgd2hpbGUobGVmdCAhPSByaWdodCl7XHJcbiAgICAgICAgICAgICAgICBhcnIuc3BsaWNlKHJpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHJpZ2h0ID0gYXJyLmxhc3RJbmRleE9mKGFycltsZWZ0XSxsZWZ0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZWZ0Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnI7XHJcbiAgICB9XHJcblxyXG59IiwiXHJcblxyXG5leHBvcnQgY2xhc3MgTWFwU3RydWN0IDxLLCBWPntcclxuICAgIHByaXZhdGUga2V5czogS1tdID0gW11cclxuICAgIHByaXZhdGUgdmFsdWVzOiBWW10gPSBbXVxyXG4gICAgcHJpdmF0ZSBfc2l6ZSA9IDA7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmtleXMubGVuZ3RoID0gdGhpcy52YWx1ZXMubGVuZ3RoID0gdGhpcy5fc2l6ZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlKGtleTogSyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBpZHggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xyXG4gICAgICAgIGlmIChpZHggPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmtleXMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgdGhpcy52YWx1ZXMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgdGhpcy5fc2l6ZS0tO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZm9yRWFjaChjYWxsYmFja2ZuOiAodmFsdWU6IFYsIGtleTogSywgbWFwOiB0aGlzKSA9PiB2b2lkLCB0aGlzQXJnPzogYW55KTogdm9pZCB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMua2V5cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBjYWxsYmFja2ZuKHRoaXMudmFsdWVzW2ldLCB0aGlzLmtleXNbaV0sIHRoaXMpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0KGtleTogSyk6IFYgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGxldCBpZHggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1tpZHhdO1xyXG4gICAgfVxyXG4gICAgaGFzKGtleTogSyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmtleXMuaW5kZXhPZihrZXkpID49IDA7XHJcbiAgICB9XHJcbiAgICBzZXQoa2V5OiBLLCB2YWx1ZTogVik6IHRoaXMge1xyXG4gICAgICAgIGxldCBpZHggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xyXG4gICAgICAgIGlmIChpZHggPj0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlc1tpZHhdID0gdmFsdWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5rZXlzLnB1c2goa2V5KVxyXG4gICAgICAgICAgICB0aGlzLnZhbHVlcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5fc2l6ZSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIGdldCBzaXplKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3MSBleHRlbmRzIExheWEuVmlld3tcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKVxyXG4gICAgICAgIGxldCBsYWIgPSBuZXcgTGF5YS5MYWJlbFxyXG4gICAgICAgIGxhYi50ZXh0ID0gXCJoZWxsb1wiXHJcbiAgICAgICAgbGFiLmNvbG9yID0gXCIjRkYwMDAwXCJcclxuICAgICAgICB0aGlzLmFkZENoaWxkKGxhYik7XHJcbiAgICAgICAgbGV0IGltZyA9IG5ldyBMYXlhLkltYWdlXHJcbiAgICAgICAgaW1nLnNraW4gPSBcImNvbXAvaW1hZ2UucG5nXCIvL1widGVzdC9jMS5wbmdcIlxyXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoaW1nKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVmlldzIgZXh0ZW5kcyBMYXlhLlZpZXd7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgIH1cclxufSIsImltcG9ydCBSZWRUaXBUZXN0IGZyb20gXCIuLi8uLi9yZWRUaXAvUmVkVGlwVGVzdFwiO1xyXG5pbXBvcnQgSVZpZXcgZnJvbSBcIi4vSVZpZXdcIjtcclxuaW1wb3J0IFZpZXcxLCB7IFZpZXcyIH0gZnJvbSBcIi4uL1ZpZXcxXCI7XHJcbmxldCBpZDogbnVtYmVyID0gMTtcclxuY29uc3QgbWFwOiB7IFtrZXk6IG51bWJlcl06IFtuZXcgKCkgPT4gSVZpZXcsIHN0cmluZ1tdLCBzdHJpbmdbXSwgcGFuZWxMYXllcl0gfSA9IHt9O1xyXG5jb25zdCBwYW5lbEluc3RhbmNlTWFwOiB7IFtpZDogbnVtYmVyXTogSVZpZXcgfSA9IHt9O1xyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB2aWV3IOazqOWGjOmdouadv1xyXG4gKiBAcGFyYW0gZGVwZW5kdGVuY2VBdGxhcyDkvp3otZblm77pm4ZcclxuICogQHBhcmFtIGRlcGVuZHRlbmNlQ2ZncyDkvp3otZbphY3nva5cclxuICogQHJldHVybnMg6Z2i5p2/aWRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclBhbmVsKHZpZXc6IG5ldyAoKSA9PiBJVmlldywgbGF5ZXI6IHBhbmVsTGF5ZXIsIGRlcGVuZHRlbmNlQXRsYXM/OiBzdHJpbmdbXSwgZGVwZW5kdGVuY2VDZmdzPzogc3RyaW5nW10pOiBudW1iZXIge1xyXG4gICAgbGV0IGtleSA9IGlkKys7XHJcbiAgICBtYXBba2V5XSA9IFt2aWV3LCBkZXBlbmR0ZW5jZUF0bGFzLCBkZXBlbmR0ZW5jZUNmZ3MsIGxheWVyXTtcclxuICAgIHJldHVybiBrZXk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWNoZVBhbmVsKGlkOiBudW1iZXIsIHBhbmVsOiBJVmlldyk6IHZvaWQge1xyXG4gICAgcGFuZWxJbnN0YW5jZU1hcFtpZF0gPSBwYW5lbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUGFuZWwoaWQ6bnVtYmVyKTp2b2lke1xyXG4gICAgZGVsZXRlIHBhbmVsSW5zdGFuY2VNYXBbaWRdO1xyXG59XHJcblxyXG4vKirpnaLmnb/lrp7kvosgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhbmVsKGlkOiBudW1iZXIpOiBJVmlldyB8IG51bGwge1xyXG4gICAgcmV0dXJuIHBhbmVsSW5zdGFuY2VNYXBbaWRdXHJcbn1cclxuXHJcbi8qKumdouadv+mFjee9riAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFuZWxWbyhpZDogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gbWFwW2lkXTtcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZW51bSBwYW5lbExheWVyIHtcclxuICAgIGJhc2UsIG1pZGRsZSwgdG9wXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFBhbmVsUmVnaXN0ZXIge1xyXG4gICAgUEFORUwxID0gcmVnaXN0ZXJQYW5lbChSZWRUaXBUZXN0LCBwYW5lbExheWVyLmJhc2UsIFtcInJlcy9hdGxhcy9jb21wLmF0bGFzXCJdKSxcclxuICAgIFBBTkVMMiA9IHJlZ2lzdGVyUGFuZWwoVmlldzEscGFuZWxMYXllci5iYXNlLFtcInJlcy9hdGxhcy90ZXN0LmF0bGFzXCJdKSxcclxuICAgIFBBTkVMMyA9IHJlZ2lzdGVyUGFuZWwoVmlldzIscGFuZWxMYXllci5iYXNlKVxyXG59XHJcbiIsImltcG9ydCBSZXNvdXJjZU1nciBmcm9tIFwiLi4vLi4vUmVzb3VyY2VNZ3JcIjtcclxuaW1wb3J0IElWaWV3IGZyb20gXCIuL0lWaWV3XCI7XHJcbmltcG9ydCB7IGNhY2hlUGFuZWwsIGdldFBhbmVsLCBnZXRQYW5lbFZvLCBwYW5lbExheWVyLCBQYW5lbFJlZ2lzdGVyLCBjbGVhclBhbmVsIH0gZnJvbSBcIi4vUGFuZWxSZWdpc3RlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlld01nciBleHRlbmRzIExheWEuRXZlbnREaXNwYXRjaGVyIHtcclxuICAgIHByaXZhdGUgcGFuZWxMYXllcjogTGF5YS5Cb3hcclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnM6IFZpZXdNZ3I7XHJcbiAgICBwcml2YXRlIGN1cnJlbnRQYW5lbE1hcDogeyBbbGF5ZXI6IG51bWJlcl06IG51bWJlciB9ID0ge307Ly/lkITkuKrlsYLnuqfmiZPlvIDnmoTpnaLmnb9cclxuICAgIHByaXZhdGUgY2FjaGVQYW5lbDogUGFuZWxSZWdpc3RlcltdID0gW107Ly/nvJPlrZjpnaLmnb9cclxuICAgIHJlYWRvbmx5IG1heENhY2hlTnVtOiBudW1iZXIgPSAwOy8v57yT5a2Y6aG16Z2i5pWw6YePXHJcbiAgICAvLyBwcml2YXRlIGhpc3RvcnlBcnI6IElWaWV3W10gPSBbXTtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZCh0aGlzLnBhbmVsTGF5ZXIgPSBuZXcgTGF5YS5Cb3gpXHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZ2V0IGlucygpOiBWaWV3TWdyIHtcclxuICAgICAgICByZXR1cm4gVmlld01nci5faW5zIHx8IChWaWV3TWdyLl9pbnMgPSBuZXcgVmlld01ncilcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaJk+W8gOmdouadv1xyXG4gICAgICogQHBhcmFtIGlkIOazqOWGjOmdouadv1xyXG4gICAgICogQHBhcmFtIGFyZ3Mg6Z2i5p2/b3BlbuaWueazleiwg+eUqOWPguaVsFxyXG4gICAgICovXHJcbiAgICBvcGVuUGFuZWwoaWQ6IFBhbmVsUmVnaXN0ZXIsIC4uLmFyZ3M6IGFueVtdKSB7XHJcbiAgICAgICAgbGV0IHZvID0gZ2V0UGFuZWxWbyhpZCk7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhbmVsTWFwW3ZvWzNdXSA9PT0gaWQpIHJldHVybjtcclxuICAgICAgICB0aGlzLmNsb3NlUGFuZWwodGhpcy5jdXJyZW50UGFuZWxNYXBbdm9bM11dKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQYW5lbE1hcFt2b1szXV0gPSBpZDtcclxuICAgICAgICBsZXQgZGVwZW5kZW5jZUFycjogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBpZiAodm9bMV0pIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgdXJsIG9mIHZvWzFdKSB7XHJcbiAgICAgICAgICAgICAgICBSZXNvdXJjZU1nci5pbnMuYWRkQXRsYXNSZWZyZW5jZSh1cmwpOy8v5re75Yqg5Zu+6ZuG5byV55So6K6h5pWwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVwZW5kZW5jZUFyciA9IGRlcGVuZGVuY2VBcnIuY29uY2F0KHZvWzFdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdm9bMl0gJiYgKGRlcGVuZGVuY2VBcnIgPSBkZXBlbmRlbmNlQXJyLmNvbmNhdCh2b1syXSkpO1xyXG4gICAgICAgIGlmIChkZXBlbmRlbmNlQXJyLmxlbmd0aClcclxuICAgICAgICAgICAgTGF5YS5sb2FkZXIubG9hZChkZXBlbmRlbmNlQXJyLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMubG9hZENvbXBsZXRlLCBbaWQsIC4uLmFyZ3NdKSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLmxvYWRDb21wbGV0ZShpZCwgLi4uYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlhbPpl63pnaLmnb9cclxuICAgICAqIEBwYXJhbSBpZCDms6jlhozpnaLmnb9pZFxyXG4gICAgICovXHJcbiAgICBjbG9zZVBhbmVsKGlkOiBQYW5lbFJlZ2lzdGVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFpZCkgcmV0dXJuO1xyXG4gICAgICAgIGxldCB2byA9IGdldFBhbmVsVm8oaWQpO1xyXG4gICAgICAgIGlmICghdm8pIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihg5pyq5rOo5YaM6Z2i5p2/OiR7aWR9YClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0aGlzLmNsZWFyUGFuZWxEZXBlbmRlbmNlKGlkKTtcclxuICAgICAgICAvL+WKoOWFpee8k+WtmOmYn+WIl1xyXG4gICAgICAgIGxldCBpZHggPSB0aGlzLmNhY2hlUGFuZWwuaW5kZXhPZihpZCk7XHJcbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FjaGVQYW5lbC5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYWNoZVBhbmVsLnB1c2goaWQpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBhbmVsTWFwW3ZvWzNdXSA9IG51bGw7XHJcbiAgICAgICAgbGV0IHBhbmVsID0gZ2V0UGFuZWwoaWQpO1xyXG4gICAgICAgIGlmIChwYW5lbCkge1xyXG4gICAgICAgICAgICBwYW5lbC5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgIHBhbmVsLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5bCd6K+V6ZSA5q+B6Z2i5p2/XHJcbiAgICAgKiBAcGFyYW0gY291bnQg6ZSA5q+B5pWw6YePXHJcbiAgICAgKi9cclxuICAgIHRyeURlc3RvcnlQYW5lbChjb3VudDogbnVtYmVyID0gMSk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmNhY2hlUGFuZWwubGVuZ3RoIDw9IHRoaXMubWF4Q2FjaGVOdW0pIHJldHVybjtcclxuICAgICAgICBsZXQgcGFuZWxzOiBQYW5lbFJlZ2lzdGVyW10gPSB0aGlzLmNhY2hlUGFuZWwuc3BsaWNlKDAsIHRoaXMuY2FjaGVQYW5lbC5sZW5ndGggLSB0aGlzLm1heENhY2hlTnVtIDw9IGNvdW50ID8gdGhpcy5jYWNoZVBhbmVsLmxlbmd0aCAtIHRoaXMubWF4Q2FjaGVOdW0gOiBjb3VudClcclxuICAgICAgICB3aGlsZSAocGFuZWxzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBsZXQgaWQ6IFBhbmVsUmVnaXN0ZXIgPSBwYW5lbHMucG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJQYW5lbERlcGVuZGVuY2UoaWQpO1xyXG4gICAgICAgICAgICBpZiAoZ2V0UGFuZWwoaWQpKVxyXG4gICAgICAgICAgICAgICAgZ2V0UGFuZWwoaWQpLmRlc3Ryb3kodHJ1ZSk7XHJcbiAgICAgICAgICAgIGNsZWFyUGFuZWwoaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNsZWFyUGFuZWxEZXBlbmRlbmNlKGlkOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBsZXQgdm8gPSBnZXRQYW5lbFZvKGlkKTtcclxuICAgICAgICBpZiAodm9bMV0pIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgayBvZiB2b1sxXSkge1xyXG4gICAgICAgICAgICAgICAgUmVzb3VyY2VNZ3IuaW5zLnJlbW92ZUF0bGFzUmVmcmVuY2UoaywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgbG9hZENvbXBsZXRlKGlkOiBudW1iZXIsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHBhbmVsID0gZ2V0UGFuZWwoaWQpO1xyXG4gICAgICAgIGlmICghcGFuZWwpIHtcclxuICAgICAgICAgICAgcGFuZWwgPSBuZXcgKGdldFBhbmVsVm8oaWQpWzBdKTtcclxuICAgICAgICAgICAgY2FjaGVQYW5lbChpZCwgcGFuZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYW5lbC5vcGVuKC4uLmFyZ3MpXHJcbiAgICAgICAgbGV0IHZvID0gZ2V0UGFuZWxWbyhpZCk7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhbmVsTWFwW3ZvWzNdXSA9PT0gaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbExheWVyLmFkZENoaWxkKHBhbmVsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXX0=
